(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function s(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=s(o);fetch(o.href,u)}})();function bT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ff={exports:{}},vr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function ET(){if(L_)return vr;L_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var h in o)h!=="key"&&(u[h]=o[h])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:f,ref:o!==void 0?o:null,props:u}}return vr.Fragment=e,vr.jsx=s,vr.jsxs=s,vr}var U_;function ST(){return U_||(U_=1,Ff.exports=ET()),Ff.exports}var S=ST(),Qf={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function TT(){if(z_)return de;z_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function v(T){return T===null||typeof T!="object"?null:(T=b&&T[b]||T["@@iterator"],typeof T=="function"?T:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,I={};function U(T,q,W){this.props=T,this.context=q,this.refs=I,this.updater=W||N}U.prototype.isReactComponent={},U.prototype.setState=function(T,q){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,q,"setState")},U.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function A(){}A.prototype=U.prototype;function L(T,q,W){this.props=T,this.context=q,this.refs=I,this.updater=W||N}var P=L.prototype=new A;P.constructor=L,w(P,U.prototype),P.isPureReactComponent=!0;var V=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},ne=Object.prototype.hasOwnProperty;function $(T,q,W,K,ie,Te){return W=Te.ref,{$$typeof:i,type:T,key:q,ref:W!==void 0?W:null,props:Te}}function G(T,q){return $(T.type,q,void 0,void 0,void 0,T.props)}function X(T){return typeof T=="object"&&T!==null&&T.$$typeof===i}function J(T){var q={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(W){return q[W]})}var ce=/\/+/g;function he(T,q){return typeof T=="object"&&T!==null&&T.key!=null?J(""+T.key):q.toString(36)}function Ge(){}function Ye(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Ge,Ge):(T.status="pending",T.then(function(q){T.status==="pending"&&(T.status="fulfilled",T.value=q)},function(q){T.status==="pending"&&(T.status="rejected",T.reason=q)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function qe(T,q,W,K,ie){var Te=typeof T;(Te==="undefined"||Te==="boolean")&&(T=null);var fe=!1;if(T===null)fe=!0;else switch(Te){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(T.$$typeof){case i:case e:fe=!0;break;case y:return fe=T._init,qe(fe(T._payload),q,W,K,ie)}}if(fe)return ie=ie(T),fe=K===""?"."+he(T,0):K,V(ie)?(W="",fe!=null&&(W=fe.replace(ce,"$&/")+"/"),qe(ie,q,W,"",function(Fn){return Fn})):ie!=null&&(X(ie)&&(ie=G(ie,W+(ie.key==null||T&&T.key===ie.key?"":(""+ie.key).replace(ce,"$&/")+"/")+fe)),q.push(ie)),1;fe=0;var Ot=K===""?".":K+":";if(V(T))for(var Pe=0;Pe<T.length;Pe++)K=T[Pe],Te=Ot+he(K,Pe),fe+=qe(K,q,W,Te,ie);else if(Pe=v(T),typeof Pe=="function")for(T=Pe.call(T),Pe=0;!(K=T.next()).done;)K=K.value,Te=Ot+he(K,Pe++),fe+=qe(K,q,W,Te,ie);else if(Te==="object"){if(typeof T.then=="function")return qe(Ye(T),q,W,K,ie);throw q=String(T),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.")}return fe}function z(T,q,W){if(T==null)return T;var K=[],ie=0;return qe(T,K,"","",function(Te){return q.call(W,Te,ie++)}),K}function Q(T){if(T._status===-1){var q=T._result;q=q(),q.then(function(W){(T._status===0||T._status===-1)&&(T._status=1,T._result=W)},function(W){(T._status===0||T._status===-1)&&(T._status=2,T._result=W)}),T._status===-1&&(T._status=0,T._result=q)}if(T._status===1)return T._result.default;throw T._result}var ee=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function Se(){}return de.Children={map:z,forEach:function(T,q,W){z(T,function(){q.apply(this,arguments)},W)},count:function(T){var q=0;return z(T,function(){q++}),q},toArray:function(T){return z(T,function(q){return q})||[]},only:function(T){if(!X(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},de.Component=U,de.Fragment=s,de.Profiler=o,de.PureComponent=L,de.StrictMode=r,de.Suspense=m,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,de.__COMPILER_RUNTIME={__proto__:null,c:function(T){return F.H.useMemoCache(T)}},de.cache=function(T){return function(){return T.apply(null,arguments)}},de.cloneElement=function(T,q,W){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var K=w({},T.props),ie=T.key,Te=void 0;if(q!=null)for(fe in q.ref!==void 0&&(Te=void 0),q.key!==void 0&&(ie=""+q.key),q)!ne.call(q,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&q.ref===void 0||(K[fe]=q[fe]);var fe=arguments.length-2;if(fe===1)K.children=W;else if(1<fe){for(var Ot=Array(fe),Pe=0;Pe<fe;Pe++)Ot[Pe]=arguments[Pe+2];K.children=Ot}return $(T.type,ie,void 0,void 0,Te,K)},de.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:u,_context:T},T},de.createElement=function(T,q,W){var K,ie={},Te=null;if(q!=null)for(K in q.key!==void 0&&(Te=""+q.key),q)ne.call(q,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ie[K]=q[K]);var fe=arguments.length-2;if(fe===1)ie.children=W;else if(1<fe){for(var Ot=Array(fe),Pe=0;Pe<fe;Pe++)Ot[Pe]=arguments[Pe+2];ie.children=Ot}if(T&&T.defaultProps)for(K in fe=T.defaultProps,fe)ie[K]===void 0&&(ie[K]=fe[K]);return $(T,Te,void 0,void 0,null,ie)},de.createRef=function(){return{current:null}},de.forwardRef=function(T){return{$$typeof:h,render:T}},de.isValidElement=X,de.lazy=function(T){return{$$typeof:y,_payload:{_status:-1,_result:T},_init:Q}},de.memo=function(T,q){return{$$typeof:p,type:T,compare:q===void 0?null:q}},de.startTransition=function(T){var q=F.T,W={};F.T=W;try{var K=T(),ie=F.S;ie!==null&&ie(W,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(Se,ee)}catch(Te){ee(Te)}finally{F.T=q}},de.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},de.use=function(T){return F.H.use(T)},de.useActionState=function(T,q,W){return F.H.useActionState(T,q,W)},de.useCallback=function(T,q){return F.H.useCallback(T,q)},de.useContext=function(T){return F.H.useContext(T)},de.useDebugValue=function(){},de.useDeferredValue=function(T,q){return F.H.useDeferredValue(T,q)},de.useEffect=function(T,q,W){var K=F.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(T,q)},de.useId=function(){return F.H.useId()},de.useImperativeHandle=function(T,q,W){return F.H.useImperativeHandle(T,q,W)},de.useInsertionEffect=function(T,q){return F.H.useInsertionEffect(T,q)},de.useLayoutEffect=function(T,q){return F.H.useLayoutEffect(T,q)},de.useMemo=function(T,q){return F.H.useMemo(T,q)},de.useOptimistic=function(T,q){return F.H.useOptimistic(T,q)},de.useReducer=function(T,q,W){return F.H.useReducer(T,q,W)},de.useRef=function(T){return F.H.useRef(T)},de.useState=function(T){return F.H.useState(T)},de.useSyncExternalStore=function(T,q,W){return F.H.useSyncExternalStore(T,q,W)},de.useTransition=function(){return F.H.useTransition()},de.version="19.1.0",de}var j_;function Bd(){return j_||(j_=1,Qf.exports=TT()),Qf.exports}var x=Bd();const je=bT(x);var Xf={exports:{}},br={},Kf={exports:{}},Wf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function CT(){return P_||(P_=1,function(i){function e(z,Q){var ee=z.length;z.push(Q);e:for(;0<ee;){var Se=ee-1>>>1,T=z[Se];if(0<o(T,Q))z[Se]=Q,z[ee]=T,ee=Se;else break e}}function s(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Q=z[0],ee=z.pop();if(ee!==Q){z[0]=ee;e:for(var Se=0,T=z.length,q=T>>>1;Se<q;){var W=2*(Se+1)-1,K=z[W],ie=W+1,Te=z[ie];if(0>o(K,ee))ie<T&&0>o(Te,K)?(z[Se]=Te,z[ie]=ee,Se=ie):(z[Se]=K,z[W]=ee,Se=W);else if(ie<T&&0>o(Te,ee))z[Se]=Te,z[ie]=ee,Se=ie;else break e}}return Q}function o(z,Q){var ee=z.sortIndex-Q.sortIndex;return ee!==0?ee:z.id-Q.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();i.unstable_now=function(){return f.now()-h}}var m=[],p=[],y=1,b=null,v=3,N=!1,w=!1,I=!1,U=!1,A=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function V(z){for(var Q=s(p);Q!==null;){if(Q.callback===null)r(p);else if(Q.startTime<=z)r(p),Q.sortIndex=Q.expirationTime,e(m,Q);else break;Q=s(p)}}function F(z){if(I=!1,V(z),!w)if(s(m)!==null)w=!0,ne||(ne=!0,he());else{var Q=s(p);Q!==null&&qe(F,Q.startTime-z)}}var ne=!1,$=-1,G=5,X=-1;function J(){return U?!0:!(i.unstable_now()-X<G)}function ce(){if(U=!1,ne){var z=i.unstable_now();X=z;var Q=!0;try{e:{w=!1,I&&(I=!1,L($),$=-1),N=!0;var ee=v;try{t:{for(V(z),b=s(m);b!==null&&!(b.expirationTime>z&&J());){var Se=b.callback;if(typeof Se=="function"){b.callback=null,v=b.priorityLevel;var T=Se(b.expirationTime<=z);if(z=i.unstable_now(),typeof T=="function"){b.callback=T,V(z),Q=!0;break t}b===s(m)&&r(m),V(z)}else r(m);b=s(m)}if(b!==null)Q=!0;else{var q=s(p);q!==null&&qe(F,q.startTime-z),Q=!1}}break e}finally{b=null,v=ee,N=!1}Q=void 0}}finally{Q?he():ne=!1}}}var he;if(typeof P=="function")he=function(){P(ce)};else if(typeof MessageChannel<"u"){var Ge=new MessageChannel,Ye=Ge.port2;Ge.port1.onmessage=ce,he=function(){Ye.postMessage(null)}}else he=function(){A(ce,0)};function qe(z,Q){$=A(function(){z(i.unstable_now())},Q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return v},i.unstable_next=function(z){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var ee=v;v=Q;try{return z()}finally{v=ee}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(z,Q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ee=v;v=z;try{return Q()}finally{v=ee}},i.unstable_scheduleCallback=function(z,Q,ee){var Se=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?Se+ee:Se):ee=Se,z){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=ee+T,z={id:y++,callback:Q,priorityLevel:z,startTime:ee,expirationTime:T,sortIndex:-1},ee>Se?(z.sortIndex=ee,e(p,z),s(m)===null&&z===s(p)&&(I?(L($),$=-1):I=!0,qe(F,ee-Se))):(z.sortIndex=T,e(m,z),w||N||(w=!0,ne||(ne=!0,he()))),z},i.unstable_shouldYield=J,i.unstable_wrapCallback=function(z){var Q=v;return function(){var ee=v;v=Q;try{return z.apply(this,arguments)}finally{v=ee}}}}(Wf)),Wf}var H_;function wT(){return H_||(H_=1,Kf.exports=CT()),Kf.exports}var $f={exports:{}},pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function RT(){if(B_)return pt;B_=1;var i=Bd();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(e(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:m,containerInfo:p,implementation:y}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pt.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(m,p,null,y)},pt.flushSync=function(m){var p=f.T,y=r.p;try{if(f.T=null,r.p=2,m)return m()}finally{f.T=p,r.p=y,r.d.f()}},pt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(m,p))},pt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},pt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,b=h(y,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?r.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:N}):y==="script"&&r.d.X(m,{crossOrigin:b,integrity:v,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},pt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(m)},pt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,b=h(y,p.crossOrigin);r.d.L(m,y,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},pt.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=h(p.as,p.crossOrigin);r.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(m)},pt.requestFormReset=function(m){r.d.r(m)},pt.unstable_batchedUpdates=function(m,p){return m(p)},pt.useFormState=function(m,p,y){return f.H.useFormState(m,p,y)},pt.useFormStatus=function(){return f.H.useHostTransitionStatus()},pt.version="19.1.0",pt}var q_;function NT(){if(q_)return $f.exports;q_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),$f.exports=RT(),$f.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function xT(){if(V_)return br;V_=1;var i=wT(),e=Bd(),s=NT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(u(t)!==t)throw Error(r(188))}function m(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===a)return h(c),t;if(d===l)return h(c),n;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=d;else{for(var g=!1,_=c.child;_;){if(_===a){g=!0,a=c,l=d;break}if(_===l){g=!0,l=c,a=d;break}_=_.sibling}if(!g){for(_=d.child;_;){if(_===a){g=!0,a=d,l=c;break}if(_===l){g=!0,l=d,a=c;break}_=_.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function p(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=p(t),n!==null)return n;t=t.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),P=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function he(t){return t===null||typeof t!="object"?null:(t=ce&&t[ce]||t["@@iterator"],typeof t=="function"?t:null)}var Ge=Symbol.for("react.client.reference");function Ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ge?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case w:return"Fragment";case U:return"Profiler";case I:return"StrictMode";case F:return"Suspense";case ne:return"SuspenseList";case X:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case P:return(t.displayName||"Context")+".Provider";case L:return(t._context.displayName||"Context")+".Consumer";case V:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return n=t.displayName||null,n!==null?n:Ye(t.type)||"Memo";case G:n=t._payload,t=t._init;try{return Ye(t(n))}catch{}}return null}var qe=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},Se=[],T=-1;function q(t){return{current:t}}function W(t){0>T||(t.current=Se[T],Se[T]=null,T--)}function K(t,n){T++,Se[T]=t.current,t.current=n}var ie=q(null),Te=q(null),fe=q(null),Ot=q(null);function Pe(t,n){switch(K(fe,n),K(Te,t),K(ie,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?u_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=u_(n),t=c_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ie),K(ie,t)}function Fn(){W(ie),W(Te),W(fe)}function Ou(t){t.memoizedState!==null&&K(Ot,t);var n=ie.current,a=c_(n,t.type);n!==a&&(K(Te,t),K(ie,a))}function fl(t){Te.current===t&&(W(ie),W(Te)),Ot.current===t&&(W(Ot),mr._currentValue=ee)}var Du=Object.prototype.hasOwnProperty,Iu=i.unstable_scheduleCallback,Mu=i.unstable_cancelCallback,Zb=i.unstable_shouldYield,Jb=i.unstable_requestPaint,on=i.unstable_now,eE=i.unstable_getCurrentPriorityLevel,Vh=i.unstable_ImmediatePriority,Gh=i.unstable_UserBlockingPriority,dl=i.unstable_NormalPriority,tE=i.unstable_LowPriority,Yh=i.unstable_IdlePriority,nE=i.log,iE=i.unstable_setDisableYieldValue,Sa=null,Dt=null;function Qn(t){if(typeof nE=="function"&&iE(t),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(Sa,t)}catch{}}var It=Math.clz32?Math.clz32:rE,sE=Math.log,aE=Math.LN2;function rE(t){return t>>>=0,t===0?32:31-(sE(t)/aE|0)|0}var hl=256,ml=4194304;function ki(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pl(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,d=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var _=l&134217727;return _!==0?(l=_&~d,l!==0?c=ki(l):(g&=_,g!==0?c=ki(g):a||(a=_&~t,a!==0&&(c=ki(a))))):(_=l&~d,_!==0?c=ki(_):g!==0?c=ki(g):a||(a=l&~t,a!==0&&(c=ki(a)))),c===0?0:n!==0&&n!==c&&(n&d)===0&&(d=c&-c,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:c}function Ta(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function lE(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fh(){var t=hl;return hl<<=1,(hl&4194048)===0&&(hl=256),t}function Qh(){var t=ml;return ml<<=1,(ml&62914560)===0&&(ml=4194304),t}function ku(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Ca(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function oE(t,n,a,l,c,d){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var _=t.entanglements,E=t.expirationTimes,D=t.hiddenUpdates;for(a=g&~a;0<a;){var j=31-It(a),B=1<<j;_[j]=0,E[j]=-1;var M=D[j];if(M!==null)for(D[j]=null,j=0;j<M.length;j++){var k=M[j];k!==null&&(k.lane&=-536870913)}a&=~B}l!==0&&Xh(t,l,0),d!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=d&~(g&~n))}function Xh(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-It(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Kh(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-It(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Lu(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Uu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Wh(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:A_(t.type))}function uE(t,n){var a=Q.p;try{return Q.p=t,n()}finally{Q.p=a}}var Xn=Math.random().toString(36).slice(2),ht="__reactFiber$"+Xn,St="__reactProps$"+Xn,ps="__reactContainer$"+Xn,zu="__reactEvents$"+Xn,cE="__reactListeners$"+Xn,fE="__reactHandles$"+Xn,$h="__reactResources$"+Xn,wa="__reactMarker$"+Xn;function ju(t){delete t[ht],delete t[St],delete t[zu],delete t[cE],delete t[fE]}function gs(t){var n=t[ht];if(n)return n;for(var a=t.parentNode;a;){if(n=a[ps]||a[ht]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=m_(t);t!==null;){if(a=t[ht])return a;t=m_(t)}return n}t=a,a=t.parentNode}return null}function _s(t){if(t=t[ht]||t[ps]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ra(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function ys(t){var n=t[$h];return n||(n=t[$h]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function it(t){t[wa]=!0}var Zh=new Set,Jh={};function Li(t,n){vs(t,n),vs(t+"Capture",n)}function vs(t,n){for(Jh[t]=n,t=0;t<n.length;t++)Zh.add(n[t])}var dE=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),em={},tm={};function hE(t){return Du.call(tm,t)?!0:Du.call(em,t)?!1:dE.test(t)?tm[t]=!0:(em[t]=!0,!1)}function gl(t,n,a){if(hE(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function _l(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function yn(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Pu,nm;function bs(t){if(Pu===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Pu=n&&n[1]||"",nm=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pu+t+nm}var Hu=!1;function Bu(t,n){if(!t||Hu)return"";Hu=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var B=function(){throw Error()};if(Object.defineProperty(B.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(B,[])}catch(k){var M=k}Reflect.construct(t,[],B)}else{try{B.call()}catch(k){M=k}t.call(B.prototype)}}else{try{throw Error()}catch(k){M=k}(B=t())&&typeof B.catch=="function"&&B.catch(function(){})}}catch(k){if(k&&M&&typeof k.stack=="string")return[k.stack,M.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),g=d[0],_=d[1];if(g&&_){var E=g.split(`
`),D=_.split(`
`);for(c=l=0;l<E.length&&!E[l].includes("DetermineComponentFrameRoot");)l++;for(;c<D.length&&!D[c].includes("DetermineComponentFrameRoot");)c++;if(l===E.length||c===D.length)for(l=E.length-1,c=D.length-1;1<=l&&0<=c&&E[l]!==D[c];)c--;for(;1<=l&&0<=c;l--,c--)if(E[l]!==D[c]){if(l!==1||c!==1)do if(l--,c--,0>c||E[l]!==D[c]){var j=`
`+E[l].replace(" at new "," at ");return t.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",t.displayName)),j}while(1<=l&&0<=c);break}}}finally{Hu=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?bs(a):""}function mE(t){switch(t.tag){case 26:case 27:case 5:return bs(t.type);case 16:return bs("Lazy");case 13:return bs("Suspense");case 19:return bs("SuspenseList");case 0:case 15:return Bu(t.type,!1);case 11:return Bu(t.type.render,!1);case 1:return Bu(t.type,!0);case 31:return bs("Activity");default:return""}}function im(t){try{var n="";do n+=mE(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sm(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function pE(t){var n=sm(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,d=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){l=""+g,d.call(this,g)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(g){l=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function yl(t){t._valueTracker||(t._valueTracker=pE(t))}function am(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=sm(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function vl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var gE=/[\n"\\]/g;function Bt(t){return t.replace(gE,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function qu(t,n,a,l,c,d,g,_){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ht(n)):t.value!==""+Ht(n)&&(t.value=""+Ht(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?Vu(t,g,Ht(n)):a!=null?Vu(t,g,Ht(a)):l!=null&&t.removeAttribute("value"),c==null&&d!=null&&(t.defaultChecked=!!d),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+Ht(_):t.removeAttribute("name")}function rm(t,n,a,l,c,d,g,_){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+Ht(a):"",n=n!=null?""+Ht(n):a,_||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=_?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g)}function Vu(t,n,a){n==="number"&&vl(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Es(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ht(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function lm(t,n,a){if(n!=null&&(n=""+Ht(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ht(a):""}function om(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(qe(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ht(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Ss(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var _E=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function um(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||_E.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function cm(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&um(t,c,l)}else for(var d in n)n.hasOwnProperty(d)&&um(t,d,n[d])}function Gu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bl(t){return vE.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Yu=null;function Fu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ts=null,Cs=null;function fm(t){var n=_s(t);if(n&&(t=n.stateNode)){var a=t[St]||null;e:switch(t=n.stateNode,n.type){case"input":if(qu(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Bt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[St]||null;if(!c)throw Error(r(90));qu(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&am(l)}break e;case"textarea":lm(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Es(t,!!a.multiple,n,!1)}}}var Qu=!1;function dm(t,n,a){if(Qu)return t(n,a);Qu=!0;try{var l=t(n);return l}finally{if(Qu=!1,(Ts!==null||Cs!==null)&&(ao(),Ts&&(n=Ts,t=Cs,Cs=Ts=null,fm(n),t)))for(n=0;n<t.length;n++)fm(t[n])}}function Na(t,n){var a=t.stateNode;if(a===null)return null;var l=a[St]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xu=!1;if(vn)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){Xu=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{Xu=!1}var Kn=null,Ku=null,El=null;function hm(){if(El)return El;var t,n=Ku,a=n.length,l,c="value"in Kn?Kn.value:Kn.textContent,d=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[d-l];l++);return El=c.slice(t,1<l?1-l:void 0)}function Sl(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Tl(){return!0}function mm(){return!1}function Tt(t){function n(a,l,c,d,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(a=t[_],this[_]=a?a(d):d[_]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Tl:mm,this.isPropagationStopped=mm,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=Tt(Ui),Aa=y({},Ui,{view:0,detail:0}),bE=Tt(Aa),Wu,$u,Oa,wl=y({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ju,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oa&&(Oa&&t.type==="mousemove"?(Wu=t.screenX-Oa.screenX,$u=t.screenY-Oa.screenY):$u=Wu=0,Oa=t),Wu)},movementY:function(t){return"movementY"in t?t.movementY:$u}}),pm=Tt(wl),EE=y({},wl,{dataTransfer:0}),SE=Tt(EE),TE=y({},Aa,{relatedTarget:0}),Zu=Tt(TE),CE=y({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),wE=Tt(CE),RE=y({},Ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),NE=Tt(RE),xE=y({},Ui,{data:0}),gm=Tt(xE),AE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IE(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=DE[t])?!!n[t]:!1}function Ju(){return IE}var ME=y({},Aa,{key:function(t){if(t.key){var n=AE[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Sl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?OE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ju,charCode:function(t){return t.type==="keypress"?Sl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kE=Tt(ME),LE=y({},wl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_m=Tt(LE),UE=y({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ju}),zE=Tt(UE),jE=y({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),PE=Tt(jE),HE=y({},wl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BE=Tt(HE),qE=y({},Ui,{newState:0,oldState:0}),VE=Tt(qE),GE=[9,13,27,32],ec=vn&&"CompositionEvent"in window,Da=null;vn&&"documentMode"in document&&(Da=document.documentMode);var YE=vn&&"TextEvent"in window&&!Da,ym=vn&&(!ec||Da&&8<Da&&11>=Da),vm=" ",bm=!1;function Em(t,n){switch(t){case"keyup":return GE.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ws=!1;function FE(t,n){switch(t){case"compositionend":return Sm(n);case"keypress":return n.which!==32?null:(bm=!0,vm);case"textInput":return t=n.data,t===vm&&bm?null:t;default:return null}}function QE(t,n){if(ws)return t==="compositionend"||!ec&&Em(t,n)?(t=hm(),El=Ku=Kn=null,ws=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ym&&n.locale!=="ko"?null:n.data;default:return null}}var XE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!XE[t.type]:n==="textarea"}function Cm(t,n,a,l){Ts?Cs?Cs.push(l):Cs=[l]:Ts=l,n=fo(n,"onChange"),0<n.length&&(a=new Cl("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ia=null,Ma=null;function KE(t){s_(t,0)}function Rl(t){var n=Ra(t);if(am(n))return t}function wm(t,n){if(t==="change")return n}var Rm=!1;if(vn){var tc;if(vn){var nc="oninput"in document;if(!nc){var Nm=document.createElement("div");Nm.setAttribute("oninput","return;"),nc=typeof Nm.oninput=="function"}tc=nc}else tc=!1;Rm=tc&&(!document.documentMode||9<document.documentMode)}function xm(){Ia&&(Ia.detachEvent("onpropertychange",Am),Ma=Ia=null)}function Am(t){if(t.propertyName==="value"&&Rl(Ma)){var n=[];Cm(n,Ma,t,Fu(t)),dm(KE,n)}}function WE(t,n,a){t==="focusin"?(xm(),Ia=n,Ma=a,Ia.attachEvent("onpropertychange",Am)):t==="focusout"&&xm()}function $E(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rl(Ma)}function ZE(t,n){if(t==="click")return Rl(n)}function JE(t,n){if(t==="input"||t==="change")return Rl(n)}function eS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Mt=typeof Object.is=="function"?Object.is:eS;function ka(t,n){if(Mt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Du.call(n,c)||!Mt(t[c],n[c]))return!1}return!0}function Om(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dm(t,n){var a=Om(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Om(a)}}function Im(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Im(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Mm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=vl(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=vl(t.document)}return n}function ic(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var tS=vn&&"documentMode"in document&&11>=document.documentMode,Rs=null,sc=null,La=null,ac=!1;function km(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ac||Rs==null||Rs!==vl(l)||(l=Rs,"selectionStart"in l&&ic(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),La&&ka(La,l)||(La=l,l=fo(sc,"onSelect"),0<l.length&&(n=new Cl("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Rs)))}function zi(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ns={animationend:zi("Animation","AnimationEnd"),animationiteration:zi("Animation","AnimationIteration"),animationstart:zi("Animation","AnimationStart"),transitionrun:zi("Transition","TransitionRun"),transitionstart:zi("Transition","TransitionStart"),transitioncancel:zi("Transition","TransitionCancel"),transitionend:zi("Transition","TransitionEnd")},rc={},Lm={};vn&&(Lm=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function ji(t){if(rc[t])return rc[t];if(!Ns[t])return t;var n=Ns[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Lm)return rc[t]=n[a];return t}var Um=ji("animationend"),zm=ji("animationiteration"),jm=ji("animationstart"),nS=ji("transitionrun"),iS=ji("transitionstart"),sS=ji("transitioncancel"),Pm=ji("transitionend"),Hm=new Map,lc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lc.push("scrollEnd");function $t(t,n){Hm.set(t,n),Li(n,[t])}var Bm=new WeakMap;function qt(t,n){if(typeof t=="object"&&t!==null){var a=Bm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:im(n)},Bm.set(t,n),n)}return{value:t,source:n,stack:im(n)}}var Vt=[],xs=0,oc=0;function Nl(){for(var t=xs,n=oc=xs=0;n<t;){var a=Vt[n];Vt[n++]=null;var l=Vt[n];Vt[n++]=null;var c=Vt[n];Vt[n++]=null;var d=Vt[n];if(Vt[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}d!==0&&qm(a,c,d)}}function xl(t,n,a,l){Vt[xs++]=t,Vt[xs++]=n,Vt[xs++]=a,Vt[xs++]=l,oc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function uc(t,n,a,l){return xl(t,n,a,l),Al(t)}function As(t,n){return xl(t,null,null,n),Al(t)}function qm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(c=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,c&&n!==null&&(c=31-It(a),t=d.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),d):null}function Al(t){if(50<rr)throw rr=0,gf=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Os={};function aS(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(t,n,a,l){return new aS(t,n,a,l)}function cc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function bn(t,n){var a=t.alternate;return a===null?(a=kt(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Vm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ol(t,n,a,l,c,d){var g=0;if(l=t,typeof t=="function")cc(t)&&(g=1);else if(typeof t=="string")g=lT(t,a,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case X:return t=kt(31,a,n,c),t.elementType=X,t.lanes=d,t;case w:return Pi(a.children,c,d,n);case I:g=8,c|=24;break;case U:return t=kt(12,a,n,c|2),t.elementType=U,t.lanes=d,t;case F:return t=kt(13,a,n,c),t.elementType=F,t.lanes=d,t;case ne:return t=kt(19,a,n,c),t.elementType=ne,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:case P:g=10;break e;case L:g=9;break e;case V:g=11;break e;case $:g=14;break e;case G:g=16,l=null;break e}g=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=kt(g,a,n,c),n.elementType=t,n.type=l,n.lanes=d,n}function Pi(t,n,a,l){return t=kt(7,t,l,n),t.lanes=a,t}function fc(t,n,a){return t=kt(6,t,null,n),t.lanes=a,t}function dc(t,n,a){return n=kt(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ds=[],Is=0,Dl=null,Il=0,Gt=[],Yt=0,Hi=null,En=1,Sn="";function Bi(t,n){Ds[Is++]=Il,Ds[Is++]=Dl,Dl=t,Il=n}function Gm(t,n,a){Gt[Yt++]=En,Gt[Yt++]=Sn,Gt[Yt++]=Hi,Hi=t;var l=En;t=Sn;var c=32-It(l)-1;l&=~(1<<c),a+=1;var d=32-It(n)+c;if(30<d){var g=c-c%5;d=(l&(1<<g)-1).toString(32),l>>=g,c-=g,En=1<<32-It(n)+c|a<<c|l,Sn=d+t}else En=1<<d|a<<c|l,Sn=t}function hc(t){t.return!==null&&(Bi(t,1),Gm(t,1,0))}function mc(t){for(;t===Dl;)Dl=Ds[--Is],Ds[Is]=null,Il=Ds[--Is],Ds[Is]=null;for(;t===Hi;)Hi=Gt[--Yt],Gt[Yt]=null,Sn=Gt[--Yt],Gt[Yt]=null,En=Gt[--Yt],Gt[Yt]=null}var _t=null,Fe=null,Re=!1,qi=null,un=!1,pc=Error(r(519));function Vi(t){var n=Error(r(418,""));throw ja(qt(n,t)),pc}function Ym(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ht]=t,n[St]=l,a){case"dialog":ye("cancel",n),ye("close",n);break;case"iframe":case"object":case"embed":ye("load",n);break;case"video":case"audio":for(a=0;a<or.length;a++)ye(or[a],n);break;case"source":ye("error",n);break;case"img":case"image":case"link":ye("error",n),ye("load",n);break;case"details":ye("toggle",n);break;case"input":ye("invalid",n),rm(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),yl(n);break;case"select":ye("invalid",n);break;case"textarea":ye("invalid",n),om(n,l.value,l.defaultValue,l.children),yl(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||o_(n.textContent,a)?(l.popover!=null&&(ye("beforetoggle",n),ye("toggle",n)),l.onScroll!=null&&ye("scroll",n),l.onScrollEnd!=null&&ye("scrollend",n),l.onClick!=null&&(n.onclick=ho),n=!0):n=!1,n||Vi(t)}function Fm(t){for(_t=t.return;_t;)switch(_t.tag){case 5:case 13:un=!1;return;case 27:case 3:un=!0;return;default:_t=_t.return}}function Ua(t){if(t!==_t)return!1;if(!Re)return Fm(t),Re=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||If(t.type,t.memoizedProps)),a=!a),a&&Fe&&Vi(t),Fm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){Fe=Jt(t.nextSibling);break e}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}Fe=null}}else n===27?(n=Fe,fi(t.type)?(t=Uf,Uf=null,Fe=t):Fe=n):Fe=_t?Jt(t.stateNode.nextSibling):null;return!0}function za(){Fe=_t=null,Re=!1}function Qm(){var t=qi;return t!==null&&(Rt===null?Rt=t:Rt.push.apply(Rt,t),qi=null),t}function ja(t){qi===null?qi=[t]:qi.push(t)}var gc=q(null),Gi=null,Tn=null;function Wn(t,n,a){K(gc,n._currentValue),n._currentValue=a}function Cn(t){t._currentValue=gc.current,W(gc)}function _c(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function yc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var d=c.dependencies;if(d!==null){var g=c.child;d=d.firstContext;e:for(;d!==null;){var _=d;d=c;for(var E=0;E<n.length;E++)if(_.context===n[E]){d.lanes|=a,_=d.alternate,_!==null&&(_.lanes|=a),_c(d.return,a,t),l||(g=null);break e}d=_.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(r(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),_c(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Pa(t,n,a,l){t=null;for(var c=n,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var _=c.type;Mt(c.pendingProps.value,g.value)||(t!==null?t.push(_):t=[_])}}else if(c===Ot.current){if(g=c.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(mr):t=[mr])}c=c.return}t!==null&&yc(n,t,a,l),n.flags|=262144}function Ml(t){for(t=t.firstContext;t!==null;){if(!Mt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yi(t){Gi=t,Tn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function mt(t){return Xm(Gi,t)}function kl(t,n){return Gi===null&&Yi(t),Xm(t,n)}function Xm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Tn===null){if(t===null)throw Error(r(308));Tn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Tn=Tn.next=n;return a}var rS=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},lS=i.unstable_scheduleCallback,oS=i.unstable_NormalPriority,Je={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vc(){return{controller:new rS,data:new Map,refCount:0}}function Ha(t){t.refCount--,t.refCount===0&&lS(oS,function(){t.controller.abort()})}var Ba=null,bc=0,Ms=0,ks=null;function uS(t,n){if(Ba===null){var a=Ba=[];bc=0,Ms=Tf(),ks={status:"pending",value:void 0,then:function(l){a.push(l)}}}return bc++,n.then(Km,Km),n}function Km(){if(--bc===0&&Ba!==null){ks!==null&&(ks.status="fulfilled");var t=Ba;Ba=null,Ms=0,ks=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function cS(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Wm=z.S;z.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&uS(t,n),Wm!==null&&Wm(t,n)};var Fi=q(null);function Ec(){var t=Fi.current;return t!==null?t:Le.pooledCache}function Ll(t,n){n===null?K(Fi,Fi.current):K(Fi,n.pool)}function $m(){var t=Ec();return t===null?null:{parent:Je._currentValue,pool:t}}var qa=Error(r(460)),Zm=Error(r(474)),Ul=Error(r(542)),Sc={then:function(){}};function Jm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zl(){}function ep(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(zl,zl),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,np(t),t;default:if(typeof n.status=="string")n.then(zl,zl);else{if(t=Le,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,np(t),t}throw Va=n,qa}}var Va=null;function tp(){if(Va===null)throw Error(r(459));var t=Va;return Va=null,t}function np(t){if(t===qa||t===Ul)throw Error(r(483))}var $n=!1;function Tc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Zn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Jn(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ne&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Al(t),qm(t,null,a),n}return xl(t,l,n,a),Al(t)}function Ga(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Kh(t,a)}}function wc(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?c=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?c=d=n:d=d.next=n}else c=d=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Rc=!1;function Ya(){if(Rc){var t=ks;if(t!==null)throw t}}function Fa(t,n,a,l){Rc=!1;var c=t.updateQueue;$n=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,_=c.shared.pending;if(_!==null){c.shared.pending=null;var E=_,D=E.next;E.next=null,g===null?d=D:g.next=D,g=E;var j=t.alternate;j!==null&&(j=j.updateQueue,_=j.lastBaseUpdate,_!==g&&(_===null?j.firstBaseUpdate=D:_.next=D,j.lastBaseUpdate=E))}if(d!==null){var B=c.baseState;g=0,j=D=E=null,_=d;do{var M=_.lane&-536870913,k=M!==_.lane;if(k?(Ee&M)===M:(l&M)===M){M!==0&&M===Ms&&(Rc=!0),j!==null&&(j=j.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var le=t,se=_;M=n;var De=a;switch(se.tag){case 1:if(le=se.payload,typeof le=="function"){B=le.call(De,B,M);break e}B=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=se.payload,M=typeof le=="function"?le.call(De,B,M):le,M==null)break e;B=y({},B,M);break e;case 2:$n=!0}}M=_.callback,M!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[M]:k.push(M))}else k={lane:M,tag:_.tag,payload:_.payload,callback:_.callback,next:null},j===null?(D=j=k,E=B):j=j.next=k,g|=M;if(_=_.next,_===null){if(_=c.shared.pending,_===null)break;k=_,_=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);j===null&&(E=B),c.baseState=E,c.firstBaseUpdate=D,c.lastBaseUpdate=j,d===null&&(c.shared.lanes=0),li|=g,t.lanes=g,t.memoizedState=B}}function ip(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function sp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ip(a[t],n)}var Ls=q(null),jl=q(0);function ap(t,n){t=Dn,K(jl,t),K(Ls,n),Dn=t|n.baseLanes}function Nc(){K(jl,Dn),K(Ls,Ls.current)}function xc(){Dn=jl.current,W(Ls),W(jl)}var ei=0,me=null,Ae=null,$e=null,Pl=!1,Us=!1,Qi=!1,Hl=0,Qa=0,zs=null,fS=0;function Ke(){throw Error(r(321))}function Ac(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!Mt(t[a],n[a]))return!1;return!0}function Oc(t,n,a,l,c,d){return ei=d,me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,z.H=t===null||t.memoizedState===null?qp:Vp,Qi=!1,d=a(l,c),Qi=!1,Us&&(d=lp(n,a,l,c)),rp(t),d}function rp(t){z.H=Fl;var n=Ae!==null&&Ae.next!==null;if(ei=0,$e=Ae=me=null,Pl=!1,Qa=0,zs=null,n)throw Error(r(300));t===null||st||(t=t.dependencies,t!==null&&Ml(t)&&(st=!0))}function lp(t,n,a,l){me=t;var c=0;do{if(Us&&(zs=null),Qa=0,Us=!1,25<=c)throw Error(r(301));if(c+=1,$e=Ae=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}z.H=yS,d=n(a,l)}while(Us);return d}function dS(){var t=z.H,n=t.useState()[0];return n=typeof n.then=="function"?Xa(n):n,t=t.useState()[0],(Ae!==null?Ae.memoizedState:null)!==t&&(me.flags|=1024),n}function Dc(){var t=Hl!==0;return Hl=0,t}function Ic(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Mc(t){if(Pl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Pl=!1}ei=0,$e=Ae=me=null,Us=!1,Qa=Hl=0,zs=null}function Ct(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?me.memoizedState=$e=t:$e=$e.next=t,$e}function Ze(){if(Ae===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=Ae.next;var n=$e===null?me.memoizedState:$e.next;if(n!==null)$e=n,Ae=t;else{if(t===null)throw me.alternate===null?Error(r(467)):Error(r(310));Ae=t,t={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},$e===null?me.memoizedState=$e=t:$e=$e.next=t}return $e}function kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xa(t){var n=Qa;return Qa+=1,zs===null&&(zs=[]),t=ep(zs,t,n),n=me,($e===null?n.memoizedState:$e.next)===null&&(n=n.alternate,z.H=n===null||n.memoizedState===null?qp:Vp),t}function Bl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Xa(t);if(t.$$typeof===P)return mt(t)}throw Error(r(438,String(t)))}function Lc(t){var n=null,a=me.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=kc(),me.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=J;return n.index++,a}function wn(t,n){return typeof n=="function"?n(t):n}function ql(t){var n=Ze();return Uc(n,Ae,t)}function Uc(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,d=l.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}n.baseQueue=c=d,l.pending=null}if(d=t.baseState,c===null)t.memoizedState=d;else{n=c.next;var _=g=null,E=null,D=n,j=!1;do{var B=D.lane&-536870913;if(B!==D.lane?(Ee&B)===B:(ei&B)===B){var M=D.revertLane;if(M===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),B===Ms&&(j=!0);else if((ei&M)===M){D=D.next,M===Ms&&(j=!0);continue}else B={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},E===null?(_=E=B,g=d):E=E.next=B,me.lanes|=M,li|=M;B=D.action,Qi&&a(d,B),d=D.hasEagerState?D.eagerState:a(d,B)}else M={lane:B,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},E===null?(_=E=M,g=d):E=E.next=M,me.lanes|=B,li|=B;D=D.next}while(D!==null&&D!==n);if(E===null?g=d:E.next=_,!Mt(d,t.memoizedState)&&(st=!0,j&&(a=ks,a!==null)))throw a;t.memoizedState=d,t.baseState=g,t.baseQueue=E,l.lastRenderedState=d}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function zc(t){var n=Ze(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,d=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do d=t(d,g.action),g=g.next;while(g!==c);Mt(d,n.memoizedState)||(st=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function op(t,n,a){var l=me,c=Ze(),d=Re;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!Mt((Ae||c).memoizedState,a);g&&(c.memoizedState=a,st=!0),c=c.queue;var _=fp.bind(null,l,c,t);if(Ka(2048,8,_,[t]),c.getSnapshot!==n||g||$e!==null&&$e.memoizedState.tag&1){if(l.flags|=2048,js(9,Vl(),cp.bind(null,l,c,a,n),null),Le===null)throw Error(r(349));d||(ei&124)!==0||up(l,n,a)}return a}function up(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=me.updateQueue,n===null?(n=kc(),me.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function cp(t,n,a,l){n.value=a,n.getSnapshot=l,dp(n)&&hp(t)}function fp(t,n,a){return a(function(){dp(n)&&hp(t)})}function dp(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!Mt(t,a)}catch{return!0}}function hp(t){var n=As(t,2);n!==null&&Pt(n,t,2)}function jc(t){var n=Ct();if(typeof t=="function"){var a=t;if(t=a(),Qi){Qn(!0);try{a()}finally{Qn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:t},n}function mp(t,n,a,l){return t.baseState=a,Uc(t,Ae,typeof l=="function"?l:wn)}function hS(t,n,a,l,c){if(Yl(t))throw Error(r(485));if(t=n.action,t!==null){var d={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};z.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,pp(n,d)):(d.next=a.next,n.pending=a.next=d)}}function pp(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var d=z.T,g={};z.T=g;try{var _=a(c,l),E=z.S;E!==null&&E(g,_),gp(t,n,_)}catch(D){Pc(t,n,D)}finally{z.T=d}}else try{d=a(c,l),gp(t,n,d)}catch(D){Pc(t,n,D)}}function gp(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){_p(t,n,l)},function(l){return Pc(t,n,l)}):_p(t,n,a)}function _p(t,n,a){n.status="fulfilled",n.value=a,yp(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,pp(t,a)))}function Pc(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,yp(n),n=n.next;while(n!==l)}t.action=null}function yp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function vp(t,n){return n}function bp(t,n){if(Re){var a=Le.formState;if(a!==null){e:{var l=me;if(Re){if(Fe){t:{for(var c=Fe,d=un;c.nodeType!==8;){if(!d){c=null;break t}if(c=Jt(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Fe=Jt(c.nextSibling),l=c.data==="F!";break e}}Vi(l)}l=!1}l&&(n=a[0])}}return a=Ct(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vp,lastRenderedState:n},a.queue=l,a=Pp.bind(null,me,l),l.dispatch=a,l=jc(!1),d=Gc.bind(null,me,!1,l.queue),l=Ct(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=hS.bind(null,me,c,d,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function Ep(t){var n=Ze();return Sp(n,Ae,t)}function Sp(t,n,a){if(n=Uc(t,n,vp)[0],t=ql(wn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Xa(n)}catch(g){throw g===qa?Ul:g}else l=n;n=Ze();var c=n.queue,d=c.dispatch;return a!==n.memoizedState&&(me.flags|=2048,js(9,Vl(),mS.bind(null,c,a),null)),[l,d,t]}function mS(t,n){t.action=n}function Tp(t){var n=Ze(),a=Ae;if(a!==null)return Sp(n,a,t);Ze(),n=n.memoizedState,a=Ze();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function js(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=me.updateQueue,n===null&&(n=kc(),me.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Vl(){return{destroy:void 0,resource:void 0}}function Cp(){return Ze().memoizedState}function Gl(t,n,a,l){var c=Ct();l=l===void 0?null:l,me.flags|=t,c.memoizedState=js(1|n,Vl(),a,l)}function Ka(t,n,a,l){var c=Ze();l=l===void 0?null:l;var d=c.memoizedState.inst;Ae!==null&&l!==null&&Ac(l,Ae.memoizedState.deps)?c.memoizedState=js(n,d,a,l):(me.flags|=t,c.memoizedState=js(1|n,d,a,l))}function wp(t,n){Gl(8390656,8,t,n)}function Rp(t,n){Ka(2048,8,t,n)}function Np(t,n){return Ka(4,2,t,n)}function xp(t,n){return Ka(4,4,t,n)}function Ap(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Op(t,n,a){a=a!=null?a.concat([t]):null,Ka(4,4,Ap.bind(null,n,t),a)}function Hc(){}function Dp(t,n){var a=Ze();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Ac(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Ip(t,n){var a=Ze();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Ac(n,l[1]))return l[0];if(l=t(),Qi){Qn(!0);try{t()}finally{Qn(!1)}}return a.memoizedState=[l,n],l}function Bc(t,n,a){return a===void 0||(ei&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Lg(),me.lanes|=t,li|=t,a)}function Mp(t,n,a,l){return Mt(a,n)?a:Ls.current!==null?(t=Bc(t,a,l),Mt(t,n)||(st=!0),t):(ei&42)===0?(st=!0,t.memoizedState=a):(t=Lg(),me.lanes|=t,li|=t,n)}function kp(t,n,a,l,c){var d=Q.p;Q.p=d!==0&&8>d?d:8;var g=z.T,_={};z.T=_,Gc(t,!1,n,a);try{var E=c(),D=z.S;if(D!==null&&D(_,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var j=cS(E,l);Wa(t,n,j,jt(t))}else Wa(t,n,l,jt(t))}catch(B){Wa(t,n,{then:function(){},status:"rejected",reason:B},jt())}finally{Q.p=d,z.T=g}}function pS(){}function qc(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=Lp(t).queue;kp(t,c,n,ee,a===null?pS:function(){return Up(t),a(l)})}function Lp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:ee},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Up(t){var n=Lp(t).next.queue;Wa(t,n,{},jt())}function Vc(){return mt(mr)}function zp(){return Ze().memoizedState}function jp(){return Ze().memoizedState}function gS(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=jt();t=Zn(a);var l=Jn(n,t,a);l!==null&&(Pt(l,n,a),Ga(l,n,a)),n={cache:vc()},t.payload=n;return}n=n.return}}function _S(t,n,a){var l=jt();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Yl(t)?Hp(n,a):(a=uc(t,n,a,l),a!==null&&(Pt(a,t,l),Bp(a,n,l)))}function Pp(t,n,a){var l=jt();Wa(t,n,a,l)}function Wa(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yl(t))Hp(n,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var g=n.lastRenderedState,_=d(g,a);if(c.hasEagerState=!0,c.eagerState=_,Mt(_,g))return xl(t,n,c,0),Le===null&&Nl(),!1}catch{}finally{}if(a=uc(t,n,c,l),a!==null)return Pt(a,t,l),Bp(a,n,l),!0}return!1}function Gc(t,n,a,l){if(l={lane:2,revertLane:Tf(),action:l,hasEagerState:!1,eagerState:null,next:null},Yl(t)){if(n)throw Error(r(479))}else n=uc(t,a,l,2),n!==null&&Pt(n,t,2)}function Yl(t){var n=t.alternate;return t===me||n!==null&&n===me}function Hp(t,n){Us=Pl=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Bp(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Kh(t,a)}}var Fl={readContext:mt,use:Bl,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke},qp={readContext:mt,use:Bl,useCallback:function(t,n){return Ct().memoizedState=[t,n===void 0?null:n],t},useContext:mt,useEffect:wp,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Gl(4194308,4,Ap.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Gl(4194308,4,t,n)},useInsertionEffect:function(t,n){Gl(4,2,t,n)},useMemo:function(t,n){var a=Ct();n=n===void 0?null:n;var l=t();if(Qi){Qn(!0);try{t()}finally{Qn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=Ct();if(a!==void 0){var c=a(n);if(Qi){Qn(!0);try{a(n)}finally{Qn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=_S.bind(null,me,t),[l.memoizedState,t]},useRef:function(t){var n=Ct();return t={current:t},n.memoizedState=t},useState:function(t){t=jc(t);var n=t.queue,a=Pp.bind(null,me,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Hc,useDeferredValue:function(t,n){var a=Ct();return Bc(a,t,n)},useTransition:function(){var t=jc(!1);return t=kp.bind(null,me,t.queue,!0,!1),Ct().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=me,c=Ct();if(Re){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Le===null)throw Error(r(349));(Ee&124)!==0||up(l,n,a)}c.memoizedState=a;var d={value:a,getSnapshot:n};return c.queue=d,wp(fp.bind(null,l,d,t),[t]),l.flags|=2048,js(9,Vl(),cp.bind(null,l,d,a,n),null),a},useId:function(){var t=Ct(),n=Le.identifierPrefix;if(Re){var a=Sn,l=En;a=(l&~(1<<32-It(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=Hl++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=fS++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Vc,useFormState:bp,useActionState:bp,useOptimistic:function(t){var n=Ct();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Gc.bind(null,me,!0,a),a.dispatch=n,[t,n]},useMemoCache:Lc,useCacheRefresh:function(){return Ct().memoizedState=gS.bind(null,me)}},Vp={readContext:mt,use:Bl,useCallback:Dp,useContext:mt,useEffect:Rp,useImperativeHandle:Op,useInsertionEffect:Np,useLayoutEffect:xp,useMemo:Ip,useReducer:ql,useRef:Cp,useState:function(){return ql(wn)},useDebugValue:Hc,useDeferredValue:function(t,n){var a=Ze();return Mp(a,Ae.memoizedState,t,n)},useTransition:function(){var t=ql(wn)[0],n=Ze().memoizedState;return[typeof t=="boolean"?t:Xa(t),n]},useSyncExternalStore:op,useId:zp,useHostTransitionStatus:Vc,useFormState:Ep,useActionState:Ep,useOptimistic:function(t,n){var a=Ze();return mp(a,Ae,t,n)},useMemoCache:Lc,useCacheRefresh:jp},yS={readContext:mt,use:Bl,useCallback:Dp,useContext:mt,useEffect:Rp,useImperativeHandle:Op,useInsertionEffect:Np,useLayoutEffect:xp,useMemo:Ip,useReducer:zc,useRef:Cp,useState:function(){return zc(wn)},useDebugValue:Hc,useDeferredValue:function(t,n){var a=Ze();return Ae===null?Bc(a,t,n):Mp(a,Ae.memoizedState,t,n)},useTransition:function(){var t=zc(wn)[0],n=Ze().memoizedState;return[typeof t=="boolean"?t:Xa(t),n]},useSyncExternalStore:op,useId:zp,useHostTransitionStatus:Vc,useFormState:Tp,useActionState:Tp,useOptimistic:function(t,n){var a=Ze();return Ae!==null?mp(a,Ae,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Lc,useCacheRefresh:jp},Ps=null,$a=0;function Ql(t){var n=$a;return $a+=1,Ps===null&&(Ps=[]),ep(Ps,t,n)}function Za(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Xl(t,n){throw n.$$typeof===b?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Gp(t){var n=t._init;return n(t._payload)}function Yp(t){function n(R,C){if(t){var O=R.deletions;O===null?(R.deletions=[C],R.flags|=16):O.push(C)}}function a(R,C){if(!t)return null;for(;C!==null;)n(R,C),C=C.sibling;return null}function l(R){for(var C=new Map;R!==null;)R.key!==null?C.set(R.key,R):C.set(R.index,R),R=R.sibling;return C}function c(R,C){return R=bn(R,C),R.index=0,R.sibling=null,R}function d(R,C,O){return R.index=O,t?(O=R.alternate,O!==null?(O=O.index,O<C?(R.flags|=67108866,C):O):(R.flags|=67108866,C)):(R.flags|=1048576,C)}function g(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function _(R,C,O,H){return C===null||C.tag!==6?(C=fc(O,R.mode,H),C.return=R,C):(C=c(C,O),C.return=R,C)}function E(R,C,O,H){var Z=O.type;return Z===w?j(R,C,O.props.children,H,O.key):C!==null&&(C.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===G&&Gp(Z)===C.type)?(C=c(C,O.props),Za(C,O),C.return=R,C):(C=Ol(O.type,O.key,O.props,null,R.mode,H),Za(C,O),C.return=R,C)}function D(R,C,O,H){return C===null||C.tag!==4||C.stateNode.containerInfo!==O.containerInfo||C.stateNode.implementation!==O.implementation?(C=dc(O,R.mode,H),C.return=R,C):(C=c(C,O.children||[]),C.return=R,C)}function j(R,C,O,H,Z){return C===null||C.tag!==7?(C=Pi(O,R.mode,H,Z),C.return=R,C):(C=c(C,O),C.return=R,C)}function B(R,C,O){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=fc(""+C,R.mode,O),C.return=R,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case v:return O=Ol(C.type,C.key,C.props,null,R.mode,O),Za(O,C),O.return=R,O;case N:return C=dc(C,R.mode,O),C.return=R,C;case G:var H=C._init;return C=H(C._payload),B(R,C,O)}if(qe(C)||he(C))return C=Pi(C,R.mode,O,null),C.return=R,C;if(typeof C.then=="function")return B(R,Ql(C),O);if(C.$$typeof===P)return B(R,kl(R,C),O);Xl(R,C)}return null}function M(R,C,O,H){var Z=C!==null?C.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return Z!==null?null:_(R,C,""+O,H);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case v:return O.key===Z?E(R,C,O,H):null;case N:return O.key===Z?D(R,C,O,H):null;case G:return Z=O._init,O=Z(O._payload),M(R,C,O,H)}if(qe(O)||he(O))return Z!==null?null:j(R,C,O,H,null);if(typeof O.then=="function")return M(R,C,Ql(O),H);if(O.$$typeof===P)return M(R,C,kl(R,O),H);Xl(R,O)}return null}function k(R,C,O,H,Z){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return R=R.get(O)||null,_(C,R,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case v:return R=R.get(H.key===null?O:H.key)||null,E(C,R,H,Z);case N:return R=R.get(H.key===null?O:H.key)||null,D(C,R,H,Z);case G:var pe=H._init;return H=pe(H._payload),k(R,C,O,H,Z)}if(qe(H)||he(H))return R=R.get(O)||null,j(C,R,H,Z,null);if(typeof H.then=="function")return k(R,C,O,Ql(H),Z);if(H.$$typeof===P)return k(R,C,O,kl(C,H),Z);Xl(C,H)}return null}function le(R,C,O,H){for(var Z=null,pe=null,te=C,ae=C=0,rt=null;te!==null&&ae<O.length;ae++){te.index>ae?(rt=te,te=null):rt=te.sibling;var Ce=M(R,te,O[ae],H);if(Ce===null){te===null&&(te=rt);break}t&&te&&Ce.alternate===null&&n(R,te),C=d(Ce,C,ae),pe===null?Z=Ce:pe.sibling=Ce,pe=Ce,te=rt}if(ae===O.length)return a(R,te),Re&&Bi(R,ae),Z;if(te===null){for(;ae<O.length;ae++)te=B(R,O[ae],H),te!==null&&(C=d(te,C,ae),pe===null?Z=te:pe.sibling=te,pe=te);return Re&&Bi(R,ae),Z}for(te=l(te);ae<O.length;ae++)rt=k(te,R,ae,O[ae],H),rt!==null&&(t&&rt.alternate!==null&&te.delete(rt.key===null?ae:rt.key),C=d(rt,C,ae),pe===null?Z=rt:pe.sibling=rt,pe=rt);return t&&te.forEach(function(gi){return n(R,gi)}),Re&&Bi(R,ae),Z}function se(R,C,O,H){if(O==null)throw Error(r(151));for(var Z=null,pe=null,te=C,ae=C=0,rt=null,Ce=O.next();te!==null&&!Ce.done;ae++,Ce=O.next()){te.index>ae?(rt=te,te=null):rt=te.sibling;var gi=M(R,te,Ce.value,H);if(gi===null){te===null&&(te=rt);break}t&&te&&gi.alternate===null&&n(R,te),C=d(gi,C,ae),pe===null?Z=gi:pe.sibling=gi,pe=gi,te=rt}if(Ce.done)return a(R,te),Re&&Bi(R,ae),Z;if(te===null){for(;!Ce.done;ae++,Ce=O.next())Ce=B(R,Ce.value,H),Ce!==null&&(C=d(Ce,C,ae),pe===null?Z=Ce:pe.sibling=Ce,pe=Ce);return Re&&Bi(R,ae),Z}for(te=l(te);!Ce.done;ae++,Ce=O.next())Ce=k(te,R,ae,Ce.value,H),Ce!==null&&(t&&Ce.alternate!==null&&te.delete(Ce.key===null?ae:Ce.key),C=d(Ce,C,ae),pe===null?Z=Ce:pe.sibling=Ce,pe=Ce);return t&&te.forEach(function(vT){return n(R,vT)}),Re&&Bi(R,ae),Z}function De(R,C,O,H){if(typeof O=="object"&&O!==null&&O.type===w&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case v:e:{for(var Z=O.key;C!==null;){if(C.key===Z){if(Z=O.type,Z===w){if(C.tag===7){a(R,C.sibling),H=c(C,O.props.children),H.return=R,R=H;break e}}else if(C.elementType===Z||typeof Z=="object"&&Z!==null&&Z.$$typeof===G&&Gp(Z)===C.type){a(R,C.sibling),H=c(C,O.props),Za(H,O),H.return=R,R=H;break e}a(R,C);break}else n(R,C);C=C.sibling}O.type===w?(H=Pi(O.props.children,R.mode,H,O.key),H.return=R,R=H):(H=Ol(O.type,O.key,O.props,null,R.mode,H),Za(H,O),H.return=R,R=H)}return g(R);case N:e:{for(Z=O.key;C!==null;){if(C.key===Z)if(C.tag===4&&C.stateNode.containerInfo===O.containerInfo&&C.stateNode.implementation===O.implementation){a(R,C.sibling),H=c(C,O.children||[]),H.return=R,R=H;break e}else{a(R,C);break}else n(R,C);C=C.sibling}H=dc(O,R.mode,H),H.return=R,R=H}return g(R);case G:return Z=O._init,O=Z(O._payload),De(R,C,O,H)}if(qe(O))return le(R,C,O,H);if(he(O)){if(Z=he(O),typeof Z!="function")throw Error(r(150));return O=Z.call(O),se(R,C,O,H)}if(typeof O.then=="function")return De(R,C,Ql(O),H);if(O.$$typeof===P)return De(R,C,kl(R,O),H);Xl(R,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,C!==null&&C.tag===6?(a(R,C.sibling),H=c(C,O),H.return=R,R=H):(a(R,C),H=fc(O,R.mode,H),H.return=R,R=H),g(R)):a(R,C)}return function(R,C,O,H){try{$a=0;var Z=De(R,C,O,H);return Ps=null,Z}catch(te){if(te===qa||te===Ul)throw te;var pe=kt(29,te,null,R.mode);return pe.lanes=H,pe.return=R,pe}finally{}}}var Hs=Yp(!0),Fp=Yp(!1),Ft=q(null),cn=null;function ti(t){var n=t.alternate;K(et,et.current&1),K(Ft,t),cn===null&&(n===null||Ls.current!==null||n.memoizedState!==null)&&(cn=t)}function Qp(t){if(t.tag===22){if(K(et,et.current),K(Ft,t),cn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(cn=t)}}else ni()}function ni(){K(et,et.current),K(Ft,Ft.current)}function Rn(t){W(Ft),cn===t&&(cn=null),W(et)}var et=q(0);function Kl(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Lf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Yc(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:y({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Fc={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=jt(),c=Zn(l);c.payload=n,a!=null&&(c.callback=a),n=Jn(t,c,l),n!==null&&(Pt(n,t,l),Ga(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=jt(),c=Zn(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=Jn(t,c,l),n!==null&&(Pt(n,t,l),Ga(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=jt(),l=Zn(a);l.tag=2,n!=null&&(l.callback=n),n=Jn(t,l,a),n!==null&&(Pt(n,t,a),Ga(n,t,a))}};function Xp(t,n,a,l,c,d,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,g):n.prototype&&n.prototype.isPureReactComponent?!ka(a,l)||!ka(c,d):!0}function Kp(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Fc.enqueueReplaceState(n,n.state,null)}function Xi(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=y({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var Wl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Wp(t){Wl(t)}function $p(t){console.error(t)}function Zp(t){Wl(t)}function $l(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Jp(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Qc(t,n,a){return a=Zn(a),a.tag=3,a.payload={element:null},a.callback=function(){$l(t,n)},a}function eg(t){return t=Zn(t),t.tag=3,t}function tg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var d=l.value;t.payload=function(){return c(d)},t.callback=function(){Jp(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Jp(n,a,l),typeof c!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function vS(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Pa(n,a,c,!0),a=Ft.current,a!==null){switch(a.tag){case 13:return cn===null?yf():a.alternate===null&&Qe===0&&(Qe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Sc?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),bf(t,l,c)),!1;case 22:return a.flags|=65536,l===Sc?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),bf(t,l,c)),!1}throw Error(r(435,a.tag))}return bf(t,l,c),yf(),!1}if(Re)return n=Ft.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==pc&&(t=Error(r(422),{cause:l}),ja(qt(t,a)))):(l!==pc&&(n=Error(r(423),{cause:l}),ja(qt(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=qt(l,a),c=Qc(t.stateNode,l,c),wc(t,c),Qe!==4&&(Qe=2)),!1;var d=Error(r(520),{cause:l});if(d=qt(d,a),ar===null?ar=[d]:ar.push(d),Qe!==4&&(Qe=2),n===null)return!0;l=qt(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Qc(a.stateNode,l,t),wc(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(oi===null||!oi.has(d))))return a.flags|=65536,c&=-c,a.lanes|=c,c=eg(c),tg(c,t,a,l),wc(a,c),!1}a=a.return}while(a!==null);return!1}var ng=Error(r(461)),st=!1;function ct(t,n,a,l){n.child=t===null?Fp(n,null,a,l):Hs(n,t.child,a,l)}function ig(t,n,a,l,c){a=a.render;var d=n.ref;if("ref"in l){var g={};for(var _ in l)_!=="ref"&&(g[_]=l[_])}else g=l;return Yi(n),l=Oc(t,n,a,g,d,c),_=Dc(),t!==null&&!st?(Ic(t,n,c),Nn(t,n,c)):(Re&&_&&hc(n),n.flags|=1,ct(t,n,l,c),n.child)}function sg(t,n,a,l,c){if(t===null){var d=a.type;return typeof d=="function"&&!cc(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,ag(t,n,d,l,c)):(t=Ol(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!tf(t,c)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:ka,a(g,l)&&t.ref===n.ref)return Nn(t,n,c)}return n.flags|=1,t=bn(d,l),t.ref=n.ref,t.return=n,n.child=t}function ag(t,n,a,l,c){if(t!==null){var d=t.memoizedProps;if(ka(d,l)&&t.ref===n.ref)if(st=!1,n.pendingProps=l=d,tf(t,c))(t.flags&131072)!==0&&(st=!0);else return n.lanes=t.lanes,Nn(t,n,c)}return Xc(t,n,a,l,c)}function rg(t,n,a){var l=n.pendingProps,c=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(c=n.child=t.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return lg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ll(n,d!==null?d.cachePool:null),d!==null?ap(n,d):Nc(),Qp(n);else return n.lanes=n.childLanes=536870912,lg(t,n,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ll(n,d.cachePool),ap(n,d),ni(),n.memoizedState=null):(t!==null&&Ll(n,null),Nc(),ni());return ct(t,n,c,a),n.child}function lg(t,n,a,l){var c=Ec();return c=c===null?null:{parent:Je._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Ll(n,null),Nc(),Qp(n),t!==null&&Pa(t,n,l,!0),null}function Zl(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Xc(t,n,a,l,c){return Yi(n),a=Oc(t,n,a,l,void 0,c),l=Dc(),t!==null&&!st?(Ic(t,n,c),Nn(t,n,c)):(Re&&l&&hc(n),n.flags|=1,ct(t,n,a,c),n.child)}function og(t,n,a,l,c,d){return Yi(n),n.updateQueue=null,a=lp(n,l,a,c),rp(t),l=Dc(),t!==null&&!st?(Ic(t,n,d),Nn(t,n,d)):(Re&&l&&hc(n),n.flags|=1,ct(t,n,a,d),n.child)}function ug(t,n,a,l,c){if(Yi(n),n.stateNode===null){var d=Os,g=a.contextType;typeof g=="object"&&g!==null&&(d=mt(g)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Fc,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Tc(n),g=a.contextType,d.context=typeof g=="object"&&g!==null?mt(g):Os,d.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Yc(n,a,g,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&Fc.enqueueReplaceState(d,d.state,null),Fa(n,l,d,c),Ya(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var _=n.memoizedProps,E=Xi(a,_);d.props=E;var D=d.context,j=a.contextType;g=Os,typeof j=="object"&&j!==null&&(g=mt(j));var B=a.getDerivedStateFromProps;j=typeof B=="function"||typeof d.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,j||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_||D!==g)&&Kp(n,d,l,g),$n=!1;var M=n.memoizedState;d.state=M,Fa(n,l,d,c),Ya(),D=n.memoizedState,_||M!==D||$n?(typeof B=="function"&&(Yc(n,a,B,l),D=n.memoizedState),(E=$n||Xp(n,a,E,l,M,D,g))?(j||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=D),d.props=l,d.state=D,d.context=g,l=E):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Cc(t,n),g=n.memoizedProps,j=Xi(a,g),d.props=j,B=n.pendingProps,M=d.context,D=a.contextType,E=Os,typeof D=="object"&&D!==null&&(E=mt(D)),_=a.getDerivedStateFromProps,(D=typeof _=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==B||M!==E)&&Kp(n,d,l,E),$n=!1,M=n.memoizedState,d.state=M,Fa(n,l,d,c),Ya();var k=n.memoizedState;g!==B||M!==k||$n||t!==null&&t.dependencies!==null&&Ml(t.dependencies)?(typeof _=="function"&&(Yc(n,a,_,l),k=n.memoizedState),(j=$n||Xp(n,a,j,l,M,k,E)||t!==null&&t.dependencies!==null&&Ml(t.dependencies))?(D||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,k,E),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,k,E)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&M===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&M===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),d.props=l,d.state=k,d.context=E,l=j):(typeof d.componentDidUpdate!="function"||g===t.memoizedProps&&M===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&M===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Zl(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=Hs(n,t.child,null,c),n.child=Hs(n,null,a,c)):ct(t,n,a,c),n.memoizedState=d.state,t=n.child):t=Nn(t,n,c),t}function cg(t,n,a,l){return za(),n.flags|=256,ct(t,n,a,l),n.child}var Kc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wc(t){return{baseLanes:t,cachePool:$m()}}function $c(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Qt),t}function fg(t,n,a){var l=n.pendingProps,c=!1,d=(n.flags&128)!==0,g;if((g=d)||(g=t!==null&&t.memoizedState===null?!1:(et.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Re){if(c?ti(n):ni(),Re){var _=Fe,E;if(E=_){e:{for(E=_,_=un;E.nodeType!==8;){if(!_){_=null;break e}if(E=Jt(E.nextSibling),E===null){_=null;break e}}_=E}_!==null?(n.memoizedState={dehydrated:_,treeContext:Hi!==null?{id:En,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},E=kt(18,null,null,0),E.stateNode=_,E.return=n,n.child=E,_t=n,Fe=null,E=!0):E=!1}E||Vi(n)}if(_=n.memoizedState,_!==null&&(_=_.dehydrated,_!==null))return Lf(_)?n.lanes=32:n.lanes=536870912,null;Rn(n)}return _=l.children,l=l.fallback,c?(ni(),c=n.mode,_=Jl({mode:"hidden",children:_},c),l=Pi(l,c,a,null),_.return=n,l.return=n,_.sibling=l,n.child=_,c=n.child,c.memoizedState=Wc(a),c.childLanes=$c(t,g,a),n.memoizedState=Kc,l):(ti(n),Zc(n,_))}if(E=t.memoizedState,E!==null&&(_=E.dehydrated,_!==null)){if(d)n.flags&256?(ti(n),n.flags&=-257,n=Jc(t,n,a)):n.memoizedState!==null?(ni(),n.child=t.child,n.flags|=128,n=null):(ni(),c=l.fallback,_=n.mode,l=Jl({mode:"visible",children:l.children},_),c=Pi(c,_,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Hs(n,t.child,null,a),l=n.child,l.memoizedState=Wc(a),l.childLanes=$c(t,g,a),n.memoizedState=Kc,n=c);else if(ti(n),Lf(_)){if(g=_.nextSibling&&_.nextSibling.dataset,g)var D=g.dgst;g=D,l=Error(r(419)),l.stack="",l.digest=g,ja({value:l,source:null,stack:null}),n=Jc(t,n,a)}else if(st||Pa(t,n,a,!1),g=(a&t.childLanes)!==0,st||g){if(g=Le,g!==null&&(l=a&-a,l=(l&42)!==0?1:Lu(l),l=(l&(g.suspendedLanes|a))!==0?0:l,l!==0&&l!==E.retryLane))throw E.retryLane=l,As(t,l),Pt(g,t,l),ng;_.data==="$?"||yf(),n=Jc(t,n,a)}else _.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=E.treeContext,Fe=Jt(_.nextSibling),_t=n,Re=!0,qi=null,un=!1,t!==null&&(Gt[Yt++]=En,Gt[Yt++]=Sn,Gt[Yt++]=Hi,En=t.id,Sn=t.overflow,Hi=n),n=Zc(n,l.children),n.flags|=4096);return n}return c?(ni(),c=l.fallback,_=n.mode,E=t.child,D=E.sibling,l=bn(E,{mode:"hidden",children:l.children}),l.subtreeFlags=E.subtreeFlags&65011712,D!==null?c=bn(D,c):(c=Pi(c,_,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,_=t.child.memoizedState,_===null?_=Wc(a):(E=_.cachePool,E!==null?(D=Je._currentValue,E=E.parent!==D?{parent:D,pool:D}:E):E=$m(),_={baseLanes:_.baseLanes|a,cachePool:E}),c.memoizedState=_,c.childLanes=$c(t,g,a),n.memoizedState=Kc,l):(ti(n),a=t.child,t=a.sibling,a=bn(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function Zc(t,n){return n=Jl({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Jl(t,n){return t=kt(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Jc(t,n,a){return Hs(n,t.child,null,a),t=Zc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function dg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),_c(t.return,n,a)}function ef(t,n,a,l,c){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=c)}function hg(t,n,a){var l=n.pendingProps,c=l.revealOrder,d=l.tail;if(ct(t,n,l.children,a),l=et.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dg(t,a,n);else if(t.tag===19)dg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(K(et,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&Kl(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),ef(n,!1,c,a,d);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Kl(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}ef(n,!0,a,null,d);break;case"together":ef(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Nn(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),li|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(Pa(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=bn(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=bn(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function tf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ml(t)))}function bS(t,n,a){switch(n.tag){case 3:Pe(n,n.stateNode.containerInfo),Wn(n,Je,t.memoizedState.cache),za();break;case 27:case 5:Ou(n);break;case 4:Pe(n,n.stateNode.containerInfo);break;case 10:Wn(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ti(n),n.flags|=128,null):(a&n.child.childLanes)!==0?fg(t,n,a):(ti(n),t=Nn(t,n,a),t!==null?t.sibling:null);ti(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Pa(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return hg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),K(et,et.current),l)break;return null;case 22:case 23:return n.lanes=0,rg(t,n,a);case 24:Wn(n,Je,t.memoizedState.cache)}return Nn(t,n,a)}function mg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)st=!0;else{if(!tf(t,a)&&(n.flags&128)===0)return st=!1,bS(t,n,a);st=(t.flags&131072)!==0}else st=!1,Re&&(n.flags&1048576)!==0&&Gm(n,Il,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")cc(l)?(t=Xi(l,t),n.tag=1,n=ug(null,n,l,t,a)):(n.tag=0,n=Xc(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===V){n.tag=11,n=ig(null,n,l,t,a);break e}else if(c===$){n.tag=14,n=sg(null,n,l,t,a);break e}}throw n=Ye(l)||l,Error(r(306,n,""))}}return n;case 0:return Xc(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=Xi(l,n.pendingProps),ug(t,n,l,c,a);case 3:e:{if(Pe(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var d=n.memoizedState;c=d.element,Cc(t,n),Fa(n,l,null,a);var g=n.memoizedState;if(l=g.cache,Wn(n,Je,l),l!==d.cache&&yc(n,[Je],a,!0),Ya(),l=g.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=cg(t,n,l,a);break e}else if(l!==c){c=qt(Error(r(424)),n),ja(c),n=cg(t,n,l,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Fe=Jt(t.firstChild),_t=n,Re=!0,qi=null,un=!0,a=Fp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(za(),l===c){n=Nn(t,n,a);break e}ct(t,n,l,a)}n=n.child}return n;case 26:return Zl(t,n),t===null?(a=y_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Re||(a=n.type,t=n.pendingProps,l=mo(fe.current).createElement(a),l[ht]=n,l[St]=t,dt(l,a,t),it(l),n.stateNode=l):n.memoizedState=y_(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ou(n),t===null&&Re&&(l=n.stateNode=p_(n.type,n.pendingProps,fe.current),_t=n,un=!0,c=Fe,fi(n.type)?(Uf=c,Fe=Jt(l.firstChild)):Fe=c),ct(t,n,n.pendingProps.children,a),Zl(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Re&&((c=l=Fe)&&(l=XS(l,n.type,n.pendingProps,un),l!==null?(n.stateNode=l,_t=n,Fe=Jt(l.firstChild),un=!1,c=!0):c=!1),c||Vi(n)),Ou(n),c=n.type,d=n.pendingProps,g=t!==null?t.memoizedProps:null,l=d.children,If(c,d)?l=null:g!==null&&If(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=Oc(t,n,dS,null,null,a),mr._currentValue=c),Zl(t,n),ct(t,n,l,a),n.child;case 6:return t===null&&Re&&((t=a=Fe)&&(a=KS(a,n.pendingProps,un),a!==null?(n.stateNode=a,_t=n,Fe=null,t=!0):t=!1),t||Vi(n)),null;case 13:return fg(t,n,a);case 4:return Pe(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Hs(n,null,l,a):ct(t,n,l,a),n.child;case 11:return ig(t,n,n.type,n.pendingProps,a);case 7:return ct(t,n,n.pendingProps,a),n.child;case 8:return ct(t,n,n.pendingProps.children,a),n.child;case 12:return ct(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Wn(n,n.type,l.value),ct(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Yi(n),c=mt(c),l=l(c),n.flags|=1,ct(t,n,l,a),n.child;case 14:return sg(t,n,n.type,n.pendingProps,a);case 15:return ag(t,n,n.type,n.pendingProps,a);case 19:return hg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=Jl(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=bn(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return rg(t,n,a);case 24:return Yi(n),l=mt(Je),t===null?(c=Ec(),c===null&&(c=Le,d=vc(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=a),c=d),n.memoizedState={parent:l,cache:c},Tc(n),Wn(n,Je,c)):((t.lanes&a)!==0&&(Cc(t,n),Fa(n,null,null,a),Ya()),c=t.memoizedState,d=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Wn(n,Je,l)):(l=d.cache,Wn(n,Je,l),l!==c.cache&&yc(n,[Je],a,!0))),ct(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function xn(t){t.flags|=4}function pg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!T_(n)){if(n=Ft.current,n!==null&&((Ee&4194048)===Ee?cn!==null:(Ee&62914560)!==Ee&&(Ee&536870912)===0||n!==cn))throw Va=Sc,Zm;t.flags|=8192}}function eo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Qh():536870912,t.lanes|=n,Gs|=n)}function Ja(t,n){if(!Re)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Ve(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function ES(t,n,a){var l=n.pendingProps;switch(mc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(n),null;case 1:return Ve(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Cn(Je),Fn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ua(n)?xn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Qm())),Ve(n),null;case 26:return a=n.memoizedState,t===null?(xn(n),a!==null?(Ve(n),pg(n,a)):(Ve(n),n.flags&=-16777217)):a?a!==t.memoizedState?(xn(n),Ve(n),pg(n,a)):(Ve(n),n.flags&=-16777217):(t.memoizedProps!==l&&xn(n),Ve(n),n.flags&=-16777217),null;case 27:fl(n),a=fe.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ve(n),null}t=ie.current,Ua(n)?Ym(n):(t=p_(c,l,a),n.stateNode=t,xn(n))}return Ve(n),null;case 5:if(fl(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&xn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ve(n),null}if(t=ie.current,Ua(n))Ym(n);else{switch(c=mo(fe.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[ht]=n,t[St]=l;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;e:switch(dt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&xn(n)}}return Ve(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&xn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=fe.current,Ua(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=_t,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ht]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||o_(t.nodeValue,a)),t||Vi(n)}else t=mo(t).createTextNode(l),t[ht]=n,n.stateNode=t}return Ve(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ua(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ht]=n}else za(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ve(n),c=!1}else c=Qm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Rn(n),n):(Rn(n),null)}if(Rn(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),eo(n,n.updateQueue),Ve(n),null;case 4:return Fn(),t===null&&Nf(n.stateNode.containerInfo),Ve(n),null;case 10:return Cn(n.type),Ve(n),null;case 19:if(W(et),c=n.memoizedState,c===null)return Ve(n),null;if(l=(n.flags&128)!==0,d=c.rendering,d===null)if(l)Ja(c,!1);else{if(Qe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=Kl(t),d!==null){for(n.flags|=128,Ja(c,!1),t=d.updateQueue,n.updateQueue=t,eo(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Vm(a,t),a=a.sibling;return K(et,et.current&1|2),n.child}t=t.sibling}c.tail!==null&&on()>io&&(n.flags|=128,l=!0,Ja(c,!1),n.lanes=4194304)}else{if(!l)if(t=Kl(d),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,eo(n,t),Ja(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!Re)return Ve(n),null}else 2*on()-c.renderingStartTime>io&&a!==536870912&&(n.flags|=128,l=!0,Ja(c,!1),n.lanes=4194304);c.isBackwards?(d.sibling=n.child,n.child=d):(t=c.last,t!==null?t.sibling=d:n.child=d,c.last=d)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=on(),n.sibling=null,t=et.current,K(et,l?t&1|2:t&1),n):(Ve(n),null);case 22:case 23:return Rn(n),xc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Ve(n),n.subtreeFlags&6&&(n.flags|=8192)):Ve(n),a=n.updateQueue,a!==null&&eo(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&W(Fi),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Cn(Je),Ve(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function SS(t,n){switch(mc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Cn(Je),Fn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return fl(n),null;case 13:if(Rn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));za()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return W(et),null;case 4:return Fn(),null;case 10:return Cn(n.type),null;case 22:case 23:return Rn(n),xc(),t!==null&&W(Fi),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Cn(Je),null;case 25:return null;default:return null}}function gg(t,n){switch(mc(n),n.tag){case 3:Cn(Je),Fn();break;case 26:case 27:case 5:fl(n);break;case 4:Fn();break;case 13:Rn(n);break;case 19:W(et);break;case 10:Cn(n.type);break;case 22:case 23:Rn(n),xc(),t!==null&&W(Fi);break;case 24:Cn(Je)}}function er(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var d=a.create,g=a.inst;l=d(),g.destroy=l}a=a.next}while(a!==c)}}catch(_){Me(n,n.return,_)}}function ii(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&t)===t){var g=l.inst,_=g.destroy;if(_!==void 0){g.destroy=void 0,c=n;var E=a,D=_;try{D()}catch(j){Me(c,E,j)}}}l=l.next}while(l!==d)}}catch(j){Me(n,n.return,j)}}function _g(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{sp(n,a)}catch(l){Me(t,t.return,l)}}}function yg(t,n,a){a.props=Xi(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Me(t,n,l)}}function tr(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Me(t,n,c)}}function fn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Me(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Me(t,n,c)}else a.current=null}function vg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Me(t,t.return,c)}}function nf(t,n,a){try{var l=t.stateNode;VS(l,t.type,a,n),l[St]=n}catch(c){Me(t,t.return,c)}}function bg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&fi(t.type)||t.tag===4}function sf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&fi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function af(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=ho));else if(l!==4&&(l===27&&fi(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(af(t,n,a),t=t.sibling;t!==null;)af(t,n,a),t=t.sibling}function to(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&fi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(to(t,n,a),t=t.sibling;t!==null;)to(t,n,a),t=t.sibling}function Eg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);dt(n,l,a),n[ht]=t,n[St]=a}catch(d){Me(t,t.return,d)}}var An=!1,We=!1,rf=!1,Sg=typeof WeakSet=="function"?WeakSet:Set,at=null;function TS(t,n){if(t=t.containerInfo,Of=bo,t=Mm(t),ic(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var g=0,_=-1,E=-1,D=0,j=0,B=t,M=null;t:for(;;){for(var k;B!==a||c!==0&&B.nodeType!==3||(_=g+c),B!==d||l!==0&&B.nodeType!==3||(E=g+l),B.nodeType===3&&(g+=B.nodeValue.length),(k=B.firstChild)!==null;)M=B,B=k;for(;;){if(B===t)break t;if(M===a&&++D===c&&(_=g),M===d&&++j===l&&(E=g),(k=B.nextSibling)!==null)break;B=M,M=B.parentNode}B=k}a=_===-1||E===-1?null:{start:_,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:t,selectionRange:a},bo=!1,at=n;at!==null;)if(n=at,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,at=t;else for(;at!==null;){switch(n=at,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,c=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var le=Xi(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(le,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(se){Me(a,a.return,se)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)kf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":kf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,at=t;break}at=n.return}}function Tg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:si(t,a),l&4&&er(5,a);break;case 1:if(si(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){Me(a,a.return,g)}else{var c=Xi(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Me(a,a.return,g)}}l&64&&_g(a),l&512&&tr(a,a.return);break;case 3:if(si(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{sp(t,n)}catch(g){Me(a,a.return,g)}}break;case 27:n===null&&l&4&&Eg(a);case 26:case 5:si(t,a),n===null&&l&4&&vg(a),l&512&&tr(a,a.return);break;case 12:si(t,a);break;case 13:si(t,a),l&4&&Rg(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=IS.bind(null,a),WS(t,a))));break;case 22:if(l=a.memoizedState!==null||An,!l){n=n!==null&&n.memoizedState!==null||We,c=An;var d=We;An=l,(We=n)&&!d?ai(t,a,(a.subtreeFlags&8772)!==0):si(t,a),An=c,We=d}break;case 30:break;default:si(t,a)}}function Cg(t){var n=t.alternate;n!==null&&(t.alternate=null,Cg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&ju(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var He=null,wt=!1;function On(t,n,a){for(a=a.child;a!==null;)wg(t,n,a),a=a.sibling}function wg(t,n,a){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(Sa,a)}catch{}switch(a.tag){case 26:We||fn(a,n),On(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:We||fn(a,n);var l=He,c=wt;fi(a.type)&&(He=a.stateNode,wt=!1),On(t,n,a),cr(a.stateNode),He=l,wt=c;break;case 5:We||fn(a,n);case 6:if(l=He,c=wt,He=null,On(t,n,a),He=l,wt=c,He!==null)if(wt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(d){Me(a,n,d)}else try{He.removeChild(a.stateNode)}catch(d){Me(a,n,d)}break;case 18:He!==null&&(wt?(t=He,h_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),yr(t)):h_(He,a.stateNode));break;case 4:l=He,c=wt,He=a.stateNode.containerInfo,wt=!0,On(t,n,a),He=l,wt=c;break;case 0:case 11:case 14:case 15:We||ii(2,a,n),We||ii(4,a,n),On(t,n,a);break;case 1:We||(fn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&yg(a,n,l)),On(t,n,a);break;case 21:On(t,n,a);break;case 22:We=(l=We)||a.memoizedState!==null,On(t,n,a),We=l;break;default:On(t,n,a)}}function Rg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{yr(t)}catch(a){Me(n,n.return,a)}}function CS(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Sg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Sg),n;default:throw Error(r(435,t.tag))}}function lf(t,n){var a=CS(t);n.forEach(function(l){var c=MS.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function Lt(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],d=t,g=n,_=g;e:for(;_!==null;){switch(_.tag){case 27:if(fi(_.type)){He=_.stateNode,wt=!1;break e}break;case 5:He=_.stateNode,wt=!1;break e;case 3:case 4:He=_.stateNode.containerInfo,wt=!0;break e}_=_.return}if(He===null)throw Error(r(160));wg(d,g,c),He=null,wt=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Ng(n,t),n=n.sibling}var Zt=null;function Ng(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Lt(n,t),Ut(t),l&4&&(ii(3,t,t.return),er(3,t),ii(5,t,t.return));break;case 1:Lt(n,t),Ut(t),l&512&&(We||a===null||fn(a,a.return)),l&64&&An&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Zt;if(Lt(n,t),Ut(t),l&512&&(We||a===null||fn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":d=c.getElementsByTagName("title")[0],(!d||d[wa]||d[ht]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(l),c.head.insertBefore(d,c.querySelector("head > title"))),dt(d,l,a),d[ht]=t,it(d),l=d;break e;case"link":var g=E_("link","href",c).get(l+(a.href||""));if(g){for(var _=0;_<g.length;_++)if(d=g[_],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(_,1);break t}}d=c.createElement(l),dt(d,l,a),c.head.appendChild(d);break;case"meta":if(g=E_("meta","content",c).get(l+(a.content||""))){for(_=0;_<g.length;_++)if(d=g[_],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(_,1);break t}}d=c.createElement(l),dt(d,l,a),c.head.appendChild(d);break;default:throw Error(r(468,l))}d[ht]=t,it(d),l=d}t.stateNode=l}else S_(c,t.type,t.stateNode);else t.stateNode=b_(c,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?S_(c,t.type,t.stateNode):b_(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&nf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Lt(n,t),Ut(t),l&512&&(We||a===null||fn(a,a.return)),a!==null&&l&4&&nf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Lt(n,t),Ut(t),l&512&&(We||a===null||fn(a,a.return)),t.flags&32){c=t.stateNode;try{Ss(c,"")}catch(k){Me(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,nf(t,c,a!==null?a.memoizedProps:c)),l&1024&&(rf=!0);break;case 6:if(Lt(n,t),Ut(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(k){Me(t,t.return,k)}}break;case 3:if(_o=null,c=Zt,Zt=po(n.containerInfo),Lt(n,t),Zt=c,Ut(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{yr(n.containerInfo)}catch(k){Me(t,t.return,k)}rf&&(rf=!1,xg(t));break;case 4:l=Zt,Zt=po(t.stateNode.containerInfo),Lt(n,t),Ut(t),Zt=l;break;case 12:Lt(n,t),Ut(t);break;case 13:Lt(n,t),Ut(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(hf=on()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lf(t,l)));break;case 22:c=t.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,D=An,j=We;if(An=D||c,We=j||E,Lt(n,t),We=j,An=D,Ut(t),l&8192)e:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||E||An||We||Ki(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){E=a=n;try{if(d=E.stateNode,c)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{_=E.stateNode;var B=E.memoizedProps.style,M=B!=null&&B.hasOwnProperty("display")?B.display:null;_.style.display=M==null||typeof M=="boolean"?"":(""+M).trim()}}catch(k){Me(E,E.return,k)}}}else if(n.tag===6){if(a===null){E=n;try{E.stateNode.nodeValue=c?"":E.memoizedProps}catch(k){Me(E,E.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,lf(t,a))));break;case 19:Lt(n,t),Ut(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,lf(t,l)));break;case 30:break;case 21:break;default:Lt(n,t),Ut(t)}}function Ut(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(bg(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,d=sf(t);to(t,d,c);break;case 5:var g=a.stateNode;a.flags&32&&(Ss(g,""),a.flags&=-33);var _=sf(t);to(t,_,g);break;case 3:case 4:var E=a.stateNode.containerInfo,D=sf(t);af(t,D,E);break;default:throw Error(r(161))}}catch(j){Me(t,t.return,j)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function xg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;xg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function si(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Tg(t,n.alternate,n),n=n.sibling}function Ki(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ii(4,n,n.return),Ki(n);break;case 1:fn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&yg(n,n.return,a),Ki(n);break;case 27:cr(n.stateNode);case 26:case 5:fn(n,n.return),Ki(n);break;case 22:n.memoizedState===null&&Ki(n);break;case 30:Ki(n);break;default:Ki(n)}t=t.sibling}}function ai(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,d=n,g=d.flags;switch(d.tag){case 0:case 11:case 15:ai(c,d,a),er(4,d);break;case 1:if(ai(c,d,a),l=d,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(D){Me(l,l.return,D)}if(l=d,c=l.updateQueue,c!==null){var _=l.stateNode;try{var E=c.shared.hiddenCallbacks;if(E!==null)for(c.shared.hiddenCallbacks=null,c=0;c<E.length;c++)ip(E[c],_)}catch(D){Me(l,l.return,D)}}a&&g&64&&_g(d),tr(d,d.return);break;case 27:Eg(d);case 26:case 5:ai(c,d,a),a&&l===null&&g&4&&vg(d),tr(d,d.return);break;case 12:ai(c,d,a);break;case 13:ai(c,d,a),a&&g&4&&Rg(c,d);break;case 22:d.memoizedState===null&&ai(c,d,a),tr(d,d.return);break;case 30:break;default:ai(c,d,a)}n=n.sibling}}function of(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ha(a))}function uf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ha(t))}function dn(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ag(t,n,a,l),n=n.sibling}function Ag(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:dn(t,n,a,l),c&2048&&er(9,n);break;case 1:dn(t,n,a,l);break;case 3:dn(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Ha(t)));break;case 12:if(c&2048){dn(t,n,a,l),t=n.stateNode;try{var d=n.memoizedProps,g=d.id,_=d.onPostCommit;typeof _=="function"&&_(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(E){Me(n,n.return,E)}}else dn(t,n,a,l);break;case 13:dn(t,n,a,l);break;case 23:break;case 22:d=n.stateNode,g=n.alternate,n.memoizedState!==null?d._visibility&2?dn(t,n,a,l):nr(t,n):d._visibility&2?dn(t,n,a,l):(d._visibility|=2,Bs(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&of(g,n);break;case 24:dn(t,n,a,l),c&2048&&uf(n.alternate,n);break;default:dn(t,n,a,l)}}function Bs(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,g=n,_=a,E=l,D=g.flags;switch(g.tag){case 0:case 11:case 15:Bs(d,g,_,E,c),er(8,g);break;case 23:break;case 22:var j=g.stateNode;g.memoizedState!==null?j._visibility&2?Bs(d,g,_,E,c):nr(d,g):(j._visibility|=2,Bs(d,g,_,E,c)),c&&D&2048&&of(g.alternate,g);break;case 24:Bs(d,g,_,E,c),c&&D&2048&&uf(g.alternate,g);break;default:Bs(d,g,_,E,c)}n=n.sibling}}function nr(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:nr(a,l),c&2048&&of(l.alternate,l);break;case 24:nr(a,l),c&2048&&uf(l.alternate,l);break;default:nr(a,l)}n=n.sibling}}var ir=8192;function qs(t){if(t.subtreeFlags&ir)for(t=t.child;t!==null;)Og(t),t=t.sibling}function Og(t){switch(t.tag){case 26:qs(t),t.flags&ir&&t.memoizedState!==null&&uT(Zt,t.memoizedState,t.memoizedProps);break;case 5:qs(t);break;case 3:case 4:var n=Zt;Zt=po(t.stateNode.containerInfo),qs(t),Zt=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ir,ir=16777216,qs(t),ir=n):qs(t));break;default:qs(t)}}function Dg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function sr(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];at=l,Mg(l,t)}Dg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ig(t),t=t.sibling}function Ig(t){switch(t.tag){case 0:case 11:case 15:sr(t),t.flags&2048&&ii(9,t,t.return);break;case 3:sr(t);break;case 12:sr(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,no(t)):sr(t);break;default:sr(t)}}function no(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];at=l,Mg(l,t)}Dg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ii(8,n,n.return),no(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,no(n));break;default:no(n)}t=t.sibling}}function Mg(t,n){for(;at!==null;){var a=at;switch(a.tag){case 0:case 11:case 15:ii(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ha(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,at=l;else e:for(a=t;at!==null;){l=at;var c=l.sibling,d=l.return;if(Cg(l),l===a){at=null;break e}if(c!==null){c.return=d,at=c;break e}at=d}}}var wS={getCacheForType:function(t){var n=mt(Je),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},RS=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Le=null,_e=null,Ee=0,xe=0,zt=null,ri=!1,Vs=!1,cf=!1,Dn=0,Qe=0,li=0,Wi=0,ff=0,Qt=0,Gs=0,ar=null,Rt=null,df=!1,hf=0,io=1/0,so=null,oi=null,ft=0,ui=null,Ys=null,Fs=0,mf=0,pf=null,kg=null,rr=0,gf=null;function jt(){if((Ne&2)!==0&&Ee!==0)return Ee&-Ee;if(z.T!==null){var t=Ms;return t!==0?t:Tf()}return Wh()}function Lg(){Qt===0&&(Qt=(Ee&536870912)===0||Re?Fh():536870912);var t=Ft.current;return t!==null&&(t.flags|=32),Qt}function Pt(t,n,a){(t===Le&&(xe===2||xe===9)||t.cancelPendingCommit!==null)&&(Qs(t,0),ci(t,Ee,Qt,!1)),Ca(t,a),((Ne&2)===0||t!==Le)&&(t===Le&&((Ne&2)===0&&(Wi|=a),Qe===4&&ci(t,Ee,Qt,!1)),hn(t))}function Ug(t,n,a){if((Ne&6)!==0)throw Error(r(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Ta(t,n),c=l?AS(t,n):vf(t,n,!0),d=l;do{if(c===0){Vs&&!l&&ci(t,n,0,!1);break}else{if(a=t.current.alternate,d&&!NS(a)){c=vf(t,n,!1),d=!1;continue}if(c===2){if(d=n,t.errorRecoveryDisabledLanes&d)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var _=t;c=ar;var E=_.current.memoizedState.isDehydrated;if(E&&(Qs(_,g).flags|=256),g=vf(_,g,!1),g!==2){if(cf&&!E){_.errorRecoveryDisabledLanes|=d,Wi|=d,c=4;break e}d=Rt,Rt=c,d!==null&&(Rt===null?Rt=d:Rt.push.apply(Rt,d))}c=g}if(d=!1,c!==2)continue}}if(c===1){Qs(t,0),ci(t,n,0,!0);break}e:{switch(l=t,d=c,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ci(l,n,Qt,!ri);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=hf+300-on(),10<c)){if(ci(l,n,Qt,!ri),pl(l,0,!0)!==0)break e;l.timeoutHandle=f_(zg.bind(null,l,a,Rt,so,df,n,Qt,Wi,Gs,ri,d,2,-0,0),c);break e}zg(l,a,Rt,so,df,n,Qt,Wi,Gs,ri,d,0,-0,0)}}break}while(!0);hn(t)}function zg(t,n,a,l,c,d,g,_,E,D,j,B,M,k){if(t.timeoutHandle=-1,B=n.subtreeFlags,(B&8192||(B&16785408)===16785408)&&(hr={stylesheets:null,count:0,unsuspend:oT},Og(n),B=cT(),B!==null)){t.cancelPendingCommit=B(Gg.bind(null,t,n,d,a,l,c,g,_,E,j,1,M,k)),ci(t,d,g,!D);return}Gg(t,n,d,a,l,c,g,_,E)}function NS(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],d=c.getSnapshot;c=c.value;try{if(!Mt(d(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ci(t,n,a,l){n&=~ff,n&=~Wi,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var d=31-It(c),g=1<<d;l[d]=-1,c&=~g}a!==0&&Xh(t,a,n)}function ao(){return(Ne&6)===0?(lr(0),!1):!0}function _f(){if(_e!==null){if(xe===0)var t=_e.return;else t=_e,Tn=Gi=null,Mc(t),Ps=null,$a=0,t=_e;for(;t!==null;)gg(t.alternate,t),t=t.return;_e=null}}function Qs(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,YS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),_f(),Le=t,_e=a=bn(t.current,null),Ee=n,xe=0,zt=null,ri=!1,Vs=Ta(t,n),cf=!1,Gs=Qt=ff=Wi=li=Qe=0,Rt=ar=null,df=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-It(l),d=1<<c;n|=t[c],l&=~d}return Dn=n,Nl(),a}function jg(t,n){me=null,z.H=Fl,n===qa||n===Ul?(n=tp(),xe=3):n===Zm?(n=tp(),xe=4):xe=n===ng?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zt=n,_e===null&&(Qe=1,$l(t,qt(n,t.current)))}function Pg(){var t=z.H;return z.H=Fl,t===null?Fl:t}function Hg(){var t=z.A;return z.A=wS,t}function yf(){Qe=4,ri||(Ee&4194048)!==Ee&&Ft.current!==null||(Vs=!0),(li&134217727)===0&&(Wi&134217727)===0||Le===null||ci(Le,Ee,Qt,!1)}function vf(t,n,a){var l=Ne;Ne|=2;var c=Pg(),d=Hg();(Le!==t||Ee!==n)&&(so=null,Qs(t,n)),n=!1;var g=Qe;e:do try{if(xe!==0&&_e!==null){var _=_e,E=zt;switch(xe){case 8:_f(),g=6;break e;case 3:case 2:case 9:case 6:Ft.current===null&&(n=!0);var D=xe;if(xe=0,zt=null,Xs(t,_,E,D),a&&Vs){g=0;break e}break;default:D=xe,xe=0,zt=null,Xs(t,_,E,D)}}xS(),g=Qe;break}catch(j){jg(t,j)}while(!0);return n&&t.shellSuspendCounter++,Tn=Gi=null,Ne=l,z.H=c,z.A=d,_e===null&&(Le=null,Ee=0,Nl()),g}function xS(){for(;_e!==null;)Bg(_e)}function AS(t,n){var a=Ne;Ne|=2;var l=Pg(),c=Hg();Le!==t||Ee!==n?(so=null,io=on()+500,Qs(t,n)):Vs=Ta(t,n);e:do try{if(xe!==0&&_e!==null){n=_e;var d=zt;t:switch(xe){case 1:xe=0,zt=null,Xs(t,n,d,1);break;case 2:case 9:if(Jm(d)){xe=0,zt=null,qg(n);break}n=function(){xe!==2&&xe!==9||Le!==t||(xe=7),hn(t)},d.then(n,n);break e;case 3:xe=7;break e;case 4:xe=5;break e;case 7:Jm(d)?(xe=0,zt=null,qg(n)):(xe=0,zt=null,Xs(t,n,d,7));break;case 5:var g=null;switch(_e.tag){case 26:g=_e.memoizedState;case 5:case 27:var _=_e;if(!g||T_(g)){xe=0,zt=null;var E=_.sibling;if(E!==null)_e=E;else{var D=_.return;D!==null?(_e=D,ro(D)):_e=null}break t}}xe=0,zt=null,Xs(t,n,d,5);break;case 6:xe=0,zt=null,Xs(t,n,d,6);break;case 8:_f(),Qe=6;break e;default:throw Error(r(462))}}OS();break}catch(j){jg(t,j)}while(!0);return Tn=Gi=null,z.H=l,z.A=c,Ne=a,_e!==null?0:(Le=null,Ee=0,Nl(),Qe)}function OS(){for(;_e!==null&&!Zb();)Bg(_e)}function Bg(t){var n=mg(t.alternate,t,Dn);t.memoizedProps=t.pendingProps,n===null?ro(t):_e=n}function qg(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=og(a,n,n.pendingProps,n.type,void 0,Ee);break;case 11:n=og(a,n,n.pendingProps,n.type.render,n.ref,Ee);break;case 5:Mc(n);default:gg(a,n),n=_e=Vm(n,Dn),n=mg(a,n,Dn)}t.memoizedProps=t.pendingProps,n===null?ro(t):_e=n}function Xs(t,n,a,l){Tn=Gi=null,Mc(n),Ps=null,$a=0;var c=n.return;try{if(vS(t,c,n,a,Ee)){Qe=1,$l(t,qt(a,t.current)),_e=null;return}}catch(d){if(c!==null)throw _e=c,d;Qe=1,$l(t,qt(a,t.current)),_e=null;return}n.flags&32768?(Re||l===1?t=!0:Vs||(Ee&536870912)!==0?t=!1:(ri=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ft.current,l!==null&&l.tag===13&&(l.flags|=16384))),Vg(n,t)):ro(n)}function ro(t){var n=t;do{if((n.flags&32768)!==0){Vg(n,ri);return}t=n.return;var a=ES(n.alternate,n,Dn);if(a!==null){_e=a;return}if(n=n.sibling,n!==null){_e=n;return}_e=n=t}while(n!==null);Qe===0&&(Qe=5)}function Vg(t,n){do{var a=SS(t.alternate,t);if(a!==null){a.flags&=32767,_e=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){_e=t;return}_e=t=a}while(t!==null);Qe=6,_e=null}function Gg(t,n,a,l,c,d,g,_,E){t.cancelPendingCommit=null;do lo();while(ft!==0);if((Ne&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=oc,oE(t,a,d,g,_,E),t===Le&&(_e=Le=null,Ee=0),Ys=n,ui=t,Fs=a,mf=d,pf=c,kg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,kS(dl,function(){return Kg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,c=Q.p,Q.p=2,g=Ne,Ne|=4;try{TS(t,n,a)}finally{Ne=g,Q.p=c,z.T=l}}ft=1,Yg(),Fg(),Qg()}}function Yg(){if(ft===1){ft=0;var t=ui,n=Ys,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var l=Q.p;Q.p=2;var c=Ne;Ne|=4;try{Ng(n,t);var d=Df,g=Mm(t.containerInfo),_=d.focusedElem,E=d.selectionRange;if(g!==_&&_&&_.ownerDocument&&Im(_.ownerDocument.documentElement,_)){if(E!==null&&ic(_)){var D=E.start,j=E.end;if(j===void 0&&(j=D),"selectionStart"in _)_.selectionStart=D,_.selectionEnd=Math.min(j,_.value.length);else{var B=_.ownerDocument||document,M=B&&B.defaultView||window;if(M.getSelection){var k=M.getSelection(),le=_.textContent.length,se=Math.min(E.start,le),De=E.end===void 0?se:Math.min(E.end,le);!k.extend&&se>De&&(g=De,De=se,se=g);var R=Dm(_,se),C=Dm(_,De);if(R&&C&&(k.rangeCount!==1||k.anchorNode!==R.node||k.anchorOffset!==R.offset||k.focusNode!==C.node||k.focusOffset!==C.offset)){var O=B.createRange();O.setStart(R.node,R.offset),k.removeAllRanges(),se>De?(k.addRange(O),k.extend(C.node,C.offset)):(O.setEnd(C.node,C.offset),k.addRange(O))}}}}for(B=[],k=_;k=k.parentNode;)k.nodeType===1&&B.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<B.length;_++){var H=B[_];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}bo=!!Of,Df=Of=null}finally{Ne=c,Q.p=l,z.T=a}}t.current=n,ft=2}}function Fg(){if(ft===2){ft=0;var t=ui,n=Ys,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var l=Q.p;Q.p=2;var c=Ne;Ne|=4;try{Tg(t,n.alternate,n)}finally{Ne=c,Q.p=l,z.T=a}}ft=3}}function Qg(){if(ft===4||ft===3){ft=0,Jb();var t=ui,n=Ys,a=Fs,l=kg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ft=5:(ft=0,Ys=ui=null,Xg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(oi=null),Uu(a),n=n.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(Sa,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=z.T,c=Q.p,Q.p=2,z.T=null;try{for(var d=t.onRecoverableError,g=0;g<l.length;g++){var _=l[g];d(_.value,{componentStack:_.stack})}}finally{z.T=n,Q.p=c}}(Fs&3)!==0&&lo(),hn(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===gf?rr++:(rr=0,gf=t):rr=0,lr(0)}}function Xg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Ha(n)))}function lo(t){return Yg(),Fg(),Qg(),Kg()}function Kg(){if(ft!==5)return!1;var t=ui,n=mf;mf=0;var a=Uu(Fs),l=z.T,c=Q.p;try{Q.p=32>a?32:a,z.T=null,a=pf,pf=null;var d=ui,g=Fs;if(ft=0,Ys=ui=null,Fs=0,(Ne&6)!==0)throw Error(r(331));var _=Ne;if(Ne|=4,Ig(d.current),Ag(d,d.current,g,a),Ne=_,lr(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(Sa,d)}catch{}return!0}finally{Q.p=c,z.T=l,Xg(t,n)}}function Wg(t,n,a){n=qt(a,n),n=Qc(t.stateNode,n,2),t=Jn(t,n,2),t!==null&&(Ca(t,2),hn(t))}function Me(t,n,a){if(t.tag===3)Wg(t,t,a);else for(;n!==null;){if(n.tag===3){Wg(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(oi===null||!oi.has(l))){t=qt(a,t),a=eg(2),l=Jn(n,a,2),l!==null&&(tg(a,l,n,t),Ca(l,2),hn(l));break}}n=n.return}}function bf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new RS;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(cf=!0,c.add(a),t=DS.bind(null,t,n,a),n.then(t,t))}function DS(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Le===t&&(Ee&a)===a&&(Qe===4||Qe===3&&(Ee&62914560)===Ee&&300>on()-hf?(Ne&2)===0&&Qs(t,0):ff|=a,Gs===Ee&&(Gs=0)),hn(t)}function $g(t,n){n===0&&(n=Qh()),t=As(t,n),t!==null&&(Ca(t,n),hn(t))}function IS(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),$g(t,a)}function MS(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),$g(t,a)}function kS(t,n){return Iu(t,n)}var oo=null,Ks=null,Ef=!1,uo=!1,Sf=!1,$i=0;function hn(t){t!==Ks&&t.next===null&&(Ks===null?oo=Ks=t:Ks=Ks.next=t),uo=!0,Ef||(Ef=!0,US())}function lr(t,n){if(!Sf&&uo){Sf=!0;do for(var a=!1,l=oo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var d=0;else{var g=l.suspendedLanes,_=l.pingedLanes;d=(1<<31-It(42|t)+1)-1,d&=c&~(g&~_),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,t_(l,d))}else d=Ee,d=pl(l,l===Le?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ta(l,d)||(a=!0,t_(l,d));l=l.next}while(a);Sf=!1}}function LS(){Zg()}function Zg(){uo=Ef=!1;var t=0;$i!==0&&(GS()&&(t=$i),$i=0);for(var n=on(),a=null,l=oo;l!==null;){var c=l.next,d=Jg(l,n);d===0?(l.next=null,a===null?oo=c:a.next=c,c===null&&(Ks=a)):(a=l,(t!==0||(d&3)!==0)&&(uo=!0)),l=c}lr(t)}function Jg(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var g=31-It(d),_=1<<g,E=c[g];E===-1?((_&a)===0||(_&l)!==0)&&(c[g]=lE(_,n)):E<=n&&(t.expiredLanes|=_),d&=~_}if(n=Le,a=Ee,a=pl(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(xe===2||xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Mu(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ta(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Mu(l),Uu(a)){case 2:case 8:a=Gh;break;case 32:a=dl;break;case 268435456:a=Yh;break;default:a=dl}return l=e_.bind(null,t),a=Iu(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Mu(l),t.callbackPriority=2,t.callbackNode=null,2}function e_(t,n){if(ft!==0&&ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(lo()&&t.callbackNode!==a)return null;var l=Ee;return l=pl(t,t===Le?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Ug(t,l,n),Jg(t,on()),t.callbackNode!=null&&t.callbackNode===a?e_.bind(null,t):null)}function t_(t,n){if(lo())return null;Ug(t,n,!0)}function US(){FS(function(){(Ne&6)!==0?Iu(Vh,LS):Zg()})}function Tf(){return $i===0&&($i=Fh()),$i}function n_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:bl(""+t)}function i_(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function zS(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var d=n_((c[St]||null).action),g=l.submitter;g&&(n=(n=g[St]||null)?n_(n.formAction):g.getAttribute("formAction"),n!==null&&(d=n,g=null));var _=new Cl("action","action",null,l,c);t.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($i!==0){var E=g?i_(c,g):new FormData(c);qc(a,{pending:!0,data:E,method:c.method,action:d},null,E)}}else typeof d=="function"&&(_.preventDefault(),E=g?i_(c,g):new FormData(c),qc(a,{pending:!0,data:E,method:c.method,action:d},d,E))},currentTarget:c}]})}}for(var Cf=0;Cf<lc.length;Cf++){var wf=lc[Cf],jS=wf.toLowerCase(),PS=wf[0].toUpperCase()+wf.slice(1);$t(jS,"on"+PS)}$t(Um,"onAnimationEnd"),$t(zm,"onAnimationIteration"),$t(jm,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(nS,"onTransitionRun"),$t(iS,"onTransitionStart"),$t(sS,"onTransitionCancel"),$t(Pm,"onTransitionEnd"),vs("onMouseEnter",["mouseout","mouseover"]),vs("onMouseLeave",["mouseout","mouseover"]),vs("onPointerEnter",["pointerout","pointerover"]),vs("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(or));function s_(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var g=l.length-1;0<=g;g--){var _=l[g],E=_.instance,D=_.currentTarget;if(_=_.listener,E!==d&&c.isPropagationStopped())break e;d=_,c.currentTarget=D;try{d(c)}catch(j){Wl(j)}c.currentTarget=null,d=E}else for(g=0;g<l.length;g++){if(_=l[g],E=_.instance,D=_.currentTarget,_=_.listener,E!==d&&c.isPropagationStopped())break e;d=_,c.currentTarget=D;try{d(c)}catch(j){Wl(j)}c.currentTarget=null,d=E}}}}function ye(t,n){var a=n[zu];a===void 0&&(a=n[zu]=new Set);var l=t+"__bubble";a.has(l)||(a_(n,t,2,!1),a.add(l))}function Rf(t,n,a){var l=0;n&&(l|=4),a_(a,t,l,n)}var co="_reactListening"+Math.random().toString(36).slice(2);function Nf(t){if(!t[co]){t[co]=!0,Zh.forEach(function(a){a!=="selectionchange"&&(HS.has(a)||Rf(a,!1,t),Rf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[co]||(n[co]=!0,Rf("selectionchange",!1,n))}}function a_(t,n,a,l){switch(A_(n)){case 2:var c=hT;break;case 8:c=mT;break;default:c=Bf}a=c.bind(null,n,a,t),c=void 0,!Xu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function xf(t,n,a,l,c){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var _=l.stateNode.containerInfo;if(_===c)break;if(g===4)for(g=l.return;g!==null;){var E=g.tag;if((E===3||E===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;_!==null;){if(g=gs(_),g===null)return;if(E=g.tag,E===5||E===6||E===26||E===27){l=d=g;continue e}_=_.parentNode}}l=l.return}dm(function(){var D=d,j=Fu(a),B=[];e:{var M=Hm.get(t);if(M!==void 0){var k=Cl,le=t;switch(t){case"keypress":if(Sl(a)===0)break e;case"keydown":case"keyup":k=kE;break;case"focusin":le="focus",k=Zu;break;case"focusout":le="blur",k=Zu;break;case"beforeblur":case"afterblur":k=Zu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=pm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=SE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=zE;break;case Um:case zm:case jm:k=wE;break;case Pm:k=PE;break;case"scroll":case"scrollend":k=bE;break;case"wheel":k=BE;break;case"copy":case"cut":case"paste":k=NE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=_m;break;case"toggle":case"beforetoggle":k=VE}var se=(n&4)!==0,De=!se&&(t==="scroll"||t==="scrollend"),R=se?M!==null?M+"Capture":null:M;se=[];for(var C=D,O;C!==null;){var H=C;if(O=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||O===null||R===null||(H=Na(C,R),H!=null&&se.push(ur(C,H,O))),De)break;C=C.return}0<se.length&&(M=new k(M,le,null,a,j),B.push({event:M,listeners:se}))}}if((n&7)===0){e:{if(M=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",M&&a!==Yu&&(le=a.relatedTarget||a.fromElement)&&(gs(le)||le[ps]))break e;if((k||M)&&(M=j.window===j?j:(M=j.ownerDocument)?M.defaultView||M.parentWindow:window,k?(le=a.relatedTarget||a.toElement,k=D,le=le?gs(le):null,le!==null&&(De=u(le),se=le.tag,le!==De||se!==5&&se!==27&&se!==6)&&(le=null)):(k=null,le=D),k!==le)){if(se=pm,H="onMouseLeave",R="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(se=_m,H="onPointerLeave",R="onPointerEnter",C="pointer"),De=k==null?M:Ra(k),O=le==null?M:Ra(le),M=new se(H,C+"leave",k,a,j),M.target=De,M.relatedTarget=O,H=null,gs(j)===D&&(se=new se(R,C+"enter",le,a,j),se.target=O,se.relatedTarget=De,H=se),De=H,k&&le)t:{for(se=k,R=le,C=0,O=se;O;O=Ws(O))C++;for(O=0,H=R;H;H=Ws(H))O++;for(;0<C-O;)se=Ws(se),C--;for(;0<O-C;)R=Ws(R),O--;for(;C--;){if(se===R||R!==null&&se===R.alternate)break t;se=Ws(se),R=Ws(R)}se=null}else se=null;k!==null&&r_(B,M,k,se,!1),le!==null&&De!==null&&r_(B,De,le,se,!0)}}e:{if(M=D?Ra(D):window,k=M.nodeName&&M.nodeName.toLowerCase(),k==="select"||k==="input"&&M.type==="file")var Z=wm;else if(Tm(M))if(Rm)Z=JE;else{Z=$E;var pe=WE}else k=M.nodeName,!k||k.toLowerCase()!=="input"||M.type!=="checkbox"&&M.type!=="radio"?D&&Gu(D.elementType)&&(Z=wm):Z=ZE;if(Z&&(Z=Z(t,D))){Cm(B,Z,a,j);break e}pe&&pe(t,M,D),t==="focusout"&&D&&M.type==="number"&&D.memoizedProps.value!=null&&Vu(M,"number",M.value)}switch(pe=D?Ra(D):window,t){case"focusin":(Tm(pe)||pe.contentEditable==="true")&&(Rs=pe,sc=D,La=null);break;case"focusout":La=sc=Rs=null;break;case"mousedown":ac=!0;break;case"contextmenu":case"mouseup":case"dragend":ac=!1,km(B,a,j);break;case"selectionchange":if(tS)break;case"keydown":case"keyup":km(B,a,j)}var te;if(ec)e:{switch(t){case"compositionstart":var ae="onCompositionStart";break e;case"compositionend":ae="onCompositionEnd";break e;case"compositionupdate":ae="onCompositionUpdate";break e}ae=void 0}else ws?Em(t,a)&&(ae="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ae="onCompositionStart");ae&&(ym&&a.locale!=="ko"&&(ws||ae!=="onCompositionStart"?ae==="onCompositionEnd"&&ws&&(te=hm()):(Kn=j,Ku="value"in Kn?Kn.value:Kn.textContent,ws=!0)),pe=fo(D,ae),0<pe.length&&(ae=new gm(ae,t,null,a,j),B.push({event:ae,listeners:pe}),te?ae.data=te:(te=Sm(a),te!==null&&(ae.data=te)))),(te=YE?FE(t,a):QE(t,a))&&(ae=fo(D,"onBeforeInput"),0<ae.length&&(pe=new gm("onBeforeInput","beforeinput",null,a,j),B.push({event:pe,listeners:ae}),pe.data=te)),zS(B,t,D,a,j)}s_(B,n)})}function ur(t,n,a){return{instance:t,listener:n,currentTarget:a}}function fo(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Na(t,a),c!=null&&l.unshift(ur(t,c,d)),c=Na(t,n),c!=null&&l.push(ur(t,c,d))),t.tag===3)return l;t=t.return}return[]}function Ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function r_(t,n,a,l,c){for(var d=n._reactName,g=[];a!==null&&a!==l;){var _=a,E=_.alternate,D=_.stateNode;if(_=_.tag,E!==null&&E===l)break;_!==5&&_!==26&&_!==27||D===null||(E=D,c?(D=Na(a,d),D!=null&&g.unshift(ur(a,D,E))):c||(D=Na(a,d),D!=null&&g.push(ur(a,D,E)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var BS=/\r\n?/g,qS=/\u0000|\uFFFD/g;function l_(t){return(typeof t=="string"?t:""+t).replace(BS,`
`).replace(qS,"")}function o_(t,n){return n=l_(n),l_(t)===n}function ho(){}function Oe(t,n,a,l,c,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Ss(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Ss(t,""+l);break;case"className":_l(t,"class",l);break;case"tabIndex":_l(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_l(t,a,l);break;case"style":cm(t,l,d);break;case"data":if(n!=="object"){_l(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=bl(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Oe(t,n,"name",c.name,c,null),Oe(t,n,"formEncType",c.formEncType,c,null),Oe(t,n,"formMethod",c.formMethod,c,null),Oe(t,n,"formTarget",c.formTarget,c,null)):(Oe(t,n,"encType",c.encType,c,null),Oe(t,n,"method",c.method,c,null),Oe(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=bl(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ho);break;case"onScroll":l!=null&&ye("scroll",t);break;case"onScrollEnd":l!=null&&ye("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=bl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ye("beforetoggle",t),ye("toggle",t),gl(t,"popover",l);break;case"xlinkActuate":yn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":yn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":yn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":yn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":yn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":yn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":yn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":yn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":yn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":gl(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yE.get(a)||a,gl(t,a,l))}}function Af(t,n,a,l,c,d){switch(a){case"style":cm(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Ss(t,l):(typeof l=="number"||typeof l=="bigint")&&Ss(t,""+l);break;case"onScroll":l!=null&&ye("scroll",t);break;case"onScrollEnd":l!=null&&ye("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ho);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jh.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),d=t[St]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,c),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):gl(t,a,l)}}}function dt(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",t),ye("load",t);var l=!1,c=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Oe(t,n,d,g,a,null)}}c&&Oe(t,n,"srcSet",a.srcSet,a,null),l&&Oe(t,n,"src",a.src,a,null);return;case"input":ye("invalid",t);var _=d=g=c=null,E=null,D=null;for(l in a)if(a.hasOwnProperty(l)){var j=a[l];if(j!=null)switch(l){case"name":c=j;break;case"type":g=j;break;case"checked":E=j;break;case"defaultChecked":D=j;break;case"value":d=j;break;case"defaultValue":_=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:Oe(t,n,l,j,a,null)}}rm(t,d,_,E,D,g,c,!1),yl(t);return;case"select":ye("invalid",t),l=g=d=null;for(c in a)if(a.hasOwnProperty(c)&&(_=a[c],_!=null))switch(c){case"value":d=_;break;case"defaultValue":g=_;break;case"multiple":l=_;default:Oe(t,n,c,_,a,null)}n=d,a=g,t.multiple=!!l,n!=null?Es(t,!!l,n,!1):a!=null&&Es(t,!!l,a,!0);return;case"textarea":ye("invalid",t),d=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(_=a[g],_!=null))switch(g){case"value":l=_;break;case"defaultValue":c=_;break;case"children":d=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:Oe(t,n,g,_,a,null)}om(t,l,c,d),yl(t);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(l=a[E],l!=null))switch(E){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Oe(t,n,E,l,a,null)}return;case"dialog":ye("beforetoggle",t),ye("toggle",t),ye("cancel",t),ye("close",t);break;case"iframe":case"object":ye("load",t);break;case"video":case"audio":for(l=0;l<or.length;l++)ye(or[l],t);break;case"image":ye("error",t),ye("load",t);break;case"details":ye("toggle",t);break;case"embed":case"source":case"link":ye("error",t),ye("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Oe(t,n,D,l,a,null)}return;default:if(Gu(n)){for(j in a)a.hasOwnProperty(j)&&(l=a[j],l!==void 0&&Af(t,n,j,l,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(l=a[_],l!=null&&Oe(t,n,_,l,a,null))}function VS(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,g=null,_=null,E=null,D=null,j=null;for(k in a){var B=a[k];if(a.hasOwnProperty(k)&&B!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":E=B;default:l.hasOwnProperty(k)||Oe(t,n,k,null,l,B)}}for(var M in l){var k=l[M];if(B=a[M],l.hasOwnProperty(M)&&(k!=null||B!=null))switch(M){case"type":d=k;break;case"name":c=k;break;case"checked":D=k;break;case"defaultChecked":j=k;break;case"value":g=k;break;case"defaultValue":_=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:k!==B&&Oe(t,n,M,k,l,B)}}qu(t,g,_,E,D,j,d,c);return;case"select":k=g=_=M=null;for(d in a)if(E=a[d],a.hasOwnProperty(d)&&E!=null)switch(d){case"value":break;case"multiple":k=E;default:l.hasOwnProperty(d)||Oe(t,n,d,null,l,E)}for(c in l)if(d=l[c],E=a[c],l.hasOwnProperty(c)&&(d!=null||E!=null))switch(c){case"value":M=d;break;case"defaultValue":_=d;break;case"multiple":g=d;default:d!==E&&Oe(t,n,c,d,l,E)}n=_,a=g,l=k,M!=null?Es(t,!!a,M,!1):!!l!=!!a&&(n!=null?Es(t,!!a,n,!0):Es(t,!!a,a?[]:"",!1));return;case"textarea":k=M=null;for(_ in a)if(c=a[_],a.hasOwnProperty(_)&&c!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Oe(t,n,_,null,l,c)}for(g in l)if(c=l[g],d=a[g],l.hasOwnProperty(g)&&(c!=null||d!=null))switch(g){case"value":M=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==d&&Oe(t,n,g,c,l,d)}lm(t,M,k);return;case"option":for(var le in a)if(M=a[le],a.hasOwnProperty(le)&&M!=null&&!l.hasOwnProperty(le))switch(le){case"selected":t.selected=!1;break;default:Oe(t,n,le,null,l,M)}for(E in l)if(M=l[E],k=a[E],l.hasOwnProperty(E)&&M!==k&&(M!=null||k!=null))switch(E){case"selected":t.selected=M&&typeof M!="function"&&typeof M!="symbol";break;default:Oe(t,n,E,M,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in a)M=a[se],a.hasOwnProperty(se)&&M!=null&&!l.hasOwnProperty(se)&&Oe(t,n,se,null,l,M);for(D in l)if(M=l[D],k=a[D],l.hasOwnProperty(D)&&M!==k&&(M!=null||k!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,n));break;default:Oe(t,n,D,M,l,k)}return;default:if(Gu(n)){for(var De in a)M=a[De],a.hasOwnProperty(De)&&M!==void 0&&!l.hasOwnProperty(De)&&Af(t,n,De,void 0,l,M);for(j in l)M=l[j],k=a[j],!l.hasOwnProperty(j)||M===k||M===void 0&&k===void 0||Af(t,n,j,M,l,k);return}}for(var R in a)M=a[R],a.hasOwnProperty(R)&&M!=null&&!l.hasOwnProperty(R)&&Oe(t,n,R,null,l,M);for(B in l)M=l[B],k=a[B],!l.hasOwnProperty(B)||M===k||M==null&&k==null||Oe(t,n,B,M,l,k)}var Of=null,Df=null;function mo(t){return t.nodeType===9?t:t.ownerDocument}function u_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function If(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Mf=null;function GS(){var t=window.event;return t&&t.type==="popstate"?t===Mf?!1:(Mf=t,!0):(Mf=null,!1)}var f_=typeof setTimeout=="function"?setTimeout:void 0,YS=typeof clearTimeout=="function"?clearTimeout:void 0,d_=typeof Promise=="function"?Promise:void 0,FS=typeof queueMicrotask=="function"?queueMicrotask:typeof d_<"u"?function(t){return d_.resolve(null).then(t).catch(QS)}:f_;function QS(t){setTimeout(function(){throw t})}function fi(t){return t==="head"}function h_(t,n){var a=n,l=0,c=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var g=t.ownerDocument;if(a&1&&cr(g.documentElement),a&2&&cr(g.body),a&4)for(a=g.head,cr(a),g=a.firstChild;g;){var _=g.nextSibling,E=g.nodeName;g[wa]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=_}}if(c===0){t.removeChild(d),yr(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);yr(n)}function kf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":kf(a),ju(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function XS(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wa])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Jt(t.nextSibling),t===null)break}return null}function KS(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Jt(t.nextSibling),t===null))return null;return t}function Lf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function WS(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Jt(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Uf=null;function m_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function p_(t,n,a){switch(n=mo(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function cr(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ju(t)}var Xt=new Map,g_=new Set;function po(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var In=Q.d;Q.d={f:$S,r:ZS,D:JS,C:eT,L:tT,m:nT,X:sT,S:iT,M:aT};function $S(){var t=In.f(),n=ao();return t||n}function ZS(t){var n=_s(t);n!==null&&n.tag===5&&n.type==="form"?Up(n):In.r(t)}var $s=typeof document>"u"?null:document;function __(t,n,a){var l=$s;if(l&&typeof n=="string"&&n){var c=Bt(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),g_.has(c)||(g_.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),dt(n,"link",t),it(n),l.head.appendChild(n)))}}function JS(t){In.D(t),__("dns-prefetch",t,null)}function eT(t,n){In.C(t,n),__("preconnect",t,n)}function tT(t,n,a){In.L(t,n,a);var l=$s;if(l&&t&&n){var c='link[rel="preload"][as="'+Bt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Bt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Bt(a.imageSizes)+'"]')):c+='[href="'+Bt(t)+'"]';var d=c;switch(n){case"style":d=Zs(t);break;case"script":d=Js(t)}Xt.has(d)||(t=y({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Xt.set(d,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(fr(d))||n==="script"&&l.querySelector(dr(d))||(n=l.createElement("link"),dt(n,"link",t),it(n),l.head.appendChild(n)))}}function nT(t,n){In.m(t,n);var a=$s;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Bt(l)+'"][href="'+Bt(t)+'"]',d=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Js(t)}if(!Xt.has(d)&&(t=y({rel:"modulepreload",href:t},n),Xt.set(d,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(dr(d)))return}l=a.createElement("link"),dt(l,"link",t),it(l),a.head.appendChild(l)}}}function iT(t,n,a){In.S(t,n,a);var l=$s;if(l&&t){var c=ys(l).hoistableStyles,d=Zs(t);n=n||"default";var g=c.get(d);if(!g){var _={loading:0,preload:null};if(g=l.querySelector(fr(d)))_.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Xt.get(d))&&zf(t,a);var E=g=l.createElement("link");it(E),dt(E,"link",t),E._p=new Promise(function(D,j){E.onload=D,E.onerror=j}),E.addEventListener("load",function(){_.loading|=1}),E.addEventListener("error",function(){_.loading|=2}),_.loading|=4,go(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:_},c.set(d,g)}}}function sT(t,n){In.X(t,n);var a=$s;if(a&&t){var l=ys(a).hoistableScripts,c=Js(t),d=l.get(c);d||(d=a.querySelector(dr(c)),d||(t=y({src:t,async:!0},n),(n=Xt.get(c))&&jf(t,n),d=a.createElement("script"),it(d),dt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function aT(t,n){In.M(t,n);var a=$s;if(a&&t){var l=ys(a).hoistableScripts,c=Js(t),d=l.get(c);d||(d=a.querySelector(dr(c)),d||(t=y({src:t,async:!0,type:"module"},n),(n=Xt.get(c))&&jf(t,n),d=a.createElement("script"),it(d),dt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function y_(t,n,a,l){var c=(c=fe.current)?po(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Zs(a.href),a=ys(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Zs(a.href);var d=ys(c).hoistableStyles,g=d.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,g),(d=c.querySelector(fr(t)))&&!d._p&&(g.instance=d,g.state.loading=5),Xt.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xt.set(t,a),d||rT(c,t,a,g.state))),n&&l===null)throw Error(r(528,""));return g}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Js(a),a=ys(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Zs(t){return'href="'+Bt(t)+'"'}function fr(t){return'link[rel="stylesheet"]['+t+"]"}function v_(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function rT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),dt(n,"link",a),it(n),t.head.appendChild(n))}function Js(t){return'[src="'+Bt(t)+'"]'}function dr(t){return"script[async]"+t}function b_(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Bt(a.href)+'"]');if(l)return n.instance=l,it(l),l;var c=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),it(l),dt(l,"style",c),go(l,a.precedence,t),n.instance=l;case"stylesheet":c=Zs(a.href);var d=t.querySelector(fr(c));if(d)return n.state.loading|=4,n.instance=d,it(d),d;l=v_(a),(c=Xt.get(c))&&zf(l,c),d=(t.ownerDocument||t).createElement("link"),it(d);var g=d;return g._p=new Promise(function(_,E){g.onload=_,g.onerror=E}),dt(d,"link",l),n.state.loading|=4,go(d,a.precedence,t),n.instance=d;case"script":return d=Js(a.src),(c=t.querySelector(dr(d)))?(n.instance=c,it(c),c):(l=a,(c=Xt.get(d))&&(l=y({},a),jf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),it(c),dt(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,go(l,a.precedence,t));return n.instance}function go(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,d=c,g=0;g<l.length;g++){var _=l[g];if(_.dataset.precedence===n)d=_;else if(d!==c)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function zf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function jf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var _o=null;function E_(t,n,a){if(_o===null){var l=new Map,c=_o=new Map;c.set(a,l)}else c=_o,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var d=a[c];if(!(d[wa]||d[ht]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(n)||"";g=t+g;var _=l.get(g);_?_.push(d):l.set(g,[d])}}return l}function S_(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function lT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function T_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var hr=null;function oT(){}function uT(t,n,a){if(hr===null)throw Error(r(475));var l=hr;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Zs(a.href),d=t.querySelector(fr(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=yo.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=d,it(d);return}d=t.ownerDocument||t,a=v_(a),(c=Xt.get(c))&&zf(a,c),d=d.createElement("link"),it(d);var g=d;g._p=new Promise(function(_,E){g.onload=_,g.onerror=E}),dt(d,"link",a),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=yo.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function cT(){if(hr===null)throw Error(r(475));var t=hr;return t.stylesheets&&t.count===0&&Pf(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Pf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function yo(){if(this.count--,this.count===0){if(this.stylesheets)Pf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var vo=null;function Pf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,vo=new Map,n.forEach(fT,t),vo=null,yo.call(t))}function fT(t,n){if(!(n.state.loading&4)){var a=vo.get(t);if(a)var l=a.get(null);else{a=new Map,vo.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var g=c[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),d=a.get(g)||l,d===l&&a.set(null,c),a.set(g,c),this.count++,l=yo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),d?d.parentNode.insertBefore(c,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var mr={$$typeof:P,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function dT(t,n,a,l,c,d,g,_){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ku(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ku(0),this.hiddenUpdates=ku(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function C_(t,n,a,l,c,d,g,_,E,D,j,B){return t=new dT(t,n,a,g,_,E,D,B),n=1,d===!0&&(n|=24),d=kt(3,null,null,n),t.current=d,d.stateNode=t,n=vc(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},Tc(d),t}function w_(t){return t?(t=Os,t):Os}function R_(t,n,a,l,c,d){c=w_(c),l.context===null?l.context=c:l.pendingContext=c,l=Zn(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Jn(t,l,n),a!==null&&(Pt(a,t,n),Ga(a,t,n))}function N_(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Hf(t,n){N_(t,n),(t=t.alternate)&&N_(t,n)}function x_(t){if(t.tag===13){var n=As(t,67108864);n!==null&&Pt(n,t,67108864),Hf(t,67108864)}}var bo=!0;function hT(t,n,a,l){var c=z.T;z.T=null;var d=Q.p;try{Q.p=2,Bf(t,n,a,l)}finally{Q.p=d,z.T=c}}function mT(t,n,a,l){var c=z.T;z.T=null;var d=Q.p;try{Q.p=8,Bf(t,n,a,l)}finally{Q.p=d,z.T=c}}function Bf(t,n,a,l){if(bo){var c=qf(l);if(c===null)xf(t,n,l,Eo,a),O_(t,l);else if(gT(c,t,n,a,l))l.stopPropagation();else if(O_(t,l),n&4&&-1<pT.indexOf(t)){for(;c!==null;){var d=_s(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=ki(d.pendingLanes);if(g!==0){var _=d;for(_.pendingLanes|=2,_.entangledLanes|=2;g;){var E=1<<31-It(g);_.entanglements[1]|=E,g&=~E}hn(d),(Ne&6)===0&&(io=on()+500,lr(0))}}break;case 13:_=As(d,2),_!==null&&Pt(_,d,2),ao(),Hf(d,2)}if(d=qf(l),d===null&&xf(t,n,l,Eo,a),d===c)break;c=d}c!==null&&l.stopPropagation()}else xf(t,n,l,null,a)}}function qf(t){return t=Fu(t),Vf(t)}var Eo=null;function Vf(t){if(Eo=null,t=gs(t),t!==null){var n=u(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=f(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Eo=t,null}function A_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(eE()){case Vh:return 2;case Gh:return 8;case dl:case tE:return 32;case Yh:return 268435456;default:return 32}default:return 32}}var Gf=!1,di=null,hi=null,mi=null,pr=new Map,gr=new Map,pi=[],pT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(t,n){switch(t){case"focusin":case"focusout":di=null;break;case"dragenter":case"dragleave":hi=null;break;case"mouseover":case"mouseout":mi=null;break;case"pointerover":case"pointerout":pr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":gr.delete(n.pointerId)}}function _r(t,n,a,l,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},n!==null&&(n=_s(n),n!==null&&x_(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function gT(t,n,a,l,c){switch(n){case"focusin":return di=_r(di,t,n,a,l,c),!0;case"dragenter":return hi=_r(hi,t,n,a,l,c),!0;case"mouseover":return mi=_r(mi,t,n,a,l,c),!0;case"pointerover":var d=c.pointerId;return pr.set(d,_r(pr.get(d)||null,t,n,a,l,c)),!0;case"gotpointercapture":return d=c.pointerId,gr.set(d,_r(gr.get(d)||null,t,n,a,l,c)),!0}return!1}function D_(t){var n=gs(t.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=f(a),n!==null){t.blockedOn=n,uE(t.priority,function(){if(a.tag===13){var l=jt();l=Lu(l);var c=As(a,l);c!==null&&Pt(c,a,l),Hf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function So(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=qf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Yu=l,a.target.dispatchEvent(l),Yu=null}else return n=_s(a),n!==null&&x_(n),t.blockedOn=a,!1;n.shift()}return!0}function I_(t,n,a){So(t)&&a.delete(n)}function _T(){Gf=!1,di!==null&&So(di)&&(di=null),hi!==null&&So(hi)&&(hi=null),mi!==null&&So(mi)&&(mi=null),pr.forEach(I_),gr.forEach(I_)}function To(t,n){t.blockedOn===n&&(t.blockedOn=null,Gf||(Gf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,_T)))}var Co=null;function M_(t){Co!==t&&(Co=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Co===t&&(Co=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Vf(l||a)===null)continue;break}var d=_s(a);d!==null&&(t.splice(n,3),n-=3,qc(d,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function yr(t){function n(E){return To(E,t)}di!==null&&To(di,t),hi!==null&&To(hi,t),mi!==null&&To(mi,t),pr.forEach(n),gr.forEach(n);for(var a=0;a<pi.length;a++){var l=pi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<pi.length&&(a=pi[0],a.blockedOn===null);)D_(a),a.blockedOn===null&&pi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],d=a[l+1],g=c[St]||null;if(typeof d=="function")g||M_(a);else if(g){var _=null;if(d&&d.hasAttribute("formAction")){if(c=d,g=d[St]||null)_=g.formAction;else if(Vf(c)!==null)continue}else _=g.action;typeof _=="function"?a[l+1]=_:(a.splice(l,3),l-=3),M_(a)}}}function Yf(t){this._internalRoot=t}wo.prototype.render=Yf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=jt();R_(a,l,t,n,null,null)},wo.prototype.unmount=Yf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;R_(t.current,2,null,t,null,null),ao(),n[ps]=null}};function wo(t){this._internalRoot=t}wo.prototype.unstable_scheduleHydration=function(t){if(t){var n=Wh();t={blockedOn:null,target:t,priority:n};for(var a=0;a<pi.length&&n!==0&&n<pi[a].priority;a++);pi.splice(a,0,t),a===0&&D_(t)}};var k_=e.version;if(k_!=="19.1.0")throw Error(r(527,k_,"19.1.0"));Q.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=m(n),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var yT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ro.isDisabled&&Ro.supportsFiber)try{Sa=Ro.inject(yT),Dt=Ro}catch{}}return br.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",c=Wp,d=$p,g=Zp,_=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(_=n.unstable_transitionCallbacks)),n=C_(t,1,!1,null,null,a,l,c,d,g,_,null),t[ps]=n.current,Nf(t),new Yf(n)},br.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,c="",d=Wp,g=$p,_=Zp,E=null,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks),a.formState!==void 0&&(D=a.formState)),n=C_(t,1,!0,n,a??null,l,c,d,g,_,E,D),n.context=w_(null),a=n.current,l=jt(),l=Lu(l),c=Zn(l),c.callback=null,Jn(a,c,l),a=l,n.current.lanes=a,Ca(n,a),hn(n),t[ps]=n.current,Nf(t),new wo(n)},br.version="19.1.0",br}var G_;function AT(){if(G_)return Xf.exports;G_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Xf.exports=xT(),Xf.exports}var OT=AT(),Er={},Y_;function DT(){if(Y_)return Er;Y_=1,Object.defineProperty(Er,"__esModule",{value:!0}),Er.parse=f,Er.serialize=p;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,s=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function f(v,N){const w=new u,I=v.length;if(I<2)return w;const U=(N==null?void 0:N.decode)||y;let A=0;do{const L=v.indexOf("=",A);if(L===-1)break;const P=v.indexOf(";",A),V=P===-1?I:P;if(L>V){A=v.lastIndexOf(";",L-1)+1;continue}const F=h(v,A,L),ne=m(v,L,F),$=v.slice(F,ne);if(w[$]===void 0){let G=h(v,L+1,V),X=m(v,V,G);const J=U(v.slice(G,X));w[$]=J}A=V+1}while(A<I);return w}function h(v,N,w){do{const I=v.charCodeAt(N);if(I!==32&&I!==9)return N}while(++N<w);return w}function m(v,N,w){for(;N>w;){const I=v.charCodeAt(--N);if(I!==32&&I!==9)return N+1}return w}function p(v,N,w){const I=(w==null?void 0:w.encode)||encodeURIComponent;if(!i.test(v))throw new TypeError(`argument name is invalid: ${v}`);const U=I(N);if(!e.test(U))throw new TypeError(`argument val is invalid: ${N}`);let A=v+"="+U;if(!w)return A;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);A+="; Max-Age="+w.maxAge}if(w.domain){if(!s.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);A+="; Domain="+w.domain}if(w.path){if(!r.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);A+="; Path="+w.path}if(w.expires){if(!b(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);A+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(A+="; HttpOnly"),w.secure&&(A+="; Secure"),w.partitioned&&(A+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return A}function y(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function b(v){return o.call(v)==="[object Date]"}return Er}DT();var F_="popstate";function IT(i={}){function e(o,u){let{pathname:f="/",search:h="",hash:m=""}=hs(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),pd("",{pathname:f,search:h,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function s(o,u){let f=o.document.querySelector("base"),h="";if(f&&f.getAttribute("href")){let m=o.location.href,p=m.indexOf("#");h=p===-1?m:m.slice(0,p)}return h+"#"+(typeof u=="string"?u:Lr(u))}function r(o,u){Wt(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return kT(e,s,r,i)}function Be(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Wt(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MT(){return Math.random().toString(36).substring(2,10)}function Q_(i,e){return{usr:i.state,key:i.key,idx:e}}function pd(i,e,s=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?hs(e):e,state:s,key:e&&e.key||r||MT()}}function Lr({pathname:i="/",search:e="",hash:s=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),s&&s!=="#"&&(i+=s.charAt(0)==="#"?s:"#"+s),i}function hs(i){let e={};if(i){let s=i.indexOf("#");s>=0&&(e.hash=i.substring(s),i=i.substring(0,s));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function kT(i,e,s,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,f=o.history,h="POP",m=null,p=y();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function y(){return(f.state||{idx:null}).idx}function b(){h="POP";let U=y(),A=U==null?null:U-p;p=U,m&&m({action:h,location:I.location,delta:A})}function v(U,A){h="PUSH";let L=pd(I.location,U,A);s&&s(L,U),p=y()+1;let P=Q_(L,p),V=I.createHref(L);try{f.pushState(P,"",V)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;o.location.assign(V)}u&&m&&m({action:h,location:I.location,delta:1})}function N(U,A){h="REPLACE";let L=pd(I.location,U,A);s&&s(L,U),p=y();let P=Q_(L,p),V=I.createHref(L);f.replaceState(P,"",V),u&&m&&m({action:h,location:I.location,delta:0})}function w(U){return LT(U)}let I={get action(){return h},get location(){return i(o,f)},listen(U){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(F_,b),m=U,()=>{o.removeEventListener(F_,b),m=null}},createHref(U){return e(o,U)},createURL:w,encodeLocation(U){let A=w(U);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:v,replace:N,go(U){return f.go(U)}};return I}function LT(i,e=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),Be(s,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:Lr(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=s+r),new URL(r,s)}function uv(i,e,s="/"){return UT(i,e,s,!1)}function UT(i,e,s,r){let o=typeof e=="string"?hs(e):e,u=Pn(o.pathname||"/",s);if(u==null)return null;let f=cv(i);zT(f);let h=null;for(let m=0;h==null&&m<f.length;++m){let p=XT(u);h=FT(f[m],p,r)}return h}function cv(i,e=[],s=[],r=""){let o=(u,f,h)=>{let m={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};m.relativePath.startsWith("/")&&(Be(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let p=zn([r,m.relativePath]),y=s.concat(m);u.children&&u.children.length>0&&(Be(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),cv(u.children,e,y,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:GT(p,u.index),routesMeta:y})};return i.forEach((u,f)=>{var h;if(u.path===""||!((h=u.path)!=null&&h.includes("?")))o(u,f);else for(let m of fv(u.path))o(u,f,m)}),e}function fv(i){let e=i.split("/");if(e.length===0)return[];let[s,...r]=e,o=s.endsWith("?"),u=s.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let f=fv(r.join("/")),h=[];return h.push(...f.map(m=>m===""?u:[u,m].join("/"))),o&&h.push(...f),h.map(m=>i.startsWith("/")&&m===""?"/":m)}function zT(i){i.sort((e,s)=>e.score!==s.score?s.score-e.score:YT(e.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}var jT=/^:[\w-]+$/,PT=3,HT=2,BT=1,qT=10,VT=-2,X_=i=>i==="*";function GT(i,e){let s=i.split("/"),r=s.length;return s.some(X_)&&(r+=VT),e&&(r+=HT),s.filter(o=>!X_(o)).reduce((o,u)=>o+(jT.test(u)?PT:u===""?BT:qT),r)}function YT(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function FT(i,e,s=!1){let{routesMeta:r}=i,o={},u="/",f=[];for(let h=0;h<r.length;++h){let m=r[h],p=h===r.length-1,y=u==="/"?e:e.slice(u.length)||"/",b=Po({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},y),v=m.route;if(!b&&p&&s&&!r[r.length-1].route.index&&(b=Po({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:zn([u,b.pathname]),pathnameBase:ZT(zn([u,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(u=zn([u,b.pathnameBase]))}return f}function Po(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[s,r]=QT(i.path,i.caseSensitive,i.end),o=e.match(s);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:b},v)=>{if(y==="*"){let w=h[v]||"";f=u.slice(0,u.length-w.length).replace(/(.)\/+$/,"$1")}const N=h[v];return b&&!N?p[y]=void 0:p[y]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:f,pattern:i}}function QT(i,e=!1,s=!0){Wt(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,m)=>(r.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function XT(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wt(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Pn(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let s=e.endsWith("/")?e.length-1:e.length,r=i.charAt(s);return r&&r!=="/"?null:i.slice(s)||"/"}function KT(i,e="/"){let{pathname:s,search:r="",hash:o=""}=typeof i=="string"?hs(i):i;return{pathname:s?s.startsWith("/")?s:WT(s,e):e,search:JT(r),hash:e1(o)}}function WT(i,e){let s=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function Zf(i,e,s,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $T(i){return i.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function qd(i){let e=$T(i);return e.map((s,r)=>r===e.length-1?s.pathname:s.pathnameBase)}function Vd(i,e,s,r=!1){let o;typeof i=="string"?o=hs(i):(o={...i},Be(!o.pathname||!o.pathname.includes("?"),Zf("?","pathname","search",o)),Be(!o.pathname||!o.pathname.includes("#"),Zf("#","pathname","hash",o)),Be(!o.search||!o.search.includes("#"),Zf("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,h;if(f==null)h=s;else{let b=e.length-1;if(!r&&f.startsWith("..")){let v=f.split("/");for(;v[0]==="..";)v.shift(),b-=1;o.pathname=v.join("/")}h=b>=0?e[b]:"/"}let m=KT(o,h),p=f&&f!=="/"&&f.endsWith("/"),y=(u||f===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(p||y)&&(m.pathname+="/"),m}var zn=i=>i.join("/").replace(/\/\/+/g,"/"),ZT=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),JT=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,e1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function t1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var dv=["POST","PUT","PATCH","DELETE"];new Set(dv);var n1=["GET",...dv];new Set(n1);var da=x.createContext(null);da.displayName="DataRouter";var cu=x.createContext(null);cu.displayName="DataRouterState";var hv=x.createContext({isTransitioning:!1});hv.displayName="ViewTransition";var i1=x.createContext(new Map);i1.displayName="Fetchers";var s1=x.createContext(null);s1.displayName="Await";var ln=x.createContext(null);ln.displayName="Navigation";var Wr=x.createContext(null);Wr.displayName="Location";var _n=x.createContext({outlet:null,matches:[],isDataRoute:!1});_n.displayName="Route";var Gd=x.createContext(null);Gd.displayName="RouteError";function a1(i,{relative:e}={}){Be(ha(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:r}=x.useContext(ln),{hash:o,pathname:u,search:f}=$r(i,{relative:e}),h=u;return s!=="/"&&(h=u==="/"?s:zn([s,u])),r.createHref({pathname:h,search:f,hash:o})}function ha(){return x.useContext(Wr)!=null}function Ii(){return Be(ha(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Wr).location}var mv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pv(i){x.useContext(ln).static||x.useLayoutEffect(i)}function fu(){let{isDataRoute:i}=x.useContext(_n);return i?y1():r1()}function r1(){Be(ha(),"useNavigate() may be used only in the context of a <Router> component.");let i=x.useContext(da),{basename:e,navigator:s}=x.useContext(ln),{matches:r}=x.useContext(_n),{pathname:o}=Ii(),u=JSON.stringify(qd(r)),f=x.useRef(!1);return pv(()=>{f.current=!0}),x.useCallback((m,p={})=>{if(Wt(f.current,mv),!f.current)return;if(typeof m=="number"){s.go(m);return}let y=Vd(m,JSON.parse(u),o,p.relative==="path");i==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:zn([e,y.pathname])),(p.replace?s.replace:s.push)(y,p.state,p)},[e,s,u,o,i])}x.createContext(null);function $r(i,{relative:e}={}){let{matches:s}=x.useContext(_n),{pathname:r}=Ii(),o=JSON.stringify(qd(s));return x.useMemo(()=>Vd(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function l1(i,e){return gv(i,e)}function gv(i,e,s,r){var A;Be(ha(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=x.useContext(ln),{matches:u}=x.useContext(_n),f=u[u.length-1],h=f?f.params:{},m=f?f.pathname:"/",p=f?f.pathnameBase:"/",y=f&&f.route;{let L=y&&y.path||"";_v(m,!y||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let b=Ii(),v;if(e){let L=typeof e=="string"?hs(e):e;Be(p==="/"||((A=L.pathname)==null?void 0:A.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${L.pathname}" was given in the \`location\` prop.`),v=L}else v=b;let N=v.pathname||"/",w=N;if(p!=="/"){let L=p.replace(/^\//,"").split("/");w="/"+N.replace(/^\//,"").split("/").slice(L.length).join("/")}let I=uv(i,{pathname:w});Wt(y||I!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Wt(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=d1(I&&I.map(L=>Object.assign({},L,{params:Object.assign({},h,L.params),pathname:zn([p,o.encodeLocation?o.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?p:zn([p,o.encodeLocation?o.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),u,s,r);return e&&U?x.createElement(Wr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},U):U}function o1(){let i=_1(),e=t1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),s=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:u},"ErrorBoundary")," or"," ",x.createElement("code",{style:u},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),s?x.createElement("pre",{style:o},s):null,f)}var u1=x.createElement(o1,null),c1=class extends x.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?x.createElement(_n.Provider,{value:this.props.routeContext},x.createElement(Gd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function f1({routeContext:i,match:e,children:s}){let r=x.useContext(da);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(_n.Provider,{value:i},s)}function d1(i,e=[],s=null,r=null){if(i==null){if(!s)return null;if(s.errors)i=s.matches;else if(e.length===0&&!s.initialized&&s.matches.length>0)i=s.matches;else return null}let o=i,u=s==null?void 0:s.errors;if(u!=null){let m=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);Be(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let f=!1,h=-1;if(s)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:y,errors:b}=s,v=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||v){f=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((m,p,y)=>{let b,v=!1,N=null,w=null;s&&(b=u&&p.route.id?u[p.route.id]:void 0,N=p.route.errorElement||u1,f&&(h<0&&y===0?(_v("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):h===y&&(v=!0,w=p.route.hydrateFallbackElement||null)));let I=e.concat(o.slice(0,y+1)),U=()=>{let A;return b?A=N:v?A=w:p.route.Component?A=x.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=m,x.createElement(f1,{match:p,routeContext:{outlet:m,matches:I,isDataRoute:s!=null},children:A})};return s&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?x.createElement(c1,{location:s.location,revalidation:s.revalidation,component:N,error:b,children:U(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):U()},null)}function Yd(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h1(i){let e=x.useContext(da);return Be(e,Yd(i)),e}function m1(i){let e=x.useContext(cu);return Be(e,Yd(i)),e}function p1(i){let e=x.useContext(_n);return Be(e,Yd(i)),e}function Fd(i){let e=p1(i),s=e.matches[e.matches.length-1];return Be(s.route.id,`${i} can only be used on routes that contain a unique "id"`),s.route.id}function g1(){return Fd("useRouteId")}function _1(){var r;let i=x.useContext(Gd),e=m1("useRouteError"),s=Fd("useRouteError");return i!==void 0?i:(r=e.errors)==null?void 0:r[s]}function y1(){let{router:i}=h1("useNavigate"),e=Fd("useNavigate"),s=x.useRef(!1);return pv(()=>{s.current=!0}),x.useCallback(async(o,u={})=>{Wt(s.current,mv),s.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var K_={};function _v(i,e,s){!e&&!K_[i]&&(K_[i]=!0,Wt(!1,s))}x.memo(v1);function v1({routes:i,future:e,state:s}){return gv(i,void 0,s,e)}function yv({to:i,replace:e,state:s,relative:r}){Be(ha(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=x.useContext(ln);Wt(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=x.useContext(_n),{pathname:f}=Ii(),h=fu(),m=Vd(i,qd(u),f,r==="path"),p=JSON.stringify(m);return x.useEffect(()=>{h(JSON.parse(p),{replace:e,state:s,relative:r})},[h,p,r,e,s]),null}function Nr(i){Be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function b1({basename:i="/",children:e=null,location:s,navigationType:r="POP",navigator:o,static:u=!1}){Be(!ha(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),h=x.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof s=="string"&&(s=hs(s));let{pathname:m="/",search:p="",hash:y="",state:b=null,key:v="default"}=s,N=x.useMemo(()=>{let w=Pn(m,f);return w==null?null:{location:{pathname:w,search:p,hash:y,state:b,key:v},navigationType:r}},[f,m,p,y,b,v,r]);return Wt(N!=null,`<Router basename="${f}"> is not able to match the URL "${m}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:x.createElement(ln.Provider,{value:h},x.createElement(Wr.Provider,{children:e,value:N}))}function E1({children:i,location:e}){return l1(gd(i),e)}function gd(i,e=[]){let s=[];return x.Children.forEach(i,(r,o)=>{if(!x.isValidElement(r))return;let u=[...e,o];if(r.type===x.Fragment){s.push.apply(s,gd(r.props.children,u));return}Be(r.type===Nr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Be(!r.props.index||!r.props.children,"An index route cannot have child routes.");let f={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(f.children=gd(r.props.children,u)),s.push(f)}),s}var Do="get",Io="application/x-www-form-urlencoded";function du(i){return i!=null&&typeof i.tagName=="string"}function S1(i){return du(i)&&i.tagName.toLowerCase()==="button"}function T1(i){return du(i)&&i.tagName.toLowerCase()==="form"}function C1(i){return du(i)&&i.tagName.toLowerCase()==="input"}function w1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function R1(i,e){return i.button===0&&(!e||e==="_self")&&!w1(i)}var No=null;function N1(){if(No===null)try{new FormData(document.createElement("form"),0),No=!1}catch{No=!0}return No}var x1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jf(i){return i!=null&&!x1.has(i)?(Wt(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Io}"`),null):i}function A1(i,e){let s,r,o,u,f;if(T1(i)){let h=i.getAttribute("action");r=h?Pn(h,e):null,s=i.getAttribute("method")||Do,o=Jf(i.getAttribute("enctype"))||Io,u=new FormData(i)}else if(S1(i)||C1(i)&&(i.type==="submit"||i.type==="image")){let h=i.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||h.getAttribute("action");if(r=m?Pn(m,e):null,s=i.getAttribute("formmethod")||h.getAttribute("method")||Do,o=Jf(i.getAttribute("formenctype"))||Jf(h.getAttribute("enctype"))||Io,u=new FormData(h,i),!N1()){let{name:p,type:y,value:b}=i;if(y==="image"){let v=p?`${p}.`:"";u.append(`${v}x`,"0"),u.append(`${v}y`,"0")}else p&&u.append(p,b)}}else{if(du(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=Do,r=null,o=Io,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:r,method:s.toLowerCase(),encType:o,formData:u,body:f}}function Qd(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function O1(i,e){if(i.id in e)return e[i.id];try{let s=await import(i.module);return e[i.id]=s,s}catch(s){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function D1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function I1(i,e,s){let r=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await O1(u,s);return f.links?f.links():[]}return[]}));return U1(r.flat(1).filter(D1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function W_(i,e,s,r,o,u){let f=(m,p)=>s[p]?m.route.id!==s[p].route.id:!0,h=(m,p)=>{var y;return s[p].pathname!==m.pathname||((y=s[p].route.path)==null?void 0:y.endsWith("*"))&&s[p].params["*"]!==m.params["*"]};return u==="assets"?e.filter((m,p)=>f(m,p)||h(m,p)):u==="data"?e.filter((m,p)=>{var b;let y=r.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(f(m,p)||h(m,p))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=s[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function M1(i,e,{includeHydrateFallback:s}={}){return k1(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),s&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function k1(i){return[...new Set(i)]}function L1(i){let e={},s=Object.keys(i).sort();for(let r of s)e[r]=i[r];return e}function U1(i,e){let s=new Set;return new Set(e),i.reduce((r,o)=>{let u=JSON.stringify(L1(o));return s.has(u)||(s.add(u),r.push({key:u,link:o})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var z1=new Set([100,101,204,205]);function j1(i,e){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname="_root.data":e&&Pn(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.data`:s.pathname=`${s.pathname.replace(/\/$/,"")}.data`,s}function vv(){let i=x.useContext(da);return Qd(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function P1(){let i=x.useContext(cu);return Qd(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Xd=x.createContext(void 0);Xd.displayName="FrameworkContext";function bv(){let i=x.useContext(Xd);return Qd(i,"You must render this element inside a <HydratedRouter> element"),i}function H1(i,e){let s=x.useContext(Xd),[r,o]=x.useState(!1),[u,f]=x.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:p,onMouseLeave:y,onTouchStart:b}=e,v=x.useRef(null);x.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let I=A=>{A.forEach(L=>{f(L.isIntersecting)})},U=new IntersectionObserver(I,{threshold:.5});return v.current&&U.observe(v.current),()=>{U.disconnect()}}},[i]),x.useEffect(()=>{if(r){let I=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(I)}}},[r]);let N=()=>{o(!0)},w=()=>{o(!1),f(!1)};return s?i!=="intent"?[u,v,{}]:[u,v,{onFocus:Sr(h,N),onBlur:Sr(m,w),onMouseEnter:Sr(p,N),onMouseLeave:Sr(y,w),onTouchStart:Sr(b,N)}]:[!1,v,{}]}function Sr(i,e){return s=>{i&&i(s),s.defaultPrevented||e(s)}}function B1({page:i,...e}){let{router:s}=vv(),r=x.useMemo(()=>uv(s.routes,i,s.basename),[s.routes,i,s.basename]);return r?x.createElement(V1,{page:i,matches:r,...e}):null}function q1(i){let{manifest:e,routeModules:s}=bv(),[r,o]=x.useState([]);return x.useEffect(()=>{let u=!1;return I1(i,e,s).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,s]),r}function V1({page:i,matches:e,...s}){let r=Ii(),{manifest:o,routeModules:u}=bv(),{basename:f}=vv(),{loaderData:h,matches:m}=P1(),p=x.useMemo(()=>W_(i,e,m,o,r,"data"),[i,e,m,o,r]),y=x.useMemo(()=>W_(i,e,m,o,r,"assets"),[i,e,m,o,r]),b=x.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let w=new Set,I=!1;if(e.forEach(A=>{var P;let L=o.routes[A.route.id];!L||!L.hasLoader||(!p.some(V=>V.route.id===A.route.id)&&A.route.id in h&&((P=u[A.route.id])!=null&&P.shouldRevalidate)||L.hasClientLoader?I=!0:w.add(A.route.id))}),w.size===0)return[];let U=j1(i,f);return I&&w.size>0&&U.searchParams.set("_routes",e.filter(A=>w.has(A.route.id)).map(A=>A.route.id).join(",")),[U.pathname+U.search]},[f,h,r,o,p,e,i,u]),v=x.useMemo(()=>M1(y,o),[y,o]),N=q1(y);return x.createElement(x.Fragment,null,b.map(w=>x.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...s})),v.map(w=>x.createElement("link",{key:w,rel:"modulepreload",href:w,...s})),N.map(({key:w,link:I})=>x.createElement("link",{key:w,...I})))}function G1(...i){return e=>{i.forEach(s=>{typeof s=="function"?s(e):s!=null&&(s.current=e)})}}var Ev=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ev&&(window.__reactRouterVersion="7.6.2")}catch{}function Y1({basename:i,children:e,window:s}){let r=x.useRef();r.current==null&&(r.current=IT({window:s,v5Compat:!0}));let o=r.current,[u,f]=x.useState({action:o.action,location:o.location}),h=x.useCallback(m=>{x.startTransition(()=>f(m))},[f]);return x.useLayoutEffect(()=>o.listen(h),[o,h]),x.createElement(b1,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var Sv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tv=x.forwardRef(function({onClick:e,discover:s="render",prefetch:r="none",relative:o,reloadDocument:u,replace:f,state:h,target:m,to:p,preventScrollReset:y,viewTransition:b,...v},N){let{basename:w}=x.useContext(ln),I=typeof p=="string"&&Sv.test(p),U,A=!1;if(typeof p=="string"&&I&&(U=p,Ev))try{let X=new URL(window.location.href),J=p.startsWith("//")?new URL(X.protocol+p):new URL(p),ce=Pn(J.pathname,w);J.origin===X.origin&&ce!=null?p=ce+J.search+J.hash:A=!0}catch{Wt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=a1(p,{relative:o}),[P,V,F]=H1(r,v),ne=X1(p,{replace:f,state:h,target:m,preventScrollReset:y,relative:o,viewTransition:b});function $(X){e&&e(X),X.defaultPrevented||ne(X)}let G=x.createElement("a",{...v,...F,href:U||L,onClick:A||u?e:$,ref:G1(N,V),target:m,"data-discover":!I&&s==="render"?"true":void 0});return P&&!I?x.createElement(x.Fragment,null,G,x.createElement(B1,{page:L})):G});Tv.displayName="Link";var Mo=x.forwardRef(function({"aria-current":e="page",caseSensitive:s=!1,className:r="",end:o=!1,style:u,to:f,viewTransition:h,children:m,...p},y){let b=$r(f,{relative:p.relative}),v=Ii(),N=x.useContext(cu),{navigator:w,basename:I}=x.useContext(ln),U=N!=null&&J1(b)&&h===!0,A=w.encodeLocation?w.encodeLocation(b).pathname:b.pathname,L=v.pathname,P=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;s||(L=L.toLowerCase(),P=P?P.toLowerCase():null,A=A.toLowerCase()),P&&I&&(P=Pn(P,I)||P);const V=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let F=L===A||!o&&L.startsWith(A)&&L.charAt(V)==="/",ne=P!=null&&(P===A||!o&&P.startsWith(A)&&P.charAt(A.length)==="/"),$={isActive:F,isPending:ne,isTransitioning:U},G=F?e:void 0,X;typeof r=="function"?X=r($):X=[r,F?"active":null,ne?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let J=typeof u=="function"?u($):u;return x.createElement(Tv,{...p,"aria-current":G,className:X,ref:y,style:J,to:f,viewTransition:h},typeof m=="function"?m($):m)});Mo.displayName="NavLink";var F1=x.forwardRef(({discover:i="render",fetcherKey:e,navigate:s,reloadDocument:r,replace:o,state:u,method:f=Do,action:h,onSubmit:m,relative:p,preventScrollReset:y,viewTransition:b,...v},N)=>{let w=$1(),I=Z1(h,{relative:p}),U=f.toLowerCase()==="get"?"get":"post",A=typeof h=="string"&&Sv.test(h),L=P=>{if(m&&m(P),P.defaultPrevented)return;P.preventDefault();let V=P.nativeEvent.submitter,F=(V==null?void 0:V.getAttribute("formmethod"))||f;w(V||P.currentTarget,{fetcherKey:e,method:F,navigate:s,replace:o,state:u,relative:p,preventScrollReset:y,viewTransition:b})};return x.createElement("form",{ref:N,method:U,action:I,onSubmit:r?m:L,...v,"data-discover":!A&&i==="render"?"true":void 0})});F1.displayName="Form";function Q1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cv(i){let e=x.useContext(da);return Be(e,Q1(i)),e}function X1(i,{target:e,replace:s,state:r,preventScrollReset:o,relative:u,viewTransition:f}={}){let h=fu(),m=Ii(),p=$r(i,{relative:u});return x.useCallback(y=>{if(R1(y,e)){y.preventDefault();let b=s!==void 0?s:Lr(m)===Lr(p);h(i,{replace:b,state:r,preventScrollReset:o,relative:u,viewTransition:f})}},[m,h,p,s,r,e,i,o,u,f])}var K1=0,W1=()=>`__${String(++K1)}__`;function $1(){let{router:i}=Cv("useSubmit"),{basename:e}=x.useContext(ln),s=g1();return x.useCallback(async(r,o={})=>{let{action:u,method:f,encType:h,formData:m,body:p}=A1(r,e);if(o.navigate===!1){let y=o.fetcherKey||W1();await i.fetch(y,s,o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||f,formEncType:o.encType||h,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||f,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:s,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,s])}function Z1(i,{relative:e}={}){let{basename:s}=x.useContext(ln),r=x.useContext(_n);Be(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...$r(i||".",{relative:e})},f=Ii();if(i==null){u.search=f.search;let h=new URLSearchParams(u.search),m=h.getAll("index");if(m.some(y=>y==="")){h.delete("index"),m.filter(b=>b).forEach(b=>h.append("index",b));let y=h.toString();u.search=y?`?${y}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(u.pathname=u.pathname==="/"?s:zn([s,u.pathname])),Lr(u)}function J1(i,e={}){let s=x.useContext(hv);Be(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Cv("useViewTransitionState"),o=$r(i,{relative:e.relative});if(!s.isTransitioning)return!1;let u=Pn(s.currentLocation.pathname,r)||s.currentLocation.pathname,f=Pn(s.nextLocation.pathname,r)||s.nextLocation.pathname;return Po(o.pathname,f)!=null||Po(o.pathname,u)!=null}[...z1];const eC=()=>{};var $_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y=function(i,e){if(!i)throw ma(e)},ma=function(i){return new Error("Firebase Database ("+wv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=function(i){const e=[];let s=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},tC=function(i){const e=[];let s=0,r=0;for(;s<i.length;){const o=i[s++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[s++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[s++],f=i[s++],h=i[s++],m=((o&7)<<18|(u&63)<<12|(f&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const u=i[s++],f=i[s++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Kd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,h=f?i[o+1]:0,m=o+2<i.length,p=m?i[o+2]:0,y=u>>2,b=(u&3)<<4|h>>4;let v=(h&15)<<2|p>>6,N=p&63;m||(N=64,f||(v=64)),r.push(s[y],s[b],s[v],s[N])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Rv(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):tC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=s[i.charAt(o++)],h=o<i.length?s[i.charAt(o)]:0;++o;const p=o<i.length?s[i.charAt(o)]:64;++o;const b=o<i.length?s[i.charAt(o)]:64;if(++o,u==null||h==null||p==null||b==null)throw new nC;const v=u<<2|h>>4;if(r.push(v),p!==64){const N=h<<4&240|p>>2;if(r.push(N),b!==64){const w=p<<6&192|b;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class nC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Nv=function(i){const e=Rv(i);return Kd.encodeByteArray(e,!0)},Ho=function(i){return Nv(i).replace(/\./g,"")},Bo=function(i){try{return Kd.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(i){return xv(void 0,i)}function xv(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const s=e;return new Date(s.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const s in e)!e.hasOwnProperty(s)||!sC(s)||(i[s]=xv(i[s],e[s]));return i}function sC(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=()=>aC().__FIREBASE_DEFAULTS__,lC=()=>{if(typeof process>"u"||typeof $_>"u")return;const i=$_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},oC=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&Bo(i[1]);return e&&JSON.parse(e)},Wd=()=>{try{return eC()||rC()||lC()||oC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Av=i=>{var e,s;return(s=(e=Wd())===null||e===void 0?void 0:e.emulatorHosts)===null||s===void 0?void 0:s[i]},uC=i=>{const e=Av(i);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),r]:[e.substring(0,s),r]},Ov=()=>{var i;return(i=Wd())===null||i===void 0?void 0:i.config},Dv=i=>{var e;return(e=Wd())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(i){return i.endsWith(".cloudworkstations.dev")}async function Iv(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ho(JSON.stringify(s)),Ho(JSON.stringify(f)),""].join(".")}const xr={};function fC(){const i={prod:[],emulator:[]};for(const e of Object.keys(xr))xr[e]?i.emulator.push(e):i.prod.push(e);return i}function dC(i){let e=document.getElementById(i),s=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),s=!0),{created:s,element:e}}let Z_=!1;function Mv(i,e){if(typeof window>"u"||typeof document>"u"||!pa(window.location.host)||xr[i]===e||xr[i]||Z_)return;xr[i]=e;function s(v){return`__firebase__banner__${v}`}const r="__firebase__banner",u=fC().prod.length>0;function f(){const v=document.getElementById(r);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function m(v,N){v.setAttribute("width","24"),v.setAttribute("id",N),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function p(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{Z_=!0,f()},v}function y(v,N){v.setAttribute("id",N),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function b(){const v=dC(r),N=s("text"),w=document.getElementById(N)||document.createElement("span"),I=s("learnmore"),U=document.getElementById(I)||document.createElement("a"),A=s("preprendIcon"),L=document.getElementById(A)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const P=v.element;h(P),y(U,I);const V=p();m(L,A),P.append(L,w,U,V),document.body.appendChild(P)}u?(w.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $d(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bt())}function hC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function kv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pC(){const i=bt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function gC(){return wv.NODE_ADMIN===!0}function _C(){try{return typeof indexedDB=="object"}catch{return!1}}function yC(){return new Promise((i,e)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),s||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{s=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(s){e(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="FirebaseError";class Mi extends Error{constructor(e,s,r){super(s),this.code=e,this.customData=r,this.name=vC,Object.setPrototypeOf(this,Mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zr.prototype.create)}}class Zr{constructor(e,s,r){this.service=e,this.serviceName=s,this.errors=r}create(e,...s){const r=s[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?bC(u,r):"Error",h=`${this.serviceName}: ${f} (${o}).`;return new Mi(o,h,r)}}function bC(i,e){return i.replace(EC,(s,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const EC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(i){return JSON.parse(i)}function tt(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=function(i){let e={},s={},r={},o="";try{const u=i.split(".");e=Ur(Bo(u[0])||""),s=Ur(Bo(u[1])||""),o=u[2],r=s.d||{},delete s.d}catch{}return{header:e,claims:s,data:r,signature:o}},SC=function(i){const e=Lv(i),s=e.claims;return!!s&&typeof s=="object"&&s.hasOwnProperty("iat")},TC=function(i){const e=Lv(i).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function la(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function _d(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function qo(i,e,s){const r={};for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=e.call(s,i[o],o,i));return r}function ss(i,e){if(i===e)return!0;const s=Object.keys(i),r=Object.keys(e);for(const o of s){if(!r.includes(o))return!1;const u=i[o],f=e[o];if(J_(u)&&J_(f)){if(!ss(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!s.includes(o))return!1;return!0}function J_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(i){const e=[];for(const[s,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(s)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,s){s||(s=0);const r=this.W_;if(typeof e=="string")for(let b=0;b<16;b++)r[b]=e.charCodeAt(s)<<24|e.charCodeAt(s+1)<<16|e.charCodeAt(s+2)<<8|e.charCodeAt(s+3),s+=4;else for(let b=0;b<16;b++)r[b]=e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3],s+=4;for(let b=16;b<80;b++){const v=r[b-3]^r[b-8]^r[b-14]^r[b-16];r[b]=(v<<1|v>>>31)&4294967295}let o=this.chain_[0],u=this.chain_[1],f=this.chain_[2],h=this.chain_[3],m=this.chain_[4],p,y;for(let b=0;b<80;b++){b<40?b<20?(p=h^u&(f^h),y=1518500249):(p=u^f^h,y=1859775393):b<60?(p=u&f|h&(u|f),y=2400959708):(p=u^f^h,y=3395469782);const v=(o<<5|o>>>27)+p+m+y+r[b]&4294967295;m=h,h=f,f=(u<<30|u>>>2)&4294967295,u=o,o=v}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(e,s){if(e==null)return;s===void 0&&(s=e.length);const r=s-this.blockSize;let o=0;const u=this.buf_;let f=this.inbuf_;for(;o<s;){if(f===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<s;)if(u[f]=e.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}else for(;o<s;)if(u[f]=e[o],++f,++o,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=s}digest(){const e=[];let s=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=s&255,s/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let u=24;u>=0;u-=8)e[r]=this.chain_[o]>>u&255,++r;return e}}function wC(i,e){const s=new RC(i,e);return s.subscribe.bind(s)}class RC{constructor(e,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(s=>{s.next(e)})}error(e){this.forEachObserver(s=>{s.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,s,r){let o;if(e===void 0&&s===void 0&&r===void 0)throw new Error("Missing Observer.");NC(e,["next","error","complete"])?o=e:o={next:e,error:s,complete:r},o.next===void 0&&(o.next=ed),o.error===void 0&&(o.error=ed),o.complete===void 0&&(o.complete=ed);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,e)}sendOne(e,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{s(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NC(i,e){if(typeof i!="object"||i===null)return!1;for(const s of e)if(s in i&&typeof i[s]=="function")return!0;return!1}function ed(){}function Zd(i,e){return`${i} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=function(i){const e=[];let s=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);if(o>=55296&&o<=56319){const u=o-55296;r++,Y(r<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(r)-56320;o=65536+(u<<10)+f}o<128?e[s++]=o:o<2048?(e[s++]=o>>6|192,e[s++]=o&63|128):o<65536?(e[s++]=o>>12|224,e[s++]=o>>6&63|128,e[s++]=o&63|128):(e[s++]=o>>18|240,e[s++]=o>>12&63|128,e[s++]=o>>6&63|128,e[s++]=o&63|128)}return e},mu=function(i){let e=0;for(let s=0;s<i.length;s++){const r=i.charCodeAt(s);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,s++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(i){return i&&i._delegate?i._delegate:i}class as{constructor(e,s,r){this.name=e,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const r=new hu;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:s});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){var s;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(s=e==null?void 0:e.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DC(e))try{this.getOrInitializeService({instanceIdentifier:Zi})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=Zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zi){return this.instances.has(e)}getOptions(e=Zi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[u,f]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(u);r===h&&f.resolve(o)}return o}onInit(e,s){var r;const o=this.normalizeInstanceIdentifier(s),u=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,s){const r=this.onInitCallbacks.get(s);if(r)for(const o of r)try{o(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OC(e),options:s}),this.instances.set(e,r),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zi){return this.component?this.component.multipleInstances?e:Zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OC(i){return i===Zi?void 0:i}function DC(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new AC(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ie||(Ie={}));const MC={debug:Ie.DEBUG,verbose:Ie.VERBOSE,info:Ie.INFO,warn:Ie.WARN,error:Ie.ERROR,silent:Ie.SILENT},kC=Ie.INFO,LC={[Ie.DEBUG]:"log",[Ie.VERBOSE]:"log",[Ie.INFO]:"info",[Ie.WARN]:"warn",[Ie.ERROR]:"error"},UC=(i,e,...s)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=LC[e];if(o)console[o](`[${r}]  ${i.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jd{constructor(e){this.name=e,this._logLevel=kC,this._logHandler=UC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ie.DEBUG,...e),this._logHandler(this,Ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ie.VERBOSE,...e),this._logHandler(this,Ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ie.INFO,...e),this._logHandler(this,Ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ie.WARN,...e),this._logHandler(this,Ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ie.ERROR,...e),this._logHandler(this,Ie.ERROR,...e)}}const zC=(i,e)=>e.some(s=>i instanceof s);let ey,ty;function jC(){return ey||(ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PC(){return ty||(ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uv=new WeakMap,yd=new WeakMap,zv=new WeakMap,td=new WeakMap,eh=new WeakMap;function HC(i){const e=new Promise((s,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{s(Ei(i.result)),o()},f=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(s=>{s instanceof IDBCursor&&Uv.set(s,i)}).catch(()=>{}),eh.set(e,i),e}function BC(i){if(yd.has(i))return;const e=new Promise((s,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{s(),o()},f=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});yd.set(i,e)}let vd={get(i,e,s){if(i instanceof IDBTransaction){if(e==="done")return yd.get(i);if(e==="objectStoreNames")return i.objectStoreNames||zv.get(i);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Ei(i[e])},set(i,e,s){return i[e]=s,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function qC(i){vd=i(vd)}function VC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const r=i.call(nd(this),e,...s);return zv.set(r,e.sort?e.sort():[e]),Ei(r)}:PC().includes(i)?function(...e){return i.apply(nd(this),e),Ei(Uv.get(this))}:function(...e){return Ei(i.apply(nd(this),e))}}function GC(i){return typeof i=="function"?VC(i):(i instanceof IDBTransaction&&BC(i),zC(i,jC())?new Proxy(i,vd):i)}function Ei(i){if(i instanceof IDBRequest)return HC(i);if(td.has(i))return td.get(i);const e=GC(i);return e!==i&&(td.set(i,e),eh.set(e,i)),e}const nd=i=>eh.get(i);function YC(i,e,{blocked:s,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),h=Ei(f);return r&&f.addEventListener("upgradeneeded",m=>{r(Ei(f.result),m.oldVersion,m.newVersion,Ei(f.transaction),m)}),s&&f.addEventListener("blocked",m=>s(m.oldVersion,m.newVersion,m)),h.then(m=>{u&&m.addEventListener("close",()=>u()),o&&m.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const FC=["get","getKey","getAll","getAllKeys","count"],QC=["put","add","delete","clear"],id=new Map;function ny(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(id.get(e))return id.get(e);const s=e.replace(/FromIndex$/,""),r=e!==s,o=QC.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(o||FC.includes(s)))return;const u=async function(f,...h){const m=this.transaction(f,o?"readwrite":"readonly");let p=m.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[s](...h),o&&m.done]))[0]};return id.set(e,u),u}qC(i=>({...i,get:(e,s,r)=>ny(e,s)||i.get(e,s,r),has:(e,s)=>!!ny(e,s)||i.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(KC(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function KC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bd="@firebase/app",iy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn=new Jd("@firebase/app"),WC="@firebase/app-compat",$C="@firebase/analytics-compat",ZC="@firebase/analytics",JC="@firebase/app-check-compat",ew="@firebase/app-check",tw="@firebase/auth",nw="@firebase/auth-compat",iw="@firebase/database",sw="@firebase/data-connect",aw="@firebase/database-compat",rw="@firebase/functions",lw="@firebase/functions-compat",ow="@firebase/installations",uw="@firebase/installations-compat",cw="@firebase/messaging",fw="@firebase/messaging-compat",dw="@firebase/performance",hw="@firebase/performance-compat",mw="@firebase/remote-config",pw="@firebase/remote-config-compat",gw="@firebase/storage",_w="@firebase/storage-compat",yw="@firebase/firestore",vw="@firebase/ai",bw="@firebase/firestore-compat",Ew="firebase",Sw="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="[DEFAULT]",Tw={[bd]:"fire-core",[WC]:"fire-core-compat",[ZC]:"fire-analytics",[$C]:"fire-analytics-compat",[ew]:"fire-app-check",[JC]:"fire-app-check-compat",[tw]:"fire-auth",[nw]:"fire-auth-compat",[iw]:"fire-rtdb",[sw]:"fire-data-connect",[aw]:"fire-rtdb-compat",[rw]:"fire-fn",[lw]:"fire-fn-compat",[ow]:"fire-iid",[uw]:"fire-iid-compat",[cw]:"fire-fcm",[fw]:"fire-fcm-compat",[dw]:"fire-perf",[hw]:"fire-perf-compat",[mw]:"fire-rc",[pw]:"fire-rc-compat",[gw]:"fire-gcs",[_w]:"fire-gcs-compat",[yw]:"fire-fst",[bw]:"fire-fst-compat",[vw]:"fire-vertex","fire-js":"fire-js",[Ew]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=new Map,Cw=new Map,Sd=new Map;function sy(i,e){try{i.container.addComponent(e)}catch(s){Hn.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,s)}}function oa(i){const e=i.name;if(Sd.has(e))return Hn.debug(`There were multiple attempts to register component ${e}.`),!1;Sd.set(e,i);for(const s of Vo.values())sy(s,i);for(const s of Cw.values())sy(s,i);return!0}function th(i,e){const s=i.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),i.container.getProvider(e)}function Kt(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Si=new Zr("app","Firebase",ww);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,s,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new as("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=Sw;function jv(i,e={}){let s=i;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ed,automaticDataCollectionEnabled:!0},e),o=r.name;if(typeof o!="string"||!o)throw Si.create("bad-app-name",{appName:String(o)});if(s||(s=Ov()),!s)throw Si.create("no-options");const u=Vo.get(o);if(u){if(ss(s,u.options)&&ss(r,u.config))return u;throw Si.create("duplicate-app",{appName:o})}const f=new IC(o);for(const m of Sd.values())f.addComponent(m);const h=new Rw(s,r,f);return Vo.set(o,h),h}function Pv(i=Ed){const e=Vo.get(i);if(!e&&i===Ed&&Ov())return jv();if(!e)throw Si.create("no-app",{appName:i});return e}function Ti(i,e,s){var r;let o=(r=Tw[i])!==null&&r!==void 0?r:i;s&&(o+=`-${s}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const h=[`Unable to register library "${o}" with version "${e}":`];u&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&h.push("and"),f&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hn.warn(h.join(" "));return}oa(new as(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="firebase-heartbeat-database",xw=1,zr="firebase-heartbeat-store";let sd=null;function Hv(){return sd||(sd=YC(Nw,xw,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(zr)}catch(s){console.warn(s)}}}}).catch(i=>{throw Si.create("idb-open",{originalErrorMessage:i.message})})),sd}async function Aw(i){try{const s=(await Hv()).transaction(zr),r=await s.objectStore(zr).get(Bv(i));return await s.done,r}catch(e){if(e instanceof Mi)Hn.warn(e.message);else{const s=Si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hn.warn(s.message)}}}async function ay(i,e){try{const r=(await Hv()).transaction(zr,"readwrite");await r.objectStore(zr).put(e,Bv(i)),await r.done}catch(s){if(s instanceof Mi)Hn.warn(s.message);else{const r=Si.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});Hn.warn(r.message)}}}function Bv(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=1024,Dw=30;class Iw{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new kw(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,s;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=ry();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Dw){const f=Lw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Hn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=ry(),{heartbeatsToSend:r,unsentEntries:o}=Mw(this._heartbeatsCache.heartbeats),u=Ho(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=s,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(s){return Hn.warn(s),""}}}function ry(){return new Date().toISOString().substring(0,10)}function Mw(i,e=Ow){const s=[];let r=i.slice();for(const o of i){const u=s.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),ly(s)>e){u.dates.pop();break}}else if(s.push({agent:o.agent,dates:[o.date]}),ly(s)>e){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class kw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _C()?yC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await Aw(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var s;if(await this._canUseIndexedDBPromise){const o=await this.read();return ay(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var s;if(await this._canUseIndexedDBPromise){const o=await this.read();return ay(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function ly(i){return Ho(JSON.stringify({version:2,heartbeats:i})).length}function Lw(i){if(i.length===0)return-1;let e=0,s=i[0].date;for(let r=1;r<i.length;r++)i[r].date<s&&(s=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(i){oa(new as("platform-logger",e=>new XC(e),"PRIVATE")),oa(new as("heartbeat",e=>new Iw(e),"PRIVATE")),Ti(bd,iy,i),Ti(bd,iy,"esm2017"),Ti("fire-js","")}Uw("");function nh(i,e){var s={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(s[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(i);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(i,r[o])&&(s[r[o]]=i[r[o]]);return s}function qv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zw=qv,Vv=new Zr("auth","Firebase",qv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new Jd("@firebase/auth");function jw(i,...e){Go.logLevel<=Ie.WARN&&Go.warn(`Auth (${_a}): ${i}`,...e)}function ko(i,...e){Go.logLevel<=Ie.ERROR&&Go.error(`Auth (${_a}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(i,...e){throw sh(i,...e)}function an(i,...e){return sh(i,...e)}function ih(i,e,s){const r=Object.assign(Object.assign({},zw()),{[e]:s});return new Zr("auth","Firebase",r).create(e,{appName:i.name})}function Ci(i){return ih(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pw(i,e,s){const r=s;if(!(e instanceof r))throw r.name!==e.constructor.name&&pn(i,"argument-error"),ih(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sh(i,...e){if(typeof i!="string"){const s=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(s,...r)}return Vv.create(i,...e)}function oe(i,e,...s){if(!i)throw sh(e,...s)}function kn(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ko(e),new Error(e)}function Bn(i,e){i||kn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function Hw(){return oy()==="http:"||oy()==="https:"}function oy(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Hw()||mC()||"connection"in navigator)?navigator.onLine:!0}function qw(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,s){this.shortDelay=e,this.longDelay=s,Bn(s>e,"Short delay should be less than long delay!"),this.isMobile=$d()||kv()}get(){return Bw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(i,e){Bn(i.emulator,"Emulator should always be set here");const{url:s}=i.emulator;return e?`${s}${e.startsWith("/")?e.slice(1):e}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{static initialize(e,s,r){this.fetchImpl=e,s&&(this.headersImpl=s),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Yw=new Jr(3e4,6e4);function pu(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ya(i,e,s,r,o={}){return Yv(i,o,async()=>{let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});const h=ga(Object.assign({key:i.config.apiKey},f)).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const p=Object.assign({method:e,headers:m},u);return hC()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&pa(i.emulatorConfig.host)&&(p.credentials="include"),Gv.fetch()(await Qv(i,i.config.apiHost,s,h),p)})}async function Yv(i,e,s){i._canInitEmulator=!1;const r=Object.assign(Object.assign({},Vw),e);try{const o=new Fw(i),u=await Promise.race([s(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw xo(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const h=u.ok?f.errorMessage:f.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw xo(i,"credential-already-in-use",f);if(m==="EMAIL_EXISTS")throw xo(i,"email-already-in-use",f);if(m==="USER_DISABLED")throw xo(i,"user-disabled",f);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ih(i,y,p);pn(i,y)}}catch(o){if(o instanceof Mi)throw o;pn(i,"network-request-failed",{message:String(o)})}}async function Fv(i,e,s,r,o={}){const u=await ya(i,e,s,r,o);return"mfaPendingCredential"in u&&pn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Qv(i,e,s,r){const o=`${e}${s}?${r}`,u=i,f=u.config.emulator?ah(i.config,o):`${i.config.apiScheme}://${o}`;return Gw.includes(s)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class Fw{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((s,r)=>{this.timer=setTimeout(()=>r(an(this.auth,"network-request-failed")),Yw.get())})}}function xo(i,e,s){const r={appName:i.name};s.email&&(r.email=s.email),s.phoneNumber&&(r.phoneNumber=s.phoneNumber);const o=an(i,e,r);return o.customData._tokenResponse=s,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(i,e){return ya(i,"POST","/v1/accounts:delete",e)}async function Yo(i,e){return ya(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Xw(i,e=!1){const s=Et(i),r=await s.getIdToken(e),o=rh(r);oe(o&&o.exp&&o.auth_time&&o.iat,s.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:Ar(ad(o.auth_time)),issuedAtTime:Ar(ad(o.iat)),expirationTime:Ar(ad(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function ad(i){return Number(i)*1e3}function rh(i){const[e,s,r]=i.split(".");if(e===void 0||s===void 0||r===void 0)return ko("JWT malformed, contained fewer than 3 sections"),null;try{const o=Bo(s);return o?JSON.parse(o):(ko("Failed to decode base64 JWT payload"),null)}catch(o){return ko("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function uy(i){const e=rh(i);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jr(i,e,s=!1){if(s)return e;try{return await e}catch(r){throw r instanceof Mi&&Kw(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function Kw({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var s;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const s=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,s){this.createdAt=e,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ar(this.lastLoginAt),this.creationTime=Ar(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(i){var e;const s=i.auth,r=await i.getIdToken(),o=await jr(i,Yo(s,{idToken:r}));oe(o==null?void 0:o.users.length,s,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?Xv(u.providerUserInfo):[],h=Zw(i.providerData,f),m=i.isAnonymous,p=!(i.email&&u.passwordHash)&&!(h!=null&&h.length),y=m?p:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new Cd(u.createdAt,u.lastLoginAt),isAnonymous:y};Object.assign(i,b)}async function $w(i){const e=Et(i);await Fo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zw(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function Xv(i){return i.map(e=>{var{providerId:s}=e,r=nh(e,["providerId"]);return{providerId:s,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jw(i,e){const s=await Yv(i,{},async()=>{const r=ga({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await Qv(i,o,"/v1/token",`key=${u}`),h=await i._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:r};return i.emulatorConfig&&pa(i.emulatorConfig.host)&&(m.credentials="include"),Gv.fetch()(f,m)});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function eR(i,e){return ya(i,"POST","/v2/accounts:revokeToken",pu(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const s="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,s)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const s=uy(e);this.updateTokensAndExpiration(e,null,s)}async getToken(e,s=!1){return!s&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,s){const{accessToken:r,refreshToken:o,expiresIn:u}=await Jw(e,s);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,s,r){this.refreshToken=s||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,s){const{refreshToken:r,accessToken:o,expirationTime:u}=s,f=new na;return r&&(oe(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(oe(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(oe(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new na,this.toJSON())}_performRefresh(){return kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _i(i,e){oe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class tn{constructor(e){var{uid:s,auth:r,stsTokenManager:o}=e,u=nh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ww(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Cd(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const s=await jr(this,this.stsTokenManager.getToken(this.auth,e));return oe(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(e){return Xw(this,e)}reload(){return $w(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(s=>Object.assign({},s)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const s=new tn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return s.metadata._copy(this.metadata),s}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,s=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),s&&await Fo(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kt(this.auth.app))return Promise.reject(Ci(this.auth));const e=await this.getIdToken();return await jr(this,Qw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,s){var r,o,u,f,h,m,p,y;const b=(r=s.displayName)!==null&&r!==void 0?r:void 0,v=(o=s.email)!==null&&o!==void 0?o:void 0,N=(u=s.phoneNumber)!==null&&u!==void 0?u:void 0,w=(f=s.photoURL)!==null&&f!==void 0?f:void 0,I=(h=s.tenantId)!==null&&h!==void 0?h:void 0,U=(m=s._redirectEventId)!==null&&m!==void 0?m:void 0,A=(p=s.createdAt)!==null&&p!==void 0?p:void 0,L=(y=s.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:P,emailVerified:V,isAnonymous:F,providerData:ne,stsTokenManager:$}=s;oe(P&&$,e,"internal-error");const G=na.fromJSON(this.name,$);oe(typeof P=="string",e,"internal-error"),_i(b,e.name),_i(v,e.name),oe(typeof V=="boolean",e,"internal-error"),oe(typeof F=="boolean",e,"internal-error"),_i(N,e.name),_i(w,e.name),_i(I,e.name),_i(U,e.name),_i(A,e.name),_i(L,e.name);const X=new tn({uid:P,auth:e,email:v,emailVerified:V,displayName:b,isAnonymous:F,photoURL:w,phoneNumber:N,tenantId:I,stsTokenManager:G,createdAt:A,lastLoginAt:L});return ne&&Array.isArray(ne)&&(X.providerData=ne.map(J=>Object.assign({},J))),U&&(X._redirectEventId=U),X}static async _fromIdTokenResponse(e,s,r=!1){const o=new na;o.updateFromServerResponse(s);const u=new tn({uid:s.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Fo(u),u}static async _fromGetAccountInfoResponse(e,s,r){const o=s.users[0];oe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Xv(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),h=new na;h.updateFromIdToken(r);const m=new tn({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:f}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Cd(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=new Map;function Ln(i){Bn(i instanceof Function,"Expected a class definition");let e=cy.get(i);return e?(Bn(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,cy.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,s){this.storage[e]=s}async _get(e){const s=this.storage[e];return s===void 0?null:s}async _remove(e){delete this.storage[e]}_addListener(e,s){}_removeListener(e,s){}}Kv.type="NONE";const fy=Kv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(i,e,s){return`firebase:${i}:${e}:${s}`}class ia{constructor(e,s,r){this.persistence=e,this.auth=s,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=Lo(this.userKey,o.apiKey,u),this.fullPersistenceKey=Lo("persistence",o.apiKey,u),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const s=await Yo(this.auth,{idToken:e}).catch(()=>{});return s?tn._fromGetAccountInfoResponse(this.auth,s,e):null}return tn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,s,r="authUser"){if(!s.length)return new ia(Ln(fy),e,r);const o=(await Promise.all(s.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let u=o[0]||Ln(fy);const f=Lo(r,e.config.apiKey,e.name);let h=null;for(const p of s)try{const y=await p._get(f);if(y){let b;if(typeof y=="string"){const v=await Yo(e,{idToken:y}).catch(()=>{});if(!v)break;b=await tn._fromGetAccountInfoResponse(e,v,y)}else b=tn._fromJSON(e,y);p!==u&&(h=b),u=p;break}}catch{}const m=o.filter(p=>p._shouldAllowMigration);return!u._shouldAllowMigration||!m.length?new ia(u,e,r):(u=m[0],h&&await u._set(f,h.toJSON()),await Promise.all(s.map(async p=>{if(p!==u)try{await p._remove(f)}catch{}})),new ia(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dy(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Jv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Wv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(t0(e))return"Blackberry";if(n0(e))return"Webos";if($v(e))return"Safari";if((e.includes("chrome/")||Zv(e))&&!e.includes("edge/"))return"Chrome";if(e0(e))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(s);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Wv(i=bt()){return/firefox\//i.test(i)}function $v(i=bt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Zv(i=bt()){return/crios\//i.test(i)}function Jv(i=bt()){return/iemobile/i.test(i)}function e0(i=bt()){return/android/i.test(i)}function t0(i=bt()){return/blackberry/i.test(i)}function n0(i=bt()){return/webos/i.test(i)}function lh(i=bt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function tR(i=bt()){var e;return lh(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nR(){return pC()&&document.documentMode===10}function i0(i=bt()){return lh(i)||e0(i)||n0(i)||t0(i)||/windows phone/i.test(i)||Jv(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(i,e=[]){let s;switch(i){case"Browser":s=dy(bt());break;case"Worker":s=`${dy(bt())}-${i}`;break;default:s=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${s}/JsCore/${_a}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,s){const r=u=>new Promise((f,h)=>{try{const m=e(u);f(m)}catch(m){h(m)}});r.onAbort=s,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const s=[];try{for(const r of this.queue)await r(e),r.onAbort&&s.push(r.onAbort)}catch(r){s.reverse();for(const o of s)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(i,e={}){return ya(i,"GET","/v2/passwordPolicy",pu(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=6;class rR{constructor(e){var s,r,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(s=f.minPasswordLength)!==null&&s!==void 0?s:aR,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var s,r,o,u,f,h;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(s=m.meetsMinPasswordLength)!==null&&s!==void 0?s:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(u=m.containsUppercaseLetter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNumericCharacter)!==null&&f!==void 0?f:!0),m.isValid&&(m.isValid=(h=m.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),m}validatePasswordLengthOptions(e,s){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(s.meetsMinPasswordLength=e.length>=r),o&&(s.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(s,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,s,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,s,r,o){this.app=e,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hy(this),this.idTokenSubscription=new hy(this),this.beforeStateQueue=new iR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,s){return s&&(this._popupRedirectResolver=Ln(s)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await ia.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const s=await Yo(this,{idToken:e}),r=await tn._fromGetAccountInfoResponse(this,s,e);await this.directlySetCurrentUser(r)}catch(s){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",s),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Kt(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,h=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!f||f===h)&&(m!=null&&m.user)&&(o=m.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(e){try{await Fo(e)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kt(this.app))return Promise.reject(Ci(this));const s=e?Et(e):null;return s&&oe(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(e,s=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kt(this.app)?Promise.reject(Ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kt(this.app)?Promise.reject(Ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ln(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await sR(this),s=new rR(e);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zr("auth","Firebase",e())}onAuthStateChanged(e,s,r){return this.registerStateListener(this.authStateSubscription,e,s,r)}beforeAuthStateChanged(e,s){return this.beforeStateQueue.pushCallback(e,s)}onIdTokenChanged(e,s,r){return this.registerStateListener(this.idTokenSubscription,e,s,r)}authStateReady(){return new Promise((e,s)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},s)}})}async revokeAccessToken(e){if(this.currentUser){const s=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:s};this.tenantId!=null&&(r.tenantId=this.tenantId),await eR(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,s){const r=await this.getOrInitRedirectPersistenceManager(s);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const s=e&&Ln(e)||this._popupRedirectResolver;oe(s,this,"argument-error"),this.redirectPersistenceManager=await ia.create(this,[Ln(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var s,r;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(s=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,s,r,o){if(this._deleted)return()=>{};const u=typeof s=="function"?s:s.next.bind(s);let f=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(h,this,"internal-error"),h.then(()=>{f||u(this.currentUser)}),typeof s=="function"){const m=e.addObserver(s,r,o);return()=>{f=!0,m()}}else{const m=e.addObserver(s);return()=>{f=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const s={"X-Client-Version":this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(s["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(s["X-Firebase-AppCheck"]=o),s}async _getAppCheckToken(){var e;if(Kt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const s=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return s!=null&&s.error&&jw(`Error while retrieving App Check token: ${s.error}`),s==null?void 0:s.token}}function el(i){return Et(i)}class hy{constructor(e){this.auth=e,this.observer=null,this.addObserver=wC(s=>this.observer=s)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oR(i){oh=i}function uR(i){return oh.loadJS(i)}function cR(){return oh.gapiScript}function fR(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(i,e){const s=th(i,"auth");if(s.isInitialized()){const o=s.getImmediate(),u=s.getOptions();if(ss(u,e??{}))return o;pn(o,"already-initialized")}return s.initialize({options:e})}function hR(i,e){const s=(e==null?void 0:e.persistence)||[],r=(Array.isArray(s)?s:[s]).map(Ln);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function mR(i,e,s){const r=el(i);oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=a0(e),{host:f,port:h}=pR(e),m=h===null?"":`:${h}`,p={url:`${u}//${f}${m}/`},y=Object.freeze({host:f,port:h,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),oe(ss(p,r.config.emulator)&&ss(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,pa(f)?(Iv(`${u}//${f}${m}`),Mv("Auth",!0)):gR()}function a0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function pR(i){const e=a0(i),s=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!s)return{host:"",port:null};const r=s[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:my(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:my(f)}}}function my(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function gR(){function i(){const e=document.createElement("p"),s=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,s){this.providerId=e,this.signInMethod=s}toJSON(){return kn("not implemented")}_getIdTokenResponse(e){return kn("not implemented")}_linkToIdToken(e,s){return kn("not implemented")}_getReauthenticationResolver(e){return kn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(i,e){return Fv(i,"POST","/v1/accounts:signInWithIdp",pu(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="http://localhost";class rs extends r0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const s=new rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(s.idToken=e.idToken),e.accessToken&&(s.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(s.nonce=e.nonce),e.pendingToken&&(s.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(s.accessToken=e.oauthToken,s.secret=e.oauthTokenSecret):pn("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const s=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=s,u=nh(s,["providerId","signInMethod"]);if(!r||!o)return null;const f=new rs(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const s=this.buildRequest();return sa(e,s)}_linkToIdToken(e,s){const r=this.buildRequest();return r.idToken=s,sa(e,r)}_getReauthenticationResolver(e){const s=this.buildRequest();return s.autoCreate=!1,sa(e,s)}buildRequest(){const e={requestUri:_R,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),e.postBody=ga(s)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends uh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends tl{constructor(){super("facebook.com")}static credential(e){return rs._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yi.credential(e.oauthAccessToken)}catch{return null}}}yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn extends tl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,s){return rs._fromParams({providerId:Mn.PROVIDER_ID,signInMethod:Mn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:s})}static credentialFromResult(e){return Mn.credentialFromTaggedObject(e)}static credentialFromError(e){return Mn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:s,oauthAccessToken:r}=e;if(!s&&!r)return null;try{return Mn.credential(s,r)}catch{return null}}}Mn.GOOGLE_SIGN_IN_METHOD="google.com";Mn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends tl{constructor(){super("github.com")}static credential(e){return rs._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vi.credential(e.oauthAccessToken)}catch{return null}}}vi.GITHUB_SIGN_IN_METHOD="github.com";vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends tl{constructor(){super("twitter.com")}static credential(e,s){return rs._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:s})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:s,oauthTokenSecret:r}=e;if(!s||!r)return null;try{return bi.credential(s,r)}catch{return null}}}bi.TWITTER_SIGN_IN_METHOD="twitter.com";bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(i,e){return Fv(i,"POST","/v1/accounts:signUp",pu(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,s,r,o=!1){const u=await tn._fromIdTokenResponse(e,r,o),f=py(r);return new Ni({user:u,providerId:f,_tokenResponse:r,operationType:s})}static async _forOperation(e,s,r){await e._updateTokensIfNecessary(r,!0);const o=py(r);return new Ni({user:e,providerId:o,_tokenResponse:r,operationType:s})}}function py(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vR(i){var e;if(Kt(i.app))return Promise.reject(Ci(i));const s=el(i);if(await s._initializationPromise,!((e=s.currentUser)===null||e===void 0)&&e.isAnonymous)return new Ni({user:s.currentUser,providerId:null,operationType:"signIn"});const r=await yR(s,{returnSecureToken:!0}),o=await Ni._fromIdTokenResponse(s,"signIn",r,!0);return await s._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends Mi{constructor(e,s,r,o){var u;super(s.code,s.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Qo.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:s.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,s,r,o){return new Qo(e,s,r,o)}}function l0(i,e,s,r){return(e==="reauthenticate"?s._getReauthenticationResolver(i):s._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Qo._fromErrorAndOperation(i,u,e,r):u})}async function bR(i,e,s=!1){const r=await jr(i,e._linkToIdToken(i.auth,await i.getIdToken()),s);return Ni._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ER(i,e,s=!1){const{auth:r}=i;if(Kt(r.app))return Promise.reject(Ci(r));const o="reauthenticate";try{const u=await jr(i,l0(r,o,e,i),s);oe(u.idToken,r,"internal-error");const f=rh(u.idToken);oe(f,r,"internal-error");const{sub:h}=f;return oe(i.uid===h,r,"user-mismatch"),Ni._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&pn(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SR(i,e,s=!1){if(Kt(i.app))return Promise.reject(Ci(i));const r="signIn",o=await l0(i,r,e),u=await Ni._fromIdTokenResponse(i,r,o);return s||await i._updateCurrentUser(u.user),u}function TR(i,e,s,r){return Et(i).onIdTokenChanged(e,s,r)}function CR(i,e,s){return Et(i).beforeAuthStateChanged(e,s)}function o0(i,e,s,r){return Et(i).onAuthStateChanged(e,s,r)}function wR(i){return Et(i).signOut()}const Xo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,s){this.storageRetriever=e,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(Xo,"1"),this.storage.removeItem(Xo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,s){return this.storage.setItem(e,JSON.stringify(s)),Promise.resolve()}_get(e){const s=this.storage.getItem(e);return Promise.resolve(s?JSON.parse(s):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=1e3,NR=10;class c0 extends u0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,s)=>this.onStorageEvent(e,s),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=i0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const s of Object.keys(this.listeners)){const r=this.storage.getItem(s),o=this.localCache[s];r!==o&&e(s,o,r)}}onStorageEvent(e,s=!1){if(!e.key){this.forAllChangedKeys((f,h,m)=>{this.notifyListeners(f,m)});return}const r=e.key;s?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!s&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);nR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,NR):o()}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,s,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:s,newValue:r}),!0)})},RR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,s){await super._set(e,s),this.localCache[e]=JSON.stringify(s)}async _get(e){const s=await super._get(e);return this.localCache[e]=JSON.stringify(s),s}async _remove(e){await super._remove(e),delete this.localCache[e]}}c0.type="LOCAL";const xR=c0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0 extends u0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,s){}_removeListener(e,s){}}f0.type="SESSION";const d0=f0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const s=this.receivers.find(o=>o.isListeningto(e));if(s)return s;const r=new gu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const s=e,{eventId:r,eventType:o,data:u}=s.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;s.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(f).map(async p=>p(s.origin,u)),m=await AR(h);s.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:m})}_subscribe(e,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(s)}_unsubscribe(e,s){this.handlersMap[e]&&s&&this.handlersMap[e].delete(s),(!s||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(i="",e=10){let s="";for(let r=0;r<e;r++)s+=Math.floor(Math.random()*10);return i+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,s,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((h,m)=>{const p=ch("",20);o.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(b){const v=b;if(v.data.eventId===p)switch(v.data.status){case"ack":clearTimeout(y),u=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),h(v.data.response);break;default:clearTimeout(y),clearTimeout(u),m(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:p,data:s},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return window}function DR(i){mn().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h0(){return typeof mn().WorkerGlobalScope<"u"&&typeof mn().importScripts=="function"}async function IR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MR(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function kR(){return h0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="firebaseLocalStorageDb",LR=1,Ko="firebaseLocalStorage",p0="fbase_key";class nl{constructor(e){this.request=e}toPromise(){return new Promise((e,s)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function _u(i,e){return i.transaction([Ko],e?"readwrite":"readonly").objectStore(Ko)}function UR(){const i=indexedDB.deleteDatabase(m0);return new nl(i).toPromise()}function wd(){const i=indexedDB.open(m0,LR);return new Promise((e,s)=>{i.addEventListener("error",()=>{s(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Ko,{keyPath:p0})}catch(o){s(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Ko)?e(r):(r.close(),await UR(),e(await wd()))})})}async function gy(i,e,s){const r=_u(i,!0).put({[p0]:e,value:s});return new nl(r).toPromise()}async function zR(i,e){const s=_u(i,!1).get(e),r=await new nl(s).toPromise();return r===void 0?null:r.value}function _y(i,e){const s=_u(i,!0).delete(e);return new nl(s).toPromise()}const jR=800,PR=3;class g0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wd(),this.db)}async _withRetries(e){let s=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(s++>PR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return h0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gu._getInstance(kR()),this.receiver._subscribe("keyChanged",async(e,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(e,s)=>["keyChanged"])}async initializeSender(){var e,s;if(this.activeServiceWorker=await IR(),!this.activeServiceWorker)return;this.sender=new OR(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((s=r[0])===null||s===void 0)&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wd();return await gy(e,Xo,"1"),await _y(e,Xo),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,s){return this._withPendingWrite(async()=>(await this._withRetries(r=>gy(r,e,s)),this.localCache[e]=s,this.notifyServiceWorker(e)))}async _get(e){const s=await this._withRetries(r=>zR(r,e));return this.localCache[e]=s,s}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(s=>_y(s,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=_u(o,!1).getAll();return new nl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const s=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),s.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),s.push(o));return s}notifyListeners(e,s){this.localCache[e]=s;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(s)}_removeListener(e,s){this.listeners[e]&&(this.listeners[e].delete(s),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}g0.type="LOCAL";const HR=g0;new Jr(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(i,e){return e?Ln(e):(oe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends r0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sa(e,this._buildIdpRequest())}_linkToIdToken(e,s){return sa(e,this._buildIdpRequest(s))}_getReauthenticationResolver(e){return sa(e,this._buildIdpRequest())}_buildIdpRequest(e){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(s.idToken=e),s}}function BR(i){return SR(i.auth,new fh(i),i.bypassAuthState)}function qR(i){const{auth:e,user:s}=i;return oe(s,e,"internal-error"),ER(s,new fh(i),i.bypassAuthState)}async function VR(i){const{auth:e,user:s}=i;return oe(s,e,"internal-error"),bR(s,new fh(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,s,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(e,s)=>{this.pendingPromise={resolve:e,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:s,sessionId:r,postBody:o,tenantId:u,error:f,type:h}=e;if(f){this.reject(f);return}const m={auth:this.auth,requestUri:s,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BR;case"linkViaPopup":case"linkViaRedirect":return VR;case"reauthViaPopup":case"reauthViaRedirect":return qR;default:pn(this.auth,"internal-error")}}resolve(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=new Jr(2e3,1e4);async function YR(i,e,s){if(Kt(i.app))return Promise.reject(an(i,"operation-not-supported-in-this-environment"));const r=el(i);Pw(i,e,uh);const o=_0(r,s);return new es(r,"signInViaPopup",e,o).executeNotNull()}class es extends y0{constructor(e,s,r,o,u){super(e,s,o,u),this.provider=r,this.authWindow=null,this.pollId=null,es.currentPopupAction&&es.currentPopupAction.cancel(),es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Bn(this.filter.length===1,"Popup operations only handle one event");const e=ch();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(an(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(an(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var s,r;if(!((r=(s=this.authWindow)===null||s===void 0?void 0:s.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(an(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GR.get())};e()}}es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="pendingRedirect",Uo=new Map;class QR extends y0{constructor(e,s,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,r),this.eventId=null}async execute(){let e=Uo.get(this.auth._key());if(!e){try{const r=await XR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(s){e=()=>Promise.reject(s)}Uo.set(this.auth._key(),e)}return this.bypassAuthState||Uo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const s=await this.auth._redirectUserForId(e.eventId);if(s)return this.user=s,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XR(i,e){const s=$R(e),r=WR(i);if(!await r._isAvailable())return!1;const o=await r._get(s)==="true";return await r._remove(s),o}function KR(i,e){Uo.set(i._key(),e)}function WR(i){return Ln(i._redirectPersistence)}function $R(i){return Lo(FR,i.config.apiKey,i.name)}async function ZR(i,e,s=!1){if(Kt(i.app))return Promise.reject(Ci(i));const r=el(i),o=_0(r,e),f=await new QR(r,o,s).execute();return f&&!s&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=10*60*1e3;class eN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let s=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(s=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tN(e)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=e,s=!0)),s}sendToConsumer(e,s){var r;if(e.error&&!v0(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";s.onError(an(this.auth,o))}else s.onAuthEvent(e)}isEventForConsumer(e,s){const r=s.eventId===null||!!e.eventId&&e.eventId===s.eventId;return s.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JR&&this.cachedEventUids.clear(),this.cachedEventUids.has(yy(e))}saveEventToCache(e){this.cachedEventUids.add(yy(e)),this.lastProcessedEventTime=Date.now()}}function yy(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function v0({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function tN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(i,e={}){return ya(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sN=/^https?/;async function aN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await nN(i);for(const s of e)try{if(rN(s))return}catch{}pn(i,"unauthorized-domain")}function rN(i){const e=Td(),{protocol:s,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&r===""?s==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):s==="chrome-extension:"&&f.hostname===r}if(!sN.test(s))return!1;if(iN.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new Jr(3e4,6e4);function vy(){const i=mn().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let s=0;s<i.CP.length;s++)i.CP[s]=null}}function oN(i){return new Promise((e,s)=>{var r,o,u;function f(){vy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vy(),s(an(i,"network-request-failed"))},timeout:lN.get()})}if(!((o=(r=mn().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=mn().gapi)===null||u===void 0)&&u.load)f();else{const h=fR("iframefcb");return mn()[h]=()=>{gapi.load?f():s(an(i,"network-request-failed"))},uR(`${cR()}?onload=${h}`).catch(m=>s(m))}}).catch(e=>{throw zo=null,e})}let zo=null;function uN(i){return zo=zo||oN(i),zo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=new Jr(5e3,15e3),fN="__/auth/iframe",dN="emulator/auth/iframe",hN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pN(i){const e=i.config;oe(e.authDomain,i,"auth-domain-config-required");const s=e.emulator?ah(e,dN):`https://${i.config.authDomain}/${fN}`,r={apiKey:e.apiKey,appName:i.name,v:_a},o=mN.get(i.config.apiHost);o&&(r.eid=o);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${s}?${ga(r).slice(1)}`}async function gN(i){const e=await uN(i),s=mn().gapi;return oe(s,i,"internal-error"),e.open({where:document.body,url:pN(i),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hN,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=an(i,"network-request-failed"),h=mn().setTimeout(()=>{u(f)},cN.get());function m(){mn().clearTimeout(h),o(r)}r.ping(m).then(m,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yN=500,vN=600,bN="_blank",EN="http://localhost";class by{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SN(i,e,s,r=yN,o=vN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const m=Object.assign(Object.assign({},_N),{width:r.toString(),height:o.toString(),top:u,left:f}),p=bt().toLowerCase();s&&(h=Zv(p)?bN:s),Wv(p)&&(e=e||EN,m.scrollbars="yes");const y=Object.entries(m).reduce((v,[N,w])=>`${v}${N}=${w},`,"");if(tR(p)&&h!=="_self")return TN(e||"",h),new by(null);const b=window.open(e||"",h,y);oe(b,i,"popup-blocked");try{b.focus()}catch{}return new by(b)}function TN(i,e){const s=document.createElement("a");s.href=i,s.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="__/auth/handler",wN="emulator/auth/handler",RN=encodeURIComponent("fac");async function Ey(i,e,s,r,o,u){oe(i.config.authDomain,i,"auth-domain-config-required"),oe(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:s,redirectUrl:r,v:_a,eventId:o};if(e instanceof uh){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",_d(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries({}))f[y]=b}if(e instanceof tl){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(f.scopes=y.join(","))}i.tenantId&&(f.tid=i.tenantId);const h=f;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const m=await i._getAppCheckToken(),p=m?`#${RN}=${encodeURIComponent(m)}`:"";return`${NN(i)}?${ga(h).slice(1)}${p}`}function NN({config:i}){return i.emulator?ah(i,wN):`https://${i.authDomain}/${CN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd="webStorageSupport";class xN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d0,this._completeRedirectFn=ZR,this._overrideRedirectResult=KR}async _openPopup(e,s,r,o){var u;Bn((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Ey(e,s,r,Td(),o);return SN(e,f,ch())}async _openRedirect(e,s,r,o){await this._originValidation(e);const u=await Ey(e,s,r,Td(),o);return DR(u),new Promise(()=>{})}_initialize(e){const s=e._key();if(this.eventManagers[s]){const{manager:o,promise:u}=this.eventManagers[s];return o?Promise.resolve(o):(Bn(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[s]={promise:r},r.catch(()=>{delete this.eventManagers[s]}),r}async initAndGetManager(e){const s=await gN(e),r=new eN(e);return s.register("authEvent",o=>(oe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=s,r}_isIframeWebStorageSupported(e,s){this.iframes[e._key()].send(rd,{type:rd},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[rd];f!==void 0&&s(!!f),pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const s=e._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=aN(e)),this.originValidationPromises[s]}get _shouldInitProactively(){return i0()||$v()||lh()}}const AN=xN;var Sy="@firebase/auth",Ty="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const s=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,s),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const s=this.internalListeners.get(e);s&&(this.internalListeners.delete(e),s(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IN(i){oa(new as("auth",(e,{options:s})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:h}=r.options;oe(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:f,authDomain:h,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s0(i)},p=new lR(r,o,u,m);return hR(p,s),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,s,r)=>{e.getProvider("auth-internal").initialize()})),oa(new as("auth-internal",e=>{const s=el(e.getProvider("auth").getImmediate());return(r=>new ON(r))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ti(Sy,Ty,DN(i)),Ti(Sy,Ty,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=5*60,kN=Dv("authIdTokenMaxAge")||MN;let Cy=null;const LN=i=>async e=>{const s=e&&await e.getIdTokenResult(),r=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(r&&r>kN)return;const o=s==null?void 0:s.token;Cy!==o&&(Cy=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Wo(i=Pv()){const e=th(i,"auth");if(e.isInitialized())return e.getImmediate();const s=dR(i,{popupRedirectResolver:AN,persistence:[HR,xR,d0]}),r=Dv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=LN(u.toString());CR(s,f,()=>f(s.currentUser)),TR(s,h=>f(h))}}const o=Av("auth");return o&&mR(s,`http://${o}`),s}function UN(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}oR({loadJS(i){return new Promise((e,s)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const u=an("internal-error");u.customData=o,s(u)},r.type="text/javascript",r.charset="UTF-8",UN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IN("Browser");var zN="firebase",jN="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti(zN,jN,"app");var wy={};const Ry="@firebase/database",Ny="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b0="";function PN(i){b0=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,s){s==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),tt(s))}get(e){const s=this.domStorage_.getItem(this.prefixedName_(e));return s==null?null:Ur(s)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,s){s==null?delete this.cache_[e]:this.cache_[e]=s}get(e){return Gn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new HN(e)}}catch{}return new BN},ts=E0("localStorage"),qN=E0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new Jd("@firebase/database"),VN=function(){let i=1;return function(){return i++}}(),S0=function(i){const e=xC(i),s=new CC;s.update(e);const r=s.digest();return Kd.encodeByteArray(r)},il=function(...i){let e="";for(let s=0;s<i.length;s++){const r=i[s];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=il.apply(null,r):typeof r=="object"?e+=tt(r):e+=r,e+=" "}return e};let Or=null,xy=!0;const GN=function(i,e){Y(!0,"Can't turn on custom loggers persistently."),aa.logLevel=Ie.VERBOSE,Or=aa.log.bind(aa)},gt=function(...i){if(xy===!0&&(xy=!1,Or===null&&qN.get("logging_enabled")===!0&&GN()),Or){const e=il.apply(null,i);Or(e)}},sl=function(i){return function(...e){gt(i,...e)}},Rd=function(...i){const e="FIREBASE INTERNAL ERROR: "+il(...i);aa.error(e)},qn=function(...i){const e=`FIREBASE FATAL ERROR: ${il(...i)}`;throw aa.error(e),new Error(e)},xt=function(...i){const e="FIREBASE WARNING: "+il(...i);aa.warn(e)},YN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&xt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},T0=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},FN=function(i){if(document.readyState==="complete")i();else{let e=!1;const s=function(){if(!document.body){setTimeout(s,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&s()}),window.attachEvent("onload",s))}},ua="[MIN_NAME]",ls="[MAX_NAME]",va=function(i,e){if(i===e)return 0;if(i===ua||e===ls)return-1;if(e===ua||i===ls)return 1;{const s=Ay(i),r=Ay(e);return s!==null?r!==null?s-r===0?i.length-e.length:s-r:-1:r!==null?1:i<e?-1:1}},QN=function(i,e){return i===e?0:i<e?-1:1},Tr=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+tt(e))},dh=function(i){if(typeof i!="object"||i===null)return tt(i);const e=[];for(const r in i)e.push(r);e.sort();let s="{";for(let r=0;r<e.length;r++)r!==0&&(s+=","),s+=tt(e[r]),s+=":",s+=dh(i[e[r]]);return s+="}",s},C0=function(i,e){const s=i.length;if(s<=e)return[i];const r=[];for(let o=0;o<s;o+=e)o+e>s?r.push(i.substring(o,s)):r.push(i.substring(o,o+e));return r};function At(i,e){for(const s in i)i.hasOwnProperty(s)&&e(s,i[s])}const w0=function(i){Y(!T0(i),"Invalid JSON number");const e=11,s=52,r=(1<<e-1)-1;let o,u,f,h,m;i===0?(u=0,f=0,o=1/i===-1/0?1:0):(o=i<0,i=Math.abs(i),i>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),r),u=h+r,f=Math.round(i*Math.pow(2,s-h)-Math.pow(2,s))):(u=0,f=Math.round(i/Math.pow(2,1-r-s))));const p=[];for(m=s;m;m-=1)p.push(f%2?1:0),f=Math.floor(f/2);for(m=e;m;m-=1)p.push(u%2?1:0),u=Math.floor(u/2);p.push(o?1:0),p.reverse();const y=p.join("");let b="";for(m=0;m<64;m+=8){let v=parseInt(y.substr(m,8),2).toString(16);v.length===1&&(v="0"+v),b=b+v}return b.toLowerCase()},XN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},KN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function WN(i,e){let s="Unknown Error";i==="too_big"?s="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?s="Client doesn't have permission to access the desired data.":i==="unavailable"&&(s="The service is unavailable");const r=new Error(i+" at "+e._path.toString()+": "+s);return r.code=i.toUpperCase(),r}const $N=new RegExp("^-?(0*)\\d{1,10}$"),ZN=-2147483648,JN=2147483647,Ay=function(i){if($N.test(i)){const e=Number(i);if(e>=ZN&&e<=JN)return e}return null},ba=function(i){try{i()}catch(e){setTimeout(()=>{const s=e.stack||"";throw xt("Exception was thrown by user callback.",s),e},Math.floor(0))}},ex=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Dr=function(i,e){const s=setTimeout(i,e);return typeof s=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):typeof s=="object"&&s.unref&&s.unref(),s};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e,s){this.appCheckProvider=s,this.appName=e.name,Kt(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=s==null?void 0:s.getImmediate({optional:!0}),this.appCheck||s==null||s.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((s,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(s,r):s(null)},0)})}addTokenChangeListener(e){var s;(s=this.appCheckProvider)===null||s===void 0||s.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){xt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e,s,r){this.appName_=e,this.firebaseOptions_=s,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(s=>s&&s.code==="auth/token-not-initialized"?(gt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(s,r):s(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(s=>s.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(s=>s.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xt(e)}}class jo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}jo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh="5",R0="v",N0="s",x0="r",A0="f",O0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,D0="ls",I0="p",Nd="ac",M0="websocket",k0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e,s,r,o,u=!1,f="",h=!1,m=!1,p=null){this.secure=s,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this.emulatorOptions=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ts.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ts.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",s=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${s}`}}function ix(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function U0(i,e,s){Y(typeof e=="string","typeof type must == string"),Y(typeof s=="object","typeof params must == object");let r;if(e===M0)r=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===k0)r=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ix(i)&&(s.ns=i.namespace);const o=[];return At(s,(u,f)=>{o.push(u+"="+f)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.counters_={}}incrementCounter(e,s=1){Gn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=s}get(){return iC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld={},od={};function mh(i){const e=i.toString();return ld[e]||(ld[e]=new sx),ld[e]}function ax(i,e){const s=i.toString();return od[s]||(od[s]=e()),od[s]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,s){this.closeAfterResponse=e,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,s){for(this.pendingResponses[e]=s;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&ba(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="start",lx="close",ox="pLPCommand",ux="pRTLPCB",z0="id",j0="pw",P0="ser",cx="cb",fx="seg",dx="ts",hx="d",mx="dframe",H0=1870,B0=30,px=H0-B0,gx=25e3,_x=3e4;class ta{constructor(e,s,r,o,u,f,h){this.connId=e,this.repoInfo=s,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.transportSessionId=f,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sl(e),this.stats_=mh(s),this.urlFn=m=>(this.appCheckToken&&(m[Nd]=this.appCheckToken),U0(s,k0,m))}open(e,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new rx(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(_x)),FN(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ph((...u)=>{const[f,h,m,p,y]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Oy)this.id=h,this.password=m;else if(f===lx)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,h]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[Oy]="t",r[P0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[cx]=this.scriptTagHolder.uniqueCallbackIdentifier),r[R0]=hh,this.transportSessionId&&(r[N0]=this.transportSessionId),this.lastSessionId&&(r[D0]=this.lastSessionId),this.applicationId&&(r[I0]=this.applicationId),this.appCheckToken&&(r[Nd]=this.appCheckToken),typeof location<"u"&&location.hostname&&O0.test(location.hostname)&&(r[x0]=A0);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ta.forceAllow_=!0}static forceDisallow(){ta.forceDisallow_=!0}static isAvailable(){return ta.forceAllow_?!0:!ta.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!XN()&&!KN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const s=tt(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=Nv(s),o=C0(r,px);for(let u=0;u<o.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[u]),this.curSegmentNum++}addDisconnectPingFrame(e,s){this.myDisconnFrame=document.createElement("iframe");const r={};r[mx]="t",r[z0]=e,r[j0]=s,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const s=tt(e).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class ph{constructor(e,s,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=VN(),window[ox+this.uniqueCallbackIdentifier]=e,window[ux+this.uniqueCallbackIdentifier]=s,this.myIFrame=ph.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(h){gt("frame writing exception"),h.stack&&gt(h.stack),gt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||gt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,s){for(this.myID=e,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[z0]=this.myID,e[j0]=this.myPW,e[P0]=this.currentSerial;let s=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+B0+r.length<=H0;){const f=this.pendingSegs.shift();r=r+"&"+fx+o+"="+f.seg+"&"+dx+o+"="+f.ts+"&"+hx+o+"="+f.d,o++}return s=s+r,this.addLongPollTag_(s,this.currentSerial),!0}else return!1}enqueueSegment(e,s,r){this.pendingSegs.push({seg:e,ts:s,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,s){this.outstandingRequests.add(s);const r=()=>{this.outstandingRequests.delete(s),this.newRequest_()},o=setTimeout(r,Math.floor(gx)),u=()=>{clearTimeout(o),r()};this.addTag(e,u)}addTag(e,s){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),s())},r.onerror=()=>{gt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=16384,vx=45e3;let $o=null;typeof MozWebSocket<"u"?$o=MozWebSocket:typeof WebSocket<"u"&&($o=WebSocket);class en{constructor(e,s,r,o,u,f,h){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sl(this.connId),this.stats_=mh(s),this.connURL=en.connectionURL_(s,f,h,o,r),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,r,o,u){const f={};return f[R0]=hh,typeof location<"u"&&location.hostname&&O0.test(location.hostname)&&(f[x0]=A0),s&&(f[N0]=s),r&&(f[D0]=r),o&&(f[Nd]=o),u&&(f[I0]=u),U0(e,M0,f)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ts.set("previous_websocket_failure",!0);try{let r;gC(),this.mySock=new $o(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){en.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(s);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&$o!==null&&!en.forceDisallow_}static previouslyFailed(){return ts.isInMemoryStorage||ts.get("previous_websocket_failure")===!0}markConnectionHealthy(){ts.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const r=Ur(s);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Y(this.frames===null,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(s);else{const r=this.extractFrameCount_(s);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const s=tt(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=C0(s,yx);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(vx))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}en.responsesRequiredToBeHealthy=2;en.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{static get ALL_TRANSPORTS(){return[ta,en]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const s=en&&en.isAvailable();let r=s&&!en.previouslyFailed();if(e.webSocketOnly&&(s||xt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[en];else{const o=this.transports_=[];for(const u of Pr.ALL_TRANSPORTS)u&&u.isAvailable()&&o.push(u);Pr.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Pr.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=6e4,Ex=5e3,Sx=10*1024,Tx=100*1024,ud="t",Dy="d",Cx="s",Iy="r",wx="e",My="o",ky="a",Ly="n",Uy="p",Rx="h";class Nx{constructor(e,s,r,o,u,f,h,m,p,y){this.id=e,this.repoInfo_=s,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=u,this.onMessage_=f,this.onReady_=h,this.onDisconnect_=m,this.onKill_=p,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sl("c:"+this.id+":"),this.transportManager_=new Pr(s),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=Dr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Tx?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Sx?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return s=>{e===this.conn_?this.onConnectionLost_(s):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return s=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(s):e===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(e){const s={t:"d",d:e};this.sendData_(s)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(ud in e){const s=e[ud];s===ky?this.upgradeIfSecondaryHealthy_():s===Iy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):s===My&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const s=Tr("t",e),r=Tr("d",e);if(s==="c")this.onSecondaryControl_(r);else if(s==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+s)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Uy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ky,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Ly,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const s=Tr("t",e),r=Tr("d",e);s==="c"?this.onControl_(r):s==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const s=Tr(ud,e);if(Dy in e){const r=e[Dy];if(s===Rx){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(s===Ly){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else s===Cx?this.onConnectionShutdown_(r):s===Iy?this.onReset_(r):s===wx?Rd("Server Error: "+r):s===My?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Rd("Unknown control packet command: "+s)}}onHandshake_(e){const s=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),hh!==r&&xt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,r),Dr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(bx))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,s){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Dr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Ex))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Uy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ts.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{put(e,s,r,o){}merge(e,s,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,s,r){}onDisconnectMerge(e,s,r){}onDisconnectCancel(e,s){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e){this.allowedEvents_=e,this.listeners_={},Y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...s){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,s)}}on(e,s,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:s,context:r});const o=this.getInitialEvent(e);o&&s.apply(r,o)}off(e,s,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let u=0;u<o.length;u++)if(o[u].callback===s&&(!r||r===o[u].context)){o.splice(u,1);return}}validateEventType_(e){Y(this.allowedEvents_.find(s=>s===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo extends V0{static getInstance(){return new Zo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!$d()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=32,jy=768;class ke{constructor(e,s){if(s===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=s}toString(){let e="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)this.pieces_[s]!==""&&(e+="/"+this.pieces_[s]);return e||"/"}}function we(){return new ke("")}function be(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function xi(i){return i.pieces_.length-i.pieceNum_}function Ue(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new ke(i.pieces_,e)}function G0(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function xx(i){let e="";for(let s=i.pieceNum_;s<i.pieces_.length;s++)i.pieces_[s]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[s])));return e||"/"}function Y0(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function F0(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let s=i.pieceNum_;s<i.pieces_.length-1;s++)e.push(i.pieces_[s]);return new ke(e,0)}function nt(i,e){const s=[];for(let r=i.pieceNum_;r<i.pieces_.length;r++)s.push(i.pieces_[r]);if(e instanceof ke)for(let r=e.pieceNum_;r<e.pieces_.length;r++)s.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&s.push(r[o])}return new ke(s,0)}function ve(i){return i.pieceNum_>=i.pieces_.length}function yt(i,e){const s=be(i),r=be(e);if(s===null)return e;if(s===r)return yt(Ue(i),Ue(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function Q0(i,e){if(xi(i)!==xi(e))return!1;for(let s=i.pieceNum_,r=e.pieceNum_;s<=i.pieces_.length;s++,r++)if(i.pieces_[s]!==e.pieces_[r])return!1;return!0}function nn(i,e){let s=i.pieceNum_,r=e.pieceNum_;if(xi(i)>xi(e))return!1;for(;s<i.pieces_.length;){if(i.pieces_[s]!==e.pieces_[r])return!1;++s,++r}return!0}class Ax{constructor(e,s){this.errorPrefix_=s,this.parts_=Y0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=mu(this.parts_[r]);X0(this)}}function Ox(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=mu(e),X0(i)}function Dx(i){const e=i.parts_.pop();i.byteLength_-=mu(e),i.parts_.length>0&&(i.byteLength_-=1)}function X0(i){if(i.byteLength_>jy)throw new Error(i.errorPrefix_+"has a key path longer than "+jy+" bytes ("+i.byteLength_+").");if(i.parts_.length>zy)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+zy+") or object contains a cycle "+Ji(i))}function Ji(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends V0{static getInstance(){return new gh}constructor(){super(["visible"]);let e,s;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return Y(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr=1e3,Ix=60*5*1e3,Py=30*1e3,Mx=1.3,kx=3e4,Lx="server_kill",Hy=3;class jn extends q0{constructor(e,s,r,o,u,f,h,m){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=h,this.authOverride_=m,this.id=jn.nextPersistentConnectionId_++,this.log_=sl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Cr,this.maxReconnectDelay_=Ix,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");gh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Zo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,r){const o=++this.requestNumber_,u={r:o,a:e,b:s};this.log_(tt(u)),Y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const s=new hu,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const h=f.d;f.s==="ok"?s.resolve(h):s.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),s.promise}listen(e,s,r,o){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Y(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:s,query:e,tag:r};this.listens.get(f).set(u,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(r)})}sendListen_(e){const s=e.query,r=s._path.toString(),o=s._queryIdentifier;this.log_("Listen on "+r+" for "+o);const u={p:r},f="q";e.tag&&(u.q=s._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,h=>{const m=h.d,p=h.s;jn.warnOnListenWarnings_(m,s),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",h),p!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(p,m))})}static warnOnListenWarnings_(e,s){if(e&&typeof e=="object"&&Gn(e,"w")){const r=la(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+s._queryParams.getIndex().toString()+'"',u=s._path.toString();xt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||TC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Py)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=SC(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(s,r,o=>{const u=o.s,f=o.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,r=e.d||"error";s==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,r)})}unlisten(e,s){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,s)}sendUnlisten_(e,s,r,o){this.log_("Unlisten on "+e+" for "+s);const u={p:e},f="n";o&&(u.q=r,u.t=o),this.sendRequest(f,u)}onDisconnectPut(e,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:r})}onDisconnectMerge(e,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:r})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,r,o){const u={p:s,d:r};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(e,s,r,o){this.putInternal("p",e,s,r,o)}merge(e,s,r,o){this.putInternal("m",e,s,r,o)}putInternal(e,s,r,o,u){this.initConnection_();const f={p:s,d:r};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,r,u=>{this.log_(s+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(u.s,u.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,r=>{if(r.s!=="ok"){const u=r.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+tt(e));const s=e.r,r=this.requestCBHash_[s];r&&(delete this.requestCBHash_[s],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),e==="d"?this.onDataUpdate_(s.p,s.d,!1,s.t):e==="m"?this.onDataUpdate_(s.p,s.d,!0,s.t):e==="c"?this.onListenRevoked_(s.p,s.q):e==="ac"?this.onAuthRevoked_(s.s,s.d):e==="apc"?this.onAppCheckRevoked_(s.s,s.d):e==="sd"?this.onSecurityDebugPacket_(s):Rd("Unrecognized action received from server: "+tt(e)+`
Are you using the latest client?`)}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Cr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Cr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>kx&&(this.reconnectDelay_=Cr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Mx)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),s=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+jn.nextConnectionId_++,u=this.lastSessionId;let f=!1,h=null;const m=function(){h?h.close():(f=!0,r())},p=function(b){Y(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(b)};this.realtime_={close:m,sendRequest:p};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,v]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);f?gt("getToken() completed but was canceled"):(gt("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=v&&v.token,h=new Nx(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,s,r,N=>{xt(N+" ("+this.repoInfo_.toString()+")"),this.interrupt(Lx)},u))}catch(b){this.log_("Failed to get token: "+b),f||(this.repoInfo_.nodeAdmin&&xt(b),m())}}}interrupt(e){gt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){gt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],_d(this.interruptReasons_)&&(this.reconnectDelay_=Cr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let r;s?r=s.map(u=>dh(u)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,s){const r=new ke(e).toString();let o;if(this.listens.has(r)){const u=this.listens.get(r);o=u.get(s),u.delete(s),u.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,s){gt("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Hy&&(this.reconnectDelay_=Py,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){gt("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Hy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";e["sdk."+s+"."+b0.replace(/\./g,"-")]=1,$d()?e["framework.cordova"]=1:kv()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Zo.getInstance().currentlyOnline();return _d(this.interruptReasons_)&&e}}jn.nextPersistentConnectionId_=0;jn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e,s){this.name=e,this.node=s}static Wrap(e,s){return new ge(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,s){const r=new ge(ua,e),o=new ge(ua,s);return this.compare(r,o)!==0}minPost(){return ge.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao;class K0 extends yu{static get __EMPTY_NODE(){return Ao}static set __EMPTY_NODE(e){Ao=e}compare(e,s){return va(e.name,s.name)}isDefinedOn(e){throw ma("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,s){return!1}minPost(){return ge.MIN}maxPost(){return new ge(ls,Ao)}makePost(e,s){return Y(typeof e=="string","KeyIndex indexValue must always be a string."),new ge(e,Ao)}toString(){return".key"}}const ra=new K0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,s,r,o,u=null){this.isReverse_=o,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=s?r(e.key,s):1,o&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),s;if(this.resultGenerator_?s=this.resultGenerator_(e.key,e.value):s={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ot{constructor(e,s,r,o,u){this.key=e,this.value=s,this.color=r??ot.RED,this.left=o??Nt.EMPTY_NODE,this.right=u??Nt.EMPTY_NODE}copy(e,s,r,o,u){return new ot(e??this.key,s??this.value,r??this.color,o??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,r){let o=this;const u=r(e,o.key);return u<0?o=o.copy(null,null,null,o.left.insert(e,s,r),null):u===0?o=o.copy(null,s,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,s,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let r,o;if(r=this,s(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,s),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),s(e,r.key)===0){if(r.right.isEmpty())return Nt.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,s))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ot.RED=!0;ot.BLACK=!1;class Ux{copy(e,s,r,o,u){return this}insert(e,s,r){return new ot(e,s,null)}remove(e,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Nt{constructor(e,s=Nt.EMPTY_NODE){this.comparator_=e,this.root_=s}insert(e,s){return new Nt(this.comparator_,this.root_.insert(e,s,this.comparator_).copy(null,null,ot.BLACK,null,null))}remove(e){return new Nt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ot.BLACK,null,null))}get(e){let s,r=this.root_;for(;!r.isEmpty();){if(s=this.comparator_(e,r.key),s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}getPredecessorKey(e){let s,r=this.root_,o=null;for(;!r.isEmpty();)if(s=this.comparator_(e,r.key),s===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else s<0?r=r.left:s>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Oo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,s){return new Oo(this.root_,e,this.comparator_,!1,s)}getReverseIteratorFrom(e,s){return new Oo(this.root_,e,this.comparator_,!0,s)}getReverseIterator(e){return new Oo(this.root_,null,this.comparator_,!0,e)}}Nt.EMPTY_NODE=new Ux;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(i,e){return va(i.name,e.name)}function _h(i,e){return va(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xd;function jx(i){xd=i}const W0=function(i){return typeof i=="number"?"number:"+w0(i):"string:"+i},$0=function(i){if(i.isLeafNode()){const e=i.val();Y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Gn(e,".sv"),"Priority must be a string or number.")}else Y(i===xd||i.isEmpty(),"priority of unexpected type.");Y(i===xd||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let By;class lt{static set __childrenNodeConstructor(e){By=e}static get __childrenNodeConstructor(){return By}constructor(e,s=lt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,Y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),$0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new lt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:lt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ve(e)?this:be(e)===".priority"?this.priorityNode_:lt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return e===".priority"?this.updatePriority(s):s.isEmpty()&&e!==".priority"?this:lt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const r=be(e);return r===null?s:s.isEmpty()&&r!==".priority"?this:(Y(r!==".priority"||xi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,lt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ue(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+W0(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",s==="number"?e+=w0(this.value_):e+=this.value_,this.lazyHash_=S0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===lt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof lt.__childrenNodeConstructor?-1:(Y(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,r=typeof this.value_,o=lt.VALUE_TYPE_ORDER.indexOf(s),u=lt.VALUE_TYPE_ORDER.indexOf(r);return Y(o>=0,"Unknown leaf type: "+s),Y(u>=0,"Unknown leaf type: "+r),o===u?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}else return!1}}lt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Z0,J0;function Px(i){Z0=i}function Hx(i){J0=i}class Bx extends yu{compare(e,s){const r=e.node.getPriority(),o=s.node.getPriority(),u=r.compareTo(o);return u===0?va(e.name,s.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,s){return!e.getPriority().equals(s.getPriority())}minPost(){return ge.MIN}maxPost(){return new ge(ls,new lt("[PRIORITY-POST]",J0))}makePost(e,s){const r=Z0(e);return new ge(s,new lt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Xe=new Bx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=Math.log(2);class Vx{constructor(e){const s=u=>parseInt(Math.log(u)/qx,10),r=u=>parseInt(Array(u+1).join("1"),2);this.count=s(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Jo=function(i,e,s,r){i.sort(e);const o=function(m,p){const y=p-m;let b,v;if(y===0)return null;if(y===1)return b=i[m],v=s?s(b):b,new ot(v,b.node,ot.BLACK,null,null);{const N=parseInt(y/2,10)+m,w=o(m,N),I=o(N+1,p);return b=i[N],v=s?s(b):b,new ot(v,b.node,ot.BLACK,w,I)}},u=function(m){let p=null,y=null,b=i.length;const v=function(w,I){const U=b-w,A=b;b-=w;const L=o(U+1,A),P=i[U],V=s?s(P):P;N(new ot(V,P.node,I,null,L))},N=function(w){p?(p.left=w,p=w):(y=w,p=w)};for(let w=0;w<m.count;++w){const I=m.nextBitIsOne(),U=Math.pow(2,m.count-(w+1));I?v(U,ot.BLACK):(v(U,ot.BLACK),v(U,ot.RED))}return y},f=new Vx(i.length),h=u(f);return new Nt(r||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd;const ea={};class Un{static get Default(){return Y(ea&&Xe,"ChildrenNode.ts has not been loaded"),cd=cd||new Un({".priority":ea},{".priority":Xe}),cd}constructor(e,s){this.indexes_=e,this.indexSet_=s}get(e){const s=la(this.indexes_,e);if(!s)throw new Error("No index defined for "+e);return s instanceof Nt?s:null}hasIndex(e){return Gn(this.indexSet_,e.toString())}addIndex(e,s){Y(e!==ra,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const u=s.getIterator(ge.Wrap);let f=u.getNext();for(;f;)o=o||e.isDefinedOn(f.node),r.push(f),f=u.getNext();let h;o?h=Jo(r,e.getCompare()):h=ea;const m=e.toString(),p=Object.assign({},this.indexSet_);p[m]=e;const y=Object.assign({},this.indexes_);return y[m]=h,new Un(y,p)}addToIndexes(e,s){const r=qo(this.indexes_,(o,u)=>{const f=la(this.indexSet_,u);if(Y(f,"Missing index implementation for "+u),o===ea)if(f.isDefinedOn(e.node)){const h=[],m=s.getIterator(ge.Wrap);let p=m.getNext();for(;p;)p.name!==e.name&&h.push(p),p=m.getNext();return h.push(e),Jo(h,f.getCompare())}else return ea;else{const h=s.get(e.name);let m=o;return h&&(m=m.remove(new ge(e.name,h))),m.insert(e,e.node)}});return new Un(r,this.indexSet_)}removeFromIndexes(e,s){const r=qo(this.indexes_,o=>{if(o===ea)return o;{const u=s.get(e.name);return u?o.remove(new ge(e.name,u)):o}});return new Un(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wr;class re{static get EMPTY_NODE(){return wr||(wr=new re(new Nt(_h),null,Un.Default))}constructor(e,s,r){this.children_=e,this.priorityNode_=s,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&$0(this.priorityNode_),this.children_.isEmpty()&&Y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||wr}updatePriority(e){return this.children_.isEmpty()?this:new re(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const s=this.children_.get(e);return s===null?wr:s}}getChild(e){const s=be(e);return s===null?this:this.getImmediateChild(s).getChild(Ue(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,s){if(Y(s,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(s);{const r=new ge(e,s);let o,u;s.isEmpty()?(o=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,s),u=this.indexMap_.addToIndexes(r,this.children_));const f=o.isEmpty()?wr:this.priorityNode_;return new re(o,f,u)}}updateChild(e,s){const r=be(e);if(r===null)return s;{Y(be(e)!==".priority"||xi(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(Ue(e),s);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let r=0,o=0,u=!0;if(this.forEachChild(Xe,(f,h)=>{s[f]=h.val(e),r++,u&&re.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):u=!1}),!e&&u&&o<2*r){const f=[];for(const h in s)f[h]=s[h];return f}else return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+W0(this.getPriority().val())+":"),this.forEachChild(Xe,(s,r)=>{const o=r.hash();o!==""&&(e+=":"+s+":"+o)}),this.lazyHash_=e===""?"":S0(e)}return this.lazyHash_}getPredecessorChildName(e,s,r){const o=this.resolveIndex_(r);if(o){const u=o.getPredecessorKey(new ge(e,s));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const r=s.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new ge(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const r=s.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new ge(s,this.children_.get(s)):null}forEachChild(e,s){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>s(o.name,o.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const r=this.resolveIndex_(s);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ge.Wrap);let u=o.peek();for(;u!=null&&s.compare(u,e)<0;)o.getNext(),u=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const r=this.resolveIndex_(s);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ge.Wrap);let u=o.peek();for(;u!=null&&s.compare(u,e)>0;)o.getNext(),u=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===al?-1:0}withIndex(e){if(e===ra||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new re(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===ra||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority()))if(this.children_.count()===s.children_.count()){const r=this.getIterator(Xe),o=s.getIterator(Xe);let u=r.getNext(),f=o.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=r.getNext(),f=o.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===ra?null:this.indexMap_.get(e.toString())}}re.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Gx extends re{constructor(){super(new Nt(_h),re.EMPTY_NODE,Un.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return re.EMPTY_NODE}isEmpty(){return!1}}const al=new Gx;Object.defineProperties(ge,{MIN:{value:new ge(ua,re.EMPTY_NODE)},MAX:{value:new ge(ls,al)}});K0.__EMPTY_NODE=re.EMPTY_NODE;lt.__childrenNodeConstructor=re;jx(al);Hx(al);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=!0;function ut(i,e=null){if(i===null)return re.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),Y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const s=i;return new lt(s,ut(e))}if(!(i instanceof Array)&&Yx){const s=[];let r=!1;if(At(i,(f,h)=>{if(f.substring(0,1)!=="."){const m=ut(h);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),s.push(new ge(f,m)))}}),s.length===0)return re.EMPTY_NODE;const u=Jo(s,zx,f=>f.name,_h);if(r){const f=Jo(s,Xe.getCompare());return new re(u,ut(e),new Un({".priority":f},{".priority":Xe}))}else return new re(u,ut(e),Un.Default)}else{let s=re.EMPTY_NODE;return At(i,(r,o)=>{if(Gn(i,r)&&r.substring(0,1)!=="."){const u=ut(o);(u.isLeafNode()||!u.isEmpty())&&(s=s.updateImmediateChild(r,u))}}),s.updatePriority(ut(e))}}Px(ut);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx extends yu{constructor(e){super(),this.indexPath_=e,Y(!ve(e)&&be(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,s){const r=this.extractChild(e.node),o=this.extractChild(s.node),u=r.compareTo(o);return u===0?va(e.name,s.name):u}makePost(e,s){const r=ut(e),o=re.EMPTY_NODE.updateChild(this.indexPath_,r);return new ge(s,o)}maxPost(){const e=re.EMPTY_NODE.updateChild(this.indexPath_,al);return new ge(ls,e)}toString(){return Y0(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx extends yu{compare(e,s){const r=e.node.compareTo(s.node);return r===0?va(e.name,s.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,s){return!e.equals(s)}minPost(){return ge.MIN}maxPost(){return ge.MAX}makePost(e,s){const r=ut(e);return new ge(s,r)}toString(){return".value"}}const Xx=new Qx;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(i){return{type:"value",snapshotNode:i}}function ca(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function Hr(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function Br(i,e,s){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:s}}function Kx(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e){this.index_=e}updateChild(e,s,r,o,u,f){Y(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(s);return h.getChild(o).equals(r.getChild(o))&&h.isEmpty()===r.isEmpty()||(f!=null&&(r.isEmpty()?e.hasChild(s)?f.trackChildChange(Hr(s,h)):Y(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?f.trackChildChange(ca(s,r)):f.trackChildChange(Br(s,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(s,r).withIndex(this.index_)}updateFullNode(e,s,r){return r!=null&&(e.isLeafNode()||e.forEachChild(Xe,(o,u)=>{s.hasChild(o)||r.trackChildChange(Hr(o,u))}),s.isLeafNode()||s.forEachChild(Xe,(o,u)=>{if(e.hasChild(o)){const f=e.getImmediateChild(o);f.equals(u)||r.trackChildChange(Br(o,u,f))}else r.trackChildChange(ca(o,u))})),s.withIndex(this.index_)}updatePriority(e,s){return e.isEmpty()?re.EMPTY_NODE:e.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.indexedFilter_=new yh(e.getIndex()),this.index_=e.getIndex(),this.startPost_=qr.getStartPost_(e),this.endPost_=qr.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return s&&r}updateChild(e,s,r,o,u,f){return this.matches(new ge(s,r))||(r=re.EMPTY_NODE),this.indexedFilter_.updateChild(e,s,r,o,u,f)}updateFullNode(e,s,r){s.isLeafNode()&&(s=re.EMPTY_NODE);let o=s.withIndex(this.index_);o=o.updatePriority(re.EMPTY_NODE);const u=this;return s.forEachChild(Xe,(f,h)=>{u.matches(new ge(f,h))||(o=o.updateImmediateChild(f,re.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,s){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const s=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),s)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const s=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),s)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=s=>{const r=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new qr(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,s,r,o,u,f){return this.rangedFilter_.matches(new ge(s,r))||(r=re.EMPTY_NODE),e.getImmediateChild(s).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,s,r,o,u,f):this.fullLimitUpdateChild_(e,s,r,u,f)}updateFullNode(e,s,r){let o;if(s.isLeafNode()||s.isEmpty())o=re.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<s.numChildren()&&s.isIndexed(this.index_)){o=re.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const h=u.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),f++;else break;else continue}}else{o=s.withIndex(this.index_),o=o.updatePriority(re.EMPTY_NODE);let u;this.reverse_?u=o.getReverseIterator(this.index_):u=o.getIterator(this.index_);let f=0;for(;u.hasNext();){const h=u.getNext();f<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?f++:o=o.updateImmediateChild(h.name,re.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,s){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,s,r,o,u){let f;if(this.reverse_){const b=this.index_.getCompare();f=(v,N)=>b(N,v)}else f=this.index_.getCompare();const h=e;Y(h.numChildren()===this.limit_,"");const m=new ge(s,r),p=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),y=this.rangedFilter_.matches(m);if(h.hasChild(s)){const b=h.getImmediateChild(s);let v=o.getChildAfterChild(this.index_,p,this.reverse_);for(;v!=null&&(v.name===s||h.hasChild(v.name));)v=o.getChildAfterChild(this.index_,v,this.reverse_);const N=v==null?1:f(v,m);if(y&&!r.isEmpty()&&N>=0)return u!=null&&u.trackChildChange(Br(s,r,b)),h.updateImmediateChild(s,r);{u!=null&&u.trackChildChange(Hr(s,b));const I=h.updateImmediateChild(s,re.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(u!=null&&u.trackChildChange(ca(v.name,v.node)),I.updateImmediateChild(v.name,v.node)):I}}else return r.isEmpty()?e:y&&f(p,m)>=0?(u!=null&&(u.trackChildChange(Hr(p.name,p.node)),u.trackChildChange(ca(s,r))),h.updateImmediateChild(s,r).updateImmediateChild(p.name,re.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ua}hasEnd(){return this.endSet_}getIndexEndValue(){return Y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ls}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Xe}copy(){const e=new vh;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function $x(i){return i.loadsAllData()?new yh(i.getIndex()):i.hasLimit()?new Wx(i):new qr(i)}function qy(i){const e={};if(i.isDefault())return e;let s;if(i.index_===Xe?s="$priority":i.index_===Xx?s="$value":i.index_===ra?s="$key":(Y(i.index_ instanceof Fx,"Unrecognized index type!"),s=i.index_.toString()),e.orderBy=tt(s),i.startSet_){const r=i.startAfterSet_?"startAfter":"startAt";e[r]=tt(i.indexStartValue_),i.startNameSet_&&(e[r]+=","+tt(i.indexStartName_))}if(i.endSet_){const r=i.endBeforeSet_?"endBefore":"endAt";e[r]=tt(i.indexEndValue_),i.endNameSet_&&(e[r]+=","+tt(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function Vy(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let s=i.viewFrom_;s===""&&(i.isViewFromLeft()?s="l":s="r"),e.vf=s}return i.index_!==Xe&&(e.i=i.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends q0{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,s){return s!==void 0?"tag$"+s:(Y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,s,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=s,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=sl("p:rest:"),this.listens_={}}listen(e,s,r,o){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=eu.getListenId_(e,r),h={};this.listens_[f]=h;const m=qy(e._queryParams);this.restRequest_(u+".json",m,(p,y)=>{let b=y;if(p===404&&(b=null,p=null),p===null&&this.onDataUpdate_(u,b,!1,r),la(this.listens_,f)===h){let v;p?p===401?v="permission_denied":v="rest_error:"+p:v="ok",o(v,null)}})}unlisten(e,s){const r=eu.getListenId_(e,s);delete this.listens_[r]}get(e){const s=qy(e._queryParams),r=e._path.toString(),o=new hu;return this.restRequest_(r+".json",s,(u,f)=>{let h=f;u===404&&(h=null,u=null),u===null?(this.onDataUpdate_(r,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,s={},r){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,u])=>{o&&o.accessToken&&(s.auth=o.accessToken),u&&u.token&&(s.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ga(s);this.log_("Sending REST request for "+f);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+f+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=Ur(h.responseText)}catch{xt("Failed to parse JSON response for "+f+": "+h.responseText)}r(null,m)}else h.status!==401&&h.status!==404&&xt("Got unsuccessful REST response for "+f+" Status: "+h.status),r(h.status);r=null}},h.open("GET",f,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(){this.rootNode_=re.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,s){this.rootNode_=this.rootNode_.updateChild(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(){return{value:null,children:new Map}}function tb(i,e,s){if(ve(e))i.value=s,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,s);else{const r=be(e);i.children.has(r)||i.children.set(r,tu());const o=i.children.get(r);e=Ue(e),tb(o,e,s)}}function Ad(i,e,s){i.value!==null?s(e,i.value):Jx(i,(r,o)=>{const u=new ke(e.toString()+"/"+r);Ad(o,u,s)})}function Jx(i,e){i.children.forEach((s,r)=>{e(r,s)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),s=Object.assign({},e);return this.last_&&At(this.last_,(r,o)=>{s[r]=s[r]-o}),this.last_=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=10*1e3,tA=30*1e3,nA=5*60*1e3;class iA{constructor(e,s){this.server_=s,this.statsToReport_={},this.statsListener_=new eA(e);const r=Gy+(tA-Gy)*Math.random();Dr(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),s={};let r=!1;At(e,(o,u)=>{u>0&&Gn(this.statsToReport_,o)&&(s[o]=u,r=!0)}),r&&this.server_.reportStats(s),Dr(this.reportStats_.bind(this),Math.floor(Math.random()*2*nA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sn;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(sn||(sn={}));function nb(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function bh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Eh(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,s,r){this.path=e,this.affectedTree=s,this.revert=r,this.type=sn.ACK_USER_WRITE,this.source=nb()}operationForChild(e){if(ve(this.path)){if(this.affectedTree.value!=null)return Y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new ke(e));return new nu(we(),s,this.revert)}}else return Y(be(this.path)===e,"operationForChild called for unrelated child."),new nu(Ue(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,s){this.source=e,this.path=s,this.type=sn.LISTEN_COMPLETE}operationForChild(e){return ve(this.path)?new Vr(this.source,we()):new Vr(this.source,Ue(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,s,r){this.source=e,this.path=s,this.snap=r,this.type=sn.OVERWRITE}operationForChild(e){return ve(this.path)?new os(this.source,we(),this.snap.getImmediateChild(e)):new os(this.source,Ue(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e,s,r){this.source=e,this.path=s,this.children=r,this.type=sn.MERGE}operationForChild(e){if(ve(this.path)){const s=this.children.subtree(new ke(e));return s.isEmpty()?null:s.value?new os(this.source,we(),s.value):new Gr(this.source,we(),s)}else return Y(be(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Gr(this.source,Ue(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,s,r){this.node_=e,this.fullyInitialized_=s,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ve(e))return this.isFullyInitialized()&&!this.filtered_;const s=be(e);return this.isCompleteForChild(s)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function aA(i,e,s,r){const o=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push(Kx(f.childName,f.snapshotNode))}),Rr(i,o,"child_removed",e,r,s),Rr(i,o,"child_added",e,r,s),Rr(i,o,"child_moved",u,r,s),Rr(i,o,"child_changed",e,r,s),Rr(i,o,"value",e,r,s),o}function Rr(i,e,s,r,o,u){const f=r.filter(h=>h.type===s);f.sort((h,m)=>lA(i,h,m)),f.forEach(h=>{const m=rA(i,h,u);o.forEach(p=>{p.respondsTo(h.type)&&e.push(p.createEvent(m,i.query_))})})}function rA(i,e,s){return e.type==="value"||e.type==="child_removed"||(e.prevName=s.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function lA(i,e,s){if(e.childName==null||s.childName==null)throw ma("Should only compare child_ events.");const r=new ge(e.childName,e.snapshotNode),o=new ge(s.childName,s.snapshotNode);return i.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(i,e){return{eventCache:i,serverCache:e}}function Ir(i,e,s,r){return vu(new Ai(e,s,r),i.serverCache)}function ib(i,e,s,r){return vu(i.eventCache,new Ai(e,s,r))}function iu(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function us(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fd;const oA=()=>(fd||(fd=new Nt(QN)),fd);class ze{static fromObject(e){let s=new ze(null);return At(e,(r,o)=>{s=s.set(new ke(r),o)}),s}constructor(e,s=oA()){this.value=e,this.children=s}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,s){if(this.value!=null&&s(this.value))return{path:we(),value:this.value};if(ve(e))return null;{const r=be(e),o=this.children.get(r);if(o!==null){const u=o.findRootMostMatchingPathAndValue(Ue(e),s);return u!=null?{path:nt(new ke(r),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ve(e))return this;{const s=be(e),r=this.children.get(s);return r!==null?r.subtree(Ue(e)):new ze(null)}}set(e,s){if(ve(e))return new ze(s,this.children);{const r=be(e),u=(this.children.get(r)||new ze(null)).set(Ue(e),s),f=this.children.insert(r,u);return new ze(this.value,f)}}remove(e){if(ve(e))return this.children.isEmpty()?new ze(null):new ze(null,this.children);{const s=be(e),r=this.children.get(s);if(r){const o=r.remove(Ue(e));let u;return o.isEmpty()?u=this.children.remove(s):u=this.children.insert(s,o),this.value===null&&u.isEmpty()?new ze(null):new ze(this.value,u)}else return this}}get(e){if(ve(e))return this.value;{const s=be(e),r=this.children.get(s);return r?r.get(Ue(e)):null}}setTree(e,s){if(ve(e))return s;{const r=be(e),u=(this.children.get(r)||new ze(null)).setTree(Ue(e),s);let f;return u.isEmpty()?f=this.children.remove(r):f=this.children.insert(r,u),new ze(this.value,f)}}fold(e){return this.fold_(we(),e)}fold_(e,s){const r={};return this.children.inorderTraversal((o,u)=>{r[o]=u.fold_(nt(e,o),s)}),s(e,this.value,r)}findOnPath(e,s){return this.findOnPath_(e,we(),s)}findOnPath_(e,s,r){const o=this.value?r(s,this.value):!1;if(o)return o;if(ve(e))return null;{const u=be(e),f=this.children.get(u);return f?f.findOnPath_(Ue(e),nt(s,u),r):null}}foreachOnPath(e,s){return this.foreachOnPath_(e,we(),s)}foreachOnPath_(e,s,r){if(ve(e))return this;{this.value&&r(s,this.value);const o=be(e),u=this.children.get(o);return u?u.foreachOnPath_(Ue(e),nt(s,o),r):new ze(null)}}foreach(e){this.foreach_(we(),e)}foreach_(e,s){this.children.inorderTraversal((r,o)=>{o.foreach_(nt(e,r),s)}),this.value&&s(e,this.value)}foreachChild(e){this.children.inorderTraversal((s,r)=>{r.value&&e(s,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.writeTree_=e}static empty(){return new rn(new ze(null))}}function Mr(i,e,s){if(ve(e))return new rn(new ze(s));{const r=i.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let u=r.value;const f=yt(o,e);return u=u.updateChild(f,s),new rn(i.writeTree_.set(o,u))}else{const o=new ze(s),u=i.writeTree_.setTree(e,o);return new rn(u)}}}function Yy(i,e,s){let r=i;return At(s,(o,u)=>{r=Mr(r,nt(e,o),u)}),r}function Fy(i,e){if(ve(e))return rn.empty();{const s=i.writeTree_.setTree(e,new ze(null));return new rn(s)}}function Od(i,e){return ms(i,e)!=null}function ms(i,e){const s=i.writeTree_.findRootMostValueAndPath(e);return s!=null?i.writeTree_.get(s.path).getChild(yt(s.path,e)):null}function Qy(i){const e=[],s=i.writeTree_.value;return s!=null?s.isLeafNode()||s.forEachChild(Xe,(r,o)=>{e.push(new ge(r,o))}):i.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new ge(r,o.value))}),e}function wi(i,e){if(ve(e))return i;{const s=ms(i,e);return s!=null?new rn(new ze(s)):new rn(i.writeTree_.subtree(e))}}function Dd(i){return i.writeTree_.isEmpty()}function fa(i,e){return sb(we(),i.writeTree_,e)}function sb(i,e,s){if(e.value!=null)return s.updateChild(i,e.value);{let r=null;return e.children.inorderTraversal((o,u)=>{o===".priority"?(Y(u.value!==null,"Priority writes must always be leaf nodes"),r=u.value):s=sb(nt(i,o),u,s)}),!s.getChild(i).isEmpty()&&r!==null&&(s=s.updateChild(nt(i,".priority"),r)),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(i,e){return ob(e,i)}function uA(i,e,s,r,o){Y(r>i.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),i.allWrites.push({path:e,snap:s,writeId:r,visible:o}),o&&(i.visibleWrites=Mr(i.visibleWrites,e,s)),i.lastWriteId=r}function cA(i,e){for(let s=0;s<i.allWrites.length;s++){const r=i.allWrites[s];if(r.writeId===e)return r}return null}function fA(i,e){const s=i.allWrites.findIndex(h=>h.writeId===e);Y(s>=0,"removeWrite called with nonexistent writeId.");const r=i.allWrites[s];i.allWrites.splice(s,1);let o=r.visible,u=!1,f=i.allWrites.length-1;for(;o&&f>=0;){const h=i.allWrites[f];h.visible&&(f>=s&&dA(h,r.path)?o=!1:nn(r.path,h.path)&&(u=!0)),f--}if(o){if(u)return hA(i),!0;if(r.snap)i.visibleWrites=Fy(i.visibleWrites,r.path);else{const h=r.children;At(h,m=>{i.visibleWrites=Fy(i.visibleWrites,nt(r.path,m))})}return!0}else return!1}function dA(i,e){if(i.snap)return nn(i.path,e);for(const s in i.children)if(i.children.hasOwnProperty(s)&&nn(nt(i.path,s),e))return!0;return!1}function hA(i){i.visibleWrites=ab(i.allWrites,mA,we()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function mA(i){return i.visible}function ab(i,e,s){let r=rn.empty();for(let o=0;o<i.length;++o){const u=i[o];if(e(u)){const f=u.path;let h;if(u.snap)nn(s,f)?(h=yt(s,f),r=Mr(r,h,u.snap)):nn(f,s)&&(h=yt(f,s),r=Mr(r,we(),u.snap.getChild(h)));else if(u.children){if(nn(s,f))h=yt(s,f),r=Yy(r,h,u.children);else if(nn(f,s))if(h=yt(f,s),ve(h))r=Yy(r,we(),u.children);else{const m=la(u.children,be(h));if(m){const p=m.getChild(Ue(h));r=Mr(r,we(),p)}}}else throw ma("WriteRecord should have .snap or .children")}}return r}function rb(i,e,s,r,o){if(!r&&!o){const u=ms(i.visibleWrites,e);if(u!=null)return u;{const f=wi(i.visibleWrites,e);if(Dd(f))return s;if(s==null&&!Od(f,we()))return null;{const h=s||re.EMPTY_NODE;return fa(f,h)}}}else{const u=wi(i.visibleWrites,e);if(!o&&Dd(u))return s;if(!o&&s==null&&!Od(u,we()))return null;{const f=function(p){return(p.visible||o)&&(!r||!~r.indexOf(p.writeId))&&(nn(p.path,e)||nn(e,p.path))},h=ab(i.allWrites,f,e),m=s||re.EMPTY_NODE;return fa(h,m)}}}function pA(i,e,s){let r=re.EMPTY_NODE;const o=ms(i.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(Xe,(u,f)=>{r=r.updateImmediateChild(u,f)}),r;if(s){const u=wi(i.visibleWrites,e);return s.forEachChild(Xe,(f,h)=>{const m=fa(wi(u,new ke(f)),h);r=r.updateImmediateChild(f,m)}),Qy(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}else{const u=wi(i.visibleWrites,e);return Qy(u).forEach(f=>{r=r.updateImmediateChild(f.name,f.node)}),r}}function gA(i,e,s,r,o){Y(r||o,"Either existingEventSnap or existingServerSnap must exist");const u=nt(e,s);if(Od(i.visibleWrites,u))return null;{const f=wi(i.visibleWrites,u);return Dd(f)?o.getChild(s):fa(f,o.getChild(s))}}function _A(i,e,s,r){const o=nt(e,s),u=ms(i.visibleWrites,o);if(u!=null)return u;if(r.isCompleteForChild(s)){const f=wi(i.visibleWrites,o);return fa(f,r.getNode().getImmediateChild(s))}else return null}function yA(i,e){return ms(i.visibleWrites,e)}function vA(i,e,s,r,o,u,f){let h;const m=wi(i.visibleWrites,e),p=ms(m,we());if(p!=null)h=p;else if(s!=null)h=fa(m,s);else return[];if(h=h.withIndex(f),!h.isEmpty()&&!h.isLeafNode()){const y=[],b=f.getCompare(),v=u?h.getReverseIteratorFrom(r,f):h.getIteratorFrom(r,f);let N=v.getNext();for(;N&&y.length<o;)b(N,r)!==0&&y.push(N),N=v.getNext();return y}else return[]}function bA(){return{visibleWrites:rn.empty(),allWrites:[],lastWriteId:-1}}function su(i,e,s,r){return rb(i.writeTree,i.treePath,e,s,r)}function Sh(i,e){return pA(i.writeTree,i.treePath,e)}function Xy(i,e,s,r){return gA(i.writeTree,i.treePath,e,s,r)}function au(i,e){return yA(i.writeTree,nt(i.treePath,e))}function EA(i,e,s,r,o,u){return vA(i.writeTree,i.treePath,e,s,r,o,u)}function Th(i,e,s){return _A(i.writeTree,i.treePath,e,s)}function lb(i,e){return ob(nt(i.treePath,e),i.writeTree)}function ob(i,e){return{treePath:i,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.changeMap=new Map}trackChildChange(e){const s=e.type,r=e.childName;Y(s==="child_added"||s==="child_changed"||s==="child_removed","Only child changes supported for tracking"),Y(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const u=o.type;if(s==="child_added"&&u==="child_removed")this.changeMap.set(r,Br(r,e.snapshotNode,o.snapshotNode));else if(s==="child_removed"&&u==="child_added")this.changeMap.delete(r);else if(s==="child_removed"&&u==="child_changed")this.changeMap.set(r,Hr(r,o.oldSnap));else if(s==="child_changed"&&u==="child_added")this.changeMap.set(r,ca(r,e.snapshotNode));else if(s==="child_changed"&&u==="child_changed")this.changeMap.set(r,Br(r,e.snapshotNode,o.oldSnap));else throw ma("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{getCompleteChild(e){return null}getChildAfterChild(e,s,r){return null}}const ub=new TA;class Ch{constructor(e,s,r=null){this.writes_=e,this.viewCache_=s,this.optCompleteServerCache_=r}getCompleteChild(e){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(e))return s.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Ai(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Th(this.writes_,e,r)}}getChildAfterChild(e,s,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:us(this.viewCache_),u=EA(this.writes_,o,s,1,r,e);return u.length===0?null:u[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(i){return{filter:i}}function wA(i,e){Y(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Y(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function RA(i,e,s,r,o){const u=new SA;let f,h;if(s.type===sn.OVERWRITE){const p=s;p.source.fromUser?f=Id(i,e,p.path,p.snap,r,o,u):(Y(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered()&&!ve(p.path),f=ru(i,e,p.path,p.snap,r,o,h,u))}else if(s.type===sn.MERGE){const p=s;p.source.fromUser?f=xA(i,e,p.path,p.children,r,o,u):(Y(p.source.fromServer,"Unknown source."),h=p.source.tagged||e.serverCache.isFiltered(),f=Md(i,e,p.path,p.children,r,o,h,u))}else if(s.type===sn.ACK_USER_WRITE){const p=s;p.revert?f=DA(i,e,p.path,r,o,u):f=AA(i,e,p.path,p.affectedTree,r,o,u)}else if(s.type===sn.LISTEN_COMPLETE)f=OA(i,e,s.path,r,u);else throw ma("Unknown operation type: "+s.type);const m=u.getChanges();return NA(e,f,m),{viewCache:f,changes:m}}function NA(i,e,s){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),u=iu(i);(s.length>0||!i.eventCache.isFullyInitialized()||o&&!r.getNode().equals(u)||!r.getNode().getPriority().equals(u.getPriority()))&&s.push(eb(iu(e)))}}function cb(i,e,s,r,o,u){const f=e.eventCache;if(au(r,s)!=null)return e;{let h,m;if(ve(s))if(Y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=us(e),y=p instanceof re?p:re.EMPTY_NODE,b=Sh(r,y);h=i.filter.updateFullNode(e.eventCache.getNode(),b,u)}else{const p=su(r,us(e));h=i.filter.updateFullNode(e.eventCache.getNode(),p,u)}else{const p=be(s);if(p===".priority"){Y(xi(s)===1,"Can't have a priority with additional path components");const y=f.getNode();m=e.serverCache.getNode();const b=Xy(r,s,y,m);b!=null?h=i.filter.updatePriority(y,b):h=f.getNode()}else{const y=Ue(s);let b;if(f.isCompleteForChild(p)){m=e.serverCache.getNode();const v=Xy(r,s,f.getNode(),m);v!=null?b=f.getNode().getImmediateChild(p).updateChild(y,v):b=f.getNode().getImmediateChild(p)}else b=Th(r,p,e.serverCache);b!=null?h=i.filter.updateChild(f.getNode(),p,b,y,o,u):h=f.getNode()}}return Ir(e,h,f.isFullyInitialized()||ve(s),i.filter.filtersNodes())}}function ru(i,e,s,r,o,u,f,h){const m=e.serverCache;let p;const y=f?i.filter:i.filter.getIndexedFilter();if(ve(s))p=y.updateFullNode(m.getNode(),r,null);else if(y.filtersNodes()&&!m.isFiltered()){const N=m.getNode().updateChild(s,r);p=y.updateFullNode(m.getNode(),N,null)}else{const N=be(s);if(!m.isCompleteForPath(s)&&xi(s)>1)return e;const w=Ue(s),U=m.getNode().getImmediateChild(N).updateChild(w,r);N===".priority"?p=y.updatePriority(m.getNode(),U):p=y.updateChild(m.getNode(),N,U,w,ub,null)}const b=ib(e,p,m.isFullyInitialized()||ve(s),y.filtersNodes()),v=new Ch(o,b,u);return cb(i,b,s,o,v,h)}function Id(i,e,s,r,o,u,f){const h=e.eventCache;let m,p;const y=new Ch(o,e,u);if(ve(s))p=i.filter.updateFullNode(e.eventCache.getNode(),r,f),m=Ir(e,p,!0,i.filter.filtersNodes());else{const b=be(s);if(b===".priority")p=i.filter.updatePriority(e.eventCache.getNode(),r),m=Ir(e,p,h.isFullyInitialized(),h.isFiltered());else{const v=Ue(s),N=h.getNode().getImmediateChild(b);let w;if(ve(v))w=r;else{const I=y.getCompleteChild(b);I!=null?G0(v)===".priority"&&I.getChild(F0(v)).isEmpty()?w=I:w=I.updateChild(v,r):w=re.EMPTY_NODE}if(N.equals(w))m=e;else{const I=i.filter.updateChild(h.getNode(),b,w,v,y,f);m=Ir(e,I,h.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function Ky(i,e){return i.eventCache.isCompleteForChild(e)}function xA(i,e,s,r,o,u,f){let h=e;return r.foreach((m,p)=>{const y=nt(s,m);Ky(e,be(y))&&(h=Id(i,h,y,p,o,u,f))}),r.foreach((m,p)=>{const y=nt(s,m);Ky(e,be(y))||(h=Id(i,h,y,p,o,u,f))}),h}function Wy(i,e,s){return s.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function Md(i,e,s,r,o,u,f,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m=e,p;ve(s)?p=r:p=new ze(null).setTree(s,r);const y=e.serverCache.getNode();return p.children.inorderTraversal((b,v)=>{if(y.hasChild(b)){const N=e.serverCache.getNode().getImmediateChild(b),w=Wy(i,N,v);m=ru(i,m,new ke(b),w,o,u,f,h)}}),p.children.inorderTraversal((b,v)=>{const N=!e.serverCache.isCompleteForChild(b)&&v.value===null;if(!y.hasChild(b)&&!N){const w=e.serverCache.getNode().getImmediateChild(b),I=Wy(i,w,v);m=ru(i,m,new ke(b),I,o,u,f,h)}}),m}function AA(i,e,s,r,o,u,f){if(au(o,s)!=null)return e;const h=e.serverCache.isFiltered(),m=e.serverCache;if(r.value!=null){if(ve(s)&&m.isFullyInitialized()||m.isCompleteForPath(s))return ru(i,e,s,m.getNode().getChild(s),o,u,h,f);if(ve(s)){let p=new ze(null);return m.getNode().forEachChild(ra,(y,b)=>{p=p.set(new ke(y),b)}),Md(i,e,s,p,o,u,h,f)}else return e}else{let p=new ze(null);return r.foreach((y,b)=>{const v=nt(s,y);m.isCompleteForPath(v)&&(p=p.set(y,m.getNode().getChild(v)))}),Md(i,e,s,p,o,u,h,f)}}function OA(i,e,s,r,o){const u=e.serverCache,f=ib(e,u.getNode(),u.isFullyInitialized()||ve(s),u.isFiltered());return cb(i,f,s,r,ub,o)}function DA(i,e,s,r,o,u){let f;if(au(r,s)!=null)return e;{const h=new Ch(r,e,o),m=e.eventCache.getNode();let p;if(ve(s)||be(s)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=su(r,us(e));else{const b=e.serverCache.getNode();Y(b instanceof re,"serverChildren would be complete if leaf node"),y=Sh(r,b)}y=y,p=i.filter.updateFullNode(m,y,u)}else{const y=be(s);let b=Th(r,y,e.serverCache);b==null&&e.serverCache.isCompleteForChild(y)&&(b=m.getImmediateChild(y)),b!=null?p=i.filter.updateChild(m,y,b,Ue(s),h,u):e.eventCache.getNode().hasChild(y)?p=i.filter.updateChild(m,y,re.EMPTY_NODE,Ue(s),h,u):p=m,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=su(r,us(e)),f.isLeafNode()&&(p=i.filter.updateFullNode(p,f,u)))}return f=e.serverCache.isFullyInitialized()||au(r,we())!=null,Ir(e,p,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,s){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new yh(r.getIndex()),u=$x(r);this.processor_=CA(u);const f=s.serverCache,h=s.eventCache,m=o.updateFullNode(re.EMPTY_NODE,f.getNode(),null),p=u.updateFullNode(re.EMPTY_NODE,h.getNode(),null),y=new Ai(m,f.isFullyInitialized(),o.filtersNodes()),b=new Ai(p,h.isFullyInitialized(),u.filtersNodes());this.viewCache_=vu(b,y),this.eventGenerator_=new sA(this.query_)}get query(){return this.query_}}function MA(i){return i.viewCache_.serverCache.getNode()}function kA(i){return iu(i.viewCache_)}function LA(i,e){const s=us(i.viewCache_);return s&&(i.query._queryParams.loadsAllData()||!ve(e)&&!s.getImmediateChild(be(e)).isEmpty())?s.getChild(e):null}function $y(i){return i.eventRegistrations_.length===0}function UA(i,e){i.eventRegistrations_.push(e)}function Zy(i,e,s){const r=[];if(s){Y(e==null,"A cancel should cancel all event registrations.");const o=i.query._path;i.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(s,o);f&&r.push(f)})}if(e){let o=[];for(let u=0;u<i.eventRegistrations_.length;++u){const f=i.eventRegistrations_[u];if(!f.matches(e))o.push(f);else if(e.hasAnyCallback()){o=o.concat(i.eventRegistrations_.slice(u+1));break}}i.eventRegistrations_=o}else i.eventRegistrations_=[];return r}function Jy(i,e,s,r){e.type===sn.MERGE&&e.source.queryId!==null&&(Y(us(i.viewCache_),"We should always have a full cache before handling merges"),Y(iu(i.viewCache_),"Missing event cache, even though we have a server cache"));const o=i.viewCache_,u=RA(i.processor_,o,e,s,r);return wA(i.processor_,u.viewCache),Y(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=u.viewCache,fb(i,u.changes,u.viewCache.eventCache.getNode(),null)}function zA(i,e){const s=i.viewCache_.eventCache,r=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(Xe,(u,f)=>{r.push(ca(u,f))}),s.isFullyInitialized()&&r.push(eb(s.getNode())),fb(i,r,s.getNode(),e)}function fb(i,e,s,r){const o=r?[r]:i.eventRegistrations_;return aA(i.eventGenerator_,e,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lu;class db{constructor(){this.views=new Map}}function jA(i){Y(!lu,"__referenceConstructor has already been defined"),lu=i}function PA(){return Y(lu,"Reference.ts has not been loaded"),lu}function HA(i){return i.views.size===0}function wh(i,e,s,r){const o=e.source.queryId;if(o!==null){const u=i.views.get(o);return Y(u!=null,"SyncTree gave us an op for an invalid query."),Jy(u,e,s,r)}else{let u=[];for(const f of i.views.values())u=u.concat(Jy(f,e,s,r));return u}}function hb(i,e,s,r,o){const u=e._queryIdentifier,f=i.views.get(u);if(!f){let h=su(s,o?r:null),m=!1;h?m=!0:r instanceof re?(h=Sh(s,r),m=!1):(h=re.EMPTY_NODE,m=!1);const p=vu(new Ai(h,m,!1),new Ai(r,o,!1));return new IA(e,p)}return f}function BA(i,e,s,r,o,u){const f=hb(i,e,r,o,u);return i.views.has(e._queryIdentifier)||i.views.set(e._queryIdentifier,f),UA(f,s),zA(f,s)}function qA(i,e,s,r){const o=e._queryIdentifier,u=[];let f=[];const h=Oi(i);if(o==="default")for(const[m,p]of i.views.entries())f=f.concat(Zy(p,s,r)),$y(p)&&(i.views.delete(m),p.query._queryParams.loadsAllData()||u.push(p.query));else{const m=i.views.get(o);m&&(f=f.concat(Zy(m,s,r)),$y(m)&&(i.views.delete(o),m.query._queryParams.loadsAllData()||u.push(m.query)))}return h&&!Oi(i)&&u.push(new(PA())(e._repo,e._path)),{removed:u,events:f}}function mb(i){const e=[];for(const s of i.views.values())s.query._queryParams.loadsAllData()||e.push(s);return e}function Ri(i,e){let s=null;for(const r of i.views.values())s=s||LA(r,e);return s}function pb(i,e){if(e._queryParams.loadsAllData())return Eu(i);{const r=e._queryIdentifier;return i.views.get(r)}}function gb(i,e){return pb(i,e)!=null}function Oi(i){return Eu(i)!=null}function Eu(i){for(const e of i.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ou;function VA(i){Y(!ou,"__referenceConstructor has already been defined"),ou=i}function GA(){return Y(ou,"Reference.ts has not been loaded"),ou}let YA=1;class ev{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ze(null),this.pendingWriteTree_=bA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _b(i,e,s,r,o){return uA(i.pendingWriteTree_,e,s,r,o),o?ll(i,new os(nb(),e,s)):[]}function ns(i,e,s=!1){const r=cA(i.pendingWriteTree_,e);if(fA(i.pendingWriteTree_,e)){let u=new ze(null);return r.snap!=null?u=u.set(we(),!0):At(r.children,f=>{u=u.set(new ke(f),!0)}),ll(i,new nu(r.path,u,s))}else return[]}function rl(i,e,s){return ll(i,new os(bh(),e,s))}function FA(i,e,s){const r=ze.fromObject(s);return ll(i,new Gr(bh(),e,r))}function QA(i,e){return ll(i,new Vr(bh(),e))}function XA(i,e,s){const r=Nh(i,s);if(r){const o=xh(r),u=o.path,f=o.queryId,h=yt(u,e),m=new Vr(Eh(f),h);return Ah(i,u,m)}else return[]}function yb(i,e,s,r,o=!1){const u=e._path,f=i.syncPointTree_.get(u);let h=[];if(f&&(e._queryIdentifier==="default"||gb(f,e))){const m=qA(f,e,s,r);HA(f)&&(i.syncPointTree_=i.syncPointTree_.remove(u));const p=m.removed;if(h=m.events,!o){const y=p.findIndex(v=>v._queryParams.loadsAllData())!==-1,b=i.syncPointTree_.findOnPath(u,(v,N)=>Oi(N));if(y&&!b){const v=i.syncPointTree_.subtree(u);if(!v.isEmpty()){const N=ZA(v);for(let w=0;w<N.length;++w){const I=N[w],U=I.query,A=Sb(i,I);i.listenProvider_.startListening(kr(U),Yr(i,U),A.hashFn,A.onComplete)}}}!b&&p.length>0&&!r&&(y?i.listenProvider_.stopListening(kr(e),null):p.forEach(v=>{const N=i.queryToTagMap.get(Su(v));i.listenProvider_.stopListening(kr(v),N)}))}JA(i,p)}return h}function vb(i,e,s,r){const o=Nh(i,r);if(o!=null){const u=xh(o),f=u.path,h=u.queryId,m=yt(f,e),p=new os(Eh(h),m,s);return Ah(i,f,p)}else return[]}function KA(i,e,s,r){const o=Nh(i,r);if(o){const u=xh(o),f=u.path,h=u.queryId,m=yt(f,e),p=ze.fromObject(s),y=new Gr(Eh(h),m,p);return Ah(i,f,y)}else return[]}function WA(i,e,s,r=!1){const o=e._path;let u=null,f=!1;i.syncPointTree_.foreachOnPath(o,(v,N)=>{const w=yt(v,o);u=u||Ri(N,w),f=f||Oi(N)});let h=i.syncPointTree_.get(o);h?(f=f||Oi(h),u=u||Ri(h,we())):(h=new db,i.syncPointTree_=i.syncPointTree_.set(o,h));let m;u!=null?m=!0:(m=!1,u=re.EMPTY_NODE,i.syncPointTree_.subtree(o).foreachChild((N,w)=>{const I=Ri(w,we());I&&(u=u.updateImmediateChild(N,I))}));const p=gb(h,e);if(!p&&!e._queryParams.loadsAllData()){const v=Su(e);Y(!i.queryToTagMap.has(v),"View does not exist, but we have a tag");const N=eO();i.queryToTagMap.set(v,N),i.tagToQueryMap.set(N,v)}const y=bu(i.pendingWriteTree_,o);let b=BA(h,e,s,y,u,m);if(!p&&!f&&!r){const v=pb(h,e);b=b.concat(tO(i,e,v))}return b}function Rh(i,e,s){const o=i.pendingWriteTree_,u=i.syncPointTree_.findOnPath(e,(f,h)=>{const m=yt(f,e),p=Ri(h,m);if(p)return p});return rb(o,e,u,s,!0)}function $A(i,e){const s=e._path;let r=null;i.syncPointTree_.foreachOnPath(s,(p,y)=>{const b=yt(p,s);r=r||Ri(y,b)});let o=i.syncPointTree_.get(s);o?r=r||Ri(o,we()):(o=new db,i.syncPointTree_=i.syncPointTree_.set(s,o));const u=r!=null,f=u?new Ai(r,!0,!1):null,h=bu(i.pendingWriteTree_,e._path),m=hb(o,e,h,u?f.getNode():re.EMPTY_NODE,u);return kA(m)}function ll(i,e){return bb(e,i.syncPointTree_,null,bu(i.pendingWriteTree_,we()))}function bb(i,e,s,r){if(ve(i.path))return Eb(i,e,s,r);{const o=e.get(we());s==null&&o!=null&&(s=Ri(o,we()));let u=[];const f=be(i.path),h=i.operationForChild(f),m=e.children.get(f);if(m&&h){const p=s?s.getImmediateChild(f):null,y=lb(r,f);u=u.concat(bb(h,m,p,y))}return o&&(u=u.concat(wh(o,i,r,s))),u}}function Eb(i,e,s,r){const o=e.get(we());s==null&&o!=null&&(s=Ri(o,we()));let u=[];return e.children.inorderTraversal((f,h)=>{const m=s?s.getImmediateChild(f):null,p=lb(r,f),y=i.operationForChild(f);y&&(u=u.concat(Eb(y,h,m,p)))}),o&&(u=u.concat(wh(o,i,r,s))),u}function Sb(i,e){const s=e.query,r=Yr(i,s);return{hashFn:()=>(MA(e)||re.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?XA(i,s._path,r):QA(i,s._path);{const u=WN(o,s);return yb(i,s,null,u)}}}}function Yr(i,e){const s=Su(e);return i.queryToTagMap.get(s)}function Su(i){return i._path.toString()+"$"+i._queryIdentifier}function Nh(i,e){return i.tagToQueryMap.get(e)}function xh(i){const e=i.indexOf("$");return Y(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new ke(i.substr(0,e))}}function Ah(i,e,s){const r=i.syncPointTree_.get(e);Y(r,"Missing sync point for query tag that we're tracking");const o=bu(i.pendingWriteTree_,e);return wh(r,s,o,null)}function ZA(i){return i.fold((e,s,r)=>{if(s&&Oi(s))return[Eu(s)];{let o=[];return s&&(o=mb(s)),At(r,(u,f)=>{o=o.concat(f)}),o}})}function kr(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(GA())(i._repo,i._path):i}function JA(i,e){for(let s=0;s<e.length;++s){const r=e[s];if(!r._queryParams.loadsAllData()){const o=Su(r),u=i.queryToTagMap.get(o);i.queryToTagMap.delete(o),i.tagToQueryMap.delete(u)}}}function eO(){return YA++}function tO(i,e,s){const r=e._path,o=Yr(i,e),u=Sb(i,s),f=i.listenProvider_.startListening(kr(e),o,u.hashFn,u.onComplete),h=i.syncPointTree_.subtree(r);if(o)Y(!Oi(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((p,y,b)=>{if(!ve(p)&&y&&Oi(y))return[Eu(y).query];{let v=[];return y&&(v=v.concat(mb(y).map(N=>N.query))),At(b,(N,w)=>{v=v.concat(w)}),v}});for(let p=0;p<m.length;++p){const y=m[p];i.listenProvider_.stopListening(kr(y),Yr(i,y))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this.node_=e}getImmediateChild(e){const s=this.node_.getImmediateChild(e);return new Oh(s)}node(){return this.node_}}class Dh{constructor(e,s){this.syncTree_=e,this.path_=s}getImmediateChild(e){const s=nt(this.path_,e);return new Dh(this.syncTree_,s)}node(){return Rh(this.syncTree_,this.path_)}}const nO=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},tv=function(i,e,s){if(!i||typeof i!="object")return i;if(Y(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return iO(i[".sv"],e,s);if(typeof i[".sv"]=="object")return sO(i[".sv"],e);Y(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},iO=function(i,e,s){switch(i){case"timestamp":return s.timestamp;default:Y(!1,"Unexpected server value: "+i)}},sO=function(i,e,s){i.hasOwnProperty("increment")||Y(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const r=i.increment;typeof r!="number"&&Y(!1,"Unexpected increment value: "+r);const o=e.node();if(Y(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const f=o.getValue();return typeof f!="number"?r:f+r},aO=function(i,e,s,r){return Ih(e,new Dh(s,i),r)},Tb=function(i,e,s){return Ih(i,new Oh(e),s)};function Ih(i,e,s){const r=i.getPriority().val(),o=tv(r,e.getImmediateChild(".priority"),s);let u;if(i.isLeafNode()){const f=i,h=tv(f.getValue(),e,s);return h!==f.getValue()||o!==f.getPriority().val()?new lt(h,ut(o)):i}else{const f=i;return u=f,o!==f.getPriority().val()&&(u=u.updatePriority(new lt(o))),f.forEachChild(Xe,(h,m)=>{const p=Ih(m,e.getImmediateChild(h),s);p!==m&&(u=u.updateImmediateChild(h,p))}),u}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e="",s=null,r={children:{},childCount:0}){this.name=e,this.parent=s,this.node=r}}function kh(i,e){let s=e instanceof ke?e:new ke(e),r=i,o=be(s);for(;o!==null;){const u=la(r.node.children,o)||{children:{},childCount:0};r=new Mh(o,r,u),s=Ue(s),o=be(s)}return r}function Ea(i){return i.node.value}function Cb(i,e){i.node.value=e,kd(i)}function wb(i){return i.node.childCount>0}function rO(i){return Ea(i)===void 0&&!wb(i)}function Tu(i,e){At(i.node.children,(s,r)=>{e(new Mh(s,i,r))})}function Rb(i,e,s,r){s&&e(i),Tu(i,o=>{Rb(o,e,!0)})}function lO(i,e,s){let r=i.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ol(i){return new ke(i.parent===null?i.name:ol(i.parent)+"/"+i.name)}function kd(i){i.parent!==null&&oO(i.parent,i.name,i)}function oO(i,e,s){const r=rO(s),o=Gn(i.node.children,e);r&&o?(delete i.node.children[e],i.node.childCount--,kd(i)):!r&&!o&&(i.node.children[e]=s.node,i.node.childCount++,kd(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=/[\[\].#$\/\u0000-\u001F\u007F]/,cO=/[\[\].#$\u0000-\u001F\u007F]/,dd=10*1024*1024,Nb=function(i){return typeof i=="string"&&i.length!==0&&!uO.test(i)},xb=function(i){return typeof i=="string"&&i.length!==0&&!cO.test(i)},fO=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),xb(i)},Ab=function(i,e,s,r){r&&e===void 0||Lh(Zd(i,"value"),e,s)},Lh=function(i,e,s){const r=s instanceof ke?new Ax(s,i):s;if(e===void 0)throw new Error(i+"contains undefined "+Ji(r));if(typeof e=="function")throw new Error(i+"contains a function "+Ji(r)+" with contents = "+e.toString());if(T0(e))throw new Error(i+"contains "+e.toString()+" "+Ji(r));if(typeof e=="string"&&e.length>dd/3&&mu(e)>dd)throw new Error(i+"contains a string greater than "+dd+" utf8 bytes "+Ji(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,u=!1;if(At(e,(f,h)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!Nb(f)))throw new Error(i+" contains an invalid key ("+f+") "+Ji(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Ox(r,f),Lh(i,h,r),Dx(r)}),o&&u)throw new Error(i+' contains ".value" child '+Ji(r)+" in addition to actual children.")}},Ob=function(i,e,s,r){if(!xb(s))throw new Error(Zd(i,e)+'was an invalid path = "'+s+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},dO=function(i,e,s,r){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Ob(i,e,s)},Uh=function(i,e){if(be(e)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},hO=function(i,e){const s=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Nb(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||s.length!==0&&!fO(s))throw new Error(Zd(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Db(i,e){let s=null;for(let r=0;r<e.length;r++){const o=e[r],u=o.getPath();s!==null&&!Q0(u,s.path)&&(i.eventLists_.push(s),s=null),s===null&&(s={events:[],path:u}),s.events.push(o)}s&&i.eventLists_.push(s)}function gn(i,e,s){Db(i,s),pO(i,r=>nn(r,e)||nn(e,r))}function pO(i,e){i.recursionDepth_++;let s=!0;for(let r=0;r<i.eventLists_.length;r++){const o=i.eventLists_[r];if(o){const u=o.path;e(u)?(gO(i.eventLists_[r]),i.eventLists_[r]=null):s=!1}}s&&(i.eventLists_=[]),i.recursionDepth_--}function gO(i){for(let e=0;e<i.events.length;e++){const s=i.events[e];if(s!==null){i.events[e]=null;const r=s.getEventRunner();Or&&gt("event: "+s.toString()),ba(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="repo_interrupt",yO=25;class vO{constructor(e,s,r,o){this.repoInfo_=e,this.forceRestClient_=s,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=tu(),this.transactionQueueTree_=new Mh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function bO(i,e,s){if(i.stats_=mh(i.repoInfo_),i.forceRestClient_||ex())i.server_=new eu(i.repoInfo_,(r,o,u,f)=>{nv(i,r,o,u,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>iv(i,!0),0);else{if(typeof s<"u"&&s!==null){if(typeof s!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tt(s)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}i.persistentConnection_=new jn(i.repoInfo_,e,(r,o,u,f)=>{nv(i,r,o,u,f)},r=>{iv(i,r)},r=>{EO(i,r)},i.authTokenProvider_,i.appCheckProvider_,s),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(r=>{i.server_.refreshAuthToken(r)}),i.appCheckProvider_.addTokenChangeListener(r=>{i.server_.refreshAppCheckToken(r.token)}),i.statsReporter_=ax(i.repoInfo_,()=>new iA(i.stats_,i.server_)),i.infoData_=new Zx,i.infoSyncTree_=new ev({startListening:(r,o,u,f)=>{let h=[];const m=i.infoData_.getNode(r._path);return m.isEmpty()||(h=rl(i.infoSyncTree_,r._path,m),setTimeout(()=>{f("ok")},0)),h},stopListening:()=>{}}),jh(i,"connected",!1),i.serverSyncTree_=new ev({startListening:(r,o,u,f)=>(i.server_.listen(r,u,o,(h,m)=>{const p=f(h,m);gn(i.eventQueue_,r._path,p)}),[]),stopListening:(r,o)=>{i.server_.unlisten(r,o)}})}function Ib(i){const s=i.infoData_.getNode(new ke(".info/serverTimeOffset")).val()||0;return new Date().getTime()+s}function zh(i){return nO({timestamp:Ib(i)})}function nv(i,e,s,r,o){i.dataUpdateCount++;const u=new ke(e);s=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,s):s;let f=[];if(o)if(r){const m=qo(s,p=>ut(p));f=KA(i.serverSyncTree_,u,m,o)}else{const m=ut(s);f=vb(i.serverSyncTree_,u,m,o)}else if(r){const m=qo(s,p=>ut(p));f=FA(i.serverSyncTree_,u,m)}else{const m=ut(s);f=rl(i.serverSyncTree_,u,m)}let h=u;f.length>0&&(h=wu(i,u)),gn(i.eventQueue_,h,f)}function iv(i,e){jh(i,"connected",e),e===!1&&CO(i)}function EO(i,e){At(e,(s,r)=>{jh(i,s,r)})}function jh(i,e,s){const r=new ke("/.info/"+e),o=ut(s);i.infoData_.updateSnapshot(r,o);const u=rl(i.infoSyncTree_,r,o);gn(i.eventQueue_,r,u)}function Mb(i){return i.nextWriteId_++}function SO(i,e,s){const r=$A(i.serverSyncTree_,e);return r!=null?Promise.resolve(r):i.server_.get(e).then(o=>{const u=ut(o).withIndex(e._queryParams.getIndex());WA(i.serverSyncTree_,e,s,!0);let f;if(e._queryParams.loadsAllData())f=rl(i.serverSyncTree_,e._path,u);else{const h=Yr(i.serverSyncTree_,e);f=vb(i.serverSyncTree_,e._path,u,h)}return gn(i.eventQueue_,e._path,f),yb(i.serverSyncTree_,e,s,null,!0),u},o=>(Cu(i,"get for query "+tt(e)+" failed: "+o),Promise.reject(new Error(o))))}function TO(i,e,s,r,o){Cu(i,"set",{path:e.toString(),value:s,priority:r});const u=zh(i),f=ut(s,r),h=Rh(i.serverSyncTree_,e),m=Tb(f,h,u),p=Mb(i),y=_b(i.serverSyncTree_,e,m,p,!0);Db(i.eventQueue_,y),i.server_.put(e.toString(),f.val(!0),(v,N)=>{const w=v==="ok";w||xt("set at "+e+" failed: "+v);const I=ns(i.serverSyncTree_,p,!w);gn(i.eventQueue_,e,I),RO(i,o,v,N)});const b=jb(i,e);wu(i,b),gn(i.eventQueue_,b,[])}function CO(i){Cu(i,"onDisconnectEvents");const e=zh(i),s=tu();Ad(i.onDisconnect_,we(),(o,u)=>{const f=aO(o,u,i.serverSyncTree_,e);tb(s,o,f)});let r=[];Ad(s,we(),(o,u)=>{r=r.concat(rl(i.serverSyncTree_,o,u));const f=jb(i,o);wu(i,f)}),i.onDisconnect_=tu(),gn(i.eventQueue_,we(),r)}function wO(i){i.persistentConnection_&&i.persistentConnection_.interrupt(_O)}function Cu(i,...e){let s="";i.persistentConnection_&&(s=i.persistentConnection_.id+":"),gt(s,...e)}function RO(i,e,s,r){e&&ba(()=>{if(s==="ok")e(null);else{const o=(s||"error").toUpperCase();let u=o;r&&(u+=": "+r);const f=new Error(u);f.code=o,e(f)}})}function kb(i,e,s){return Rh(i.serverSyncTree_,e,s)||re.EMPTY_NODE}function Ph(i,e=i.transactionQueueTree_){if(e||Ru(i,e),Ea(e)){const s=Ub(i,e);Y(s.length>0,"Sending zero length transaction queue"),s.every(o=>o.status===0)&&NO(i,ol(e),s)}else wb(e)&&Tu(e,s=>{Ph(i,s)})}function NO(i,e,s){const r=s.map(p=>p.currentWriteId),o=kb(i,e,r);let u=o;const f=o.hash();for(let p=0;p<s.length;p++){const y=s[p];Y(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const b=yt(e,y.path);u=u.updateChild(b,y.currentOutputSnapshotRaw)}const h=u.val(!0),m=e;i.server_.put(m.toString(),h,p=>{Cu(i,"transaction put response",{path:m.toString(),status:p});let y=[];if(p==="ok"){const b=[];for(let v=0;v<s.length;v++)s[v].status=2,y=y.concat(ns(i.serverSyncTree_,s[v].currentWriteId)),s[v].onComplete&&b.push(()=>s[v].onComplete(null,!0,s[v].currentOutputSnapshotResolved)),s[v].unwatcher();Ru(i,kh(i.transactionQueueTree_,e)),Ph(i,i.transactionQueueTree_),gn(i.eventQueue_,e,y);for(let v=0;v<b.length;v++)ba(b[v])}else{if(p==="datastale")for(let b=0;b<s.length;b++)s[b].status===3?s[b].status=4:s[b].status=0;else{xt("transaction at "+m.toString()+" failed: "+p);for(let b=0;b<s.length;b++)s[b].status=4,s[b].abortReason=p}wu(i,e)}},f)}function wu(i,e){const s=Lb(i,e),r=ol(s),o=Ub(i,s);return xO(i,o,r),r}function xO(i,e,s){if(e.length===0)return;const r=[];let o=[];const f=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const m=e[h],p=yt(s,m.path);let y=!1,b;if(Y(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)y=!0,b=m.abortReason,o=o.concat(ns(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=yO)y=!0,b="maxretry",o=o.concat(ns(i.serverSyncTree_,m.currentWriteId,!0));else{const v=kb(i,m.path,f);m.currentInputSnapshot=v;const N=e[h].update(v.val());if(N!==void 0){Lh("transaction failed: Data returned ",N,m.path);let w=ut(N);typeof N=="object"&&N!=null&&Gn(N,".priority")||(w=w.updatePriority(v.getPriority()));const U=m.currentWriteId,A=zh(i),L=Tb(w,v,A);m.currentOutputSnapshotRaw=w,m.currentOutputSnapshotResolved=L,m.currentWriteId=Mb(i),f.splice(f.indexOf(U),1),o=o.concat(_b(i.serverSyncTree_,m.path,L,m.currentWriteId,m.applyLocally)),o=o.concat(ns(i.serverSyncTree_,U,!0))}else y=!0,b="nodata",o=o.concat(ns(i.serverSyncTree_,m.currentWriteId,!0))}gn(i.eventQueue_,s,o),o=[],y&&(e[h].status=2,function(v){setTimeout(v,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(b==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(b),!1,null))))}Ru(i,i.transactionQueueTree_);for(let h=0;h<r.length;h++)ba(r[h]);Ph(i,i.transactionQueueTree_)}function Lb(i,e){let s,r=i.transactionQueueTree_;for(s=be(e);s!==null&&Ea(r)===void 0;)r=kh(r,s),e=Ue(e),s=be(e);return r}function Ub(i,e){const s=[];return zb(i,e,s),s.sort((r,o)=>r.order-o.order),s}function zb(i,e,s){const r=Ea(e);if(r)for(let o=0;o<r.length;o++)s.push(r[o]);Tu(e,o=>{zb(i,o,s)})}function Ru(i,e){const s=Ea(e);if(s){let r=0;for(let o=0;o<s.length;o++)s[o].status!==2&&(s[r]=s[o],r++);s.length=r,Cb(e,s.length>0?s:void 0)}Tu(e,r=>{Ru(i,r)})}function jb(i,e){const s=ol(Lb(i,e)),r=kh(i.transactionQueueTree_,e);return lO(r,o=>{hd(i,o)}),hd(i,r),Rb(r,o=>{hd(i,o)}),s}function hd(i,e){const s=Ea(e);if(s){const r=[];let o=[],u=-1;for(let f=0;f<s.length;f++)s[f].status===3||(s[f].status===1?(Y(u===f-1,"All SENT items should be at beginning of queue."),u=f,s[f].status=3,s[f].abortReason="set"):(Y(s[f].status===0,"Unexpected transaction status in abort"),s[f].unwatcher(),o=o.concat(ns(i.serverSyncTree_,s[f].currentWriteId,!0)),s[f].onComplete&&r.push(s[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?Cb(e,void 0):s.length=u+1,gn(i.eventQueue_,ol(e),o);for(let f=0;f<r.length;f++)ba(r[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(i){let e="";const s=i.split("/");for(let r=0;r<s.length;r++)if(s[r].length>0){let o=s[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function OO(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const s of i.split("&")){if(s.length===0)continue;const r=s.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):xt(`Invalid query segment '${s}' in query '${i}'`)}return e}const sv=function(i,e){const s=DO(i),r=s.namespace;s.domain==="firebase.com"&&qn(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&s.domain!=="localhost"&&qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||YN();const o=s.scheme==="ws"||s.scheme==="wss";return{repoInfo:new L0(s.host,s.secure,r,o,e,"",r!==s.subdomain),path:new ke(s.pathString)}},DO=function(i){let e="",s="",r="",o="",u="",f=!0,h="https",m=443;if(typeof i=="string"){let p=i.indexOf("//");p>=0&&(h=i.substring(0,p-1),i=i.substring(p+2));let y=i.indexOf("/");y===-1&&(y=i.length);let b=i.indexOf("?");b===-1&&(b=i.length),e=i.substring(0,Math.min(y,b)),y<b&&(o=AO(i.substring(y,b)));const v=OO(i.substring(Math.min(i.length,b)));p=e.indexOf(":"),p>=0?(f=h==="https"||h==="wss",m=parseInt(e.substring(p+1),10)):p=e.length;const N=e.slice(0,p);if(N.toLowerCase()==="localhost")s="localhost";else if(N.split(".").length<=2)s=N;else{const w=e.indexOf(".");r=e.substring(0,w).toLowerCase(),s=e.substring(w+1),u=r}"ns"in v&&(u=v.ns)}return{host:e,port:m,domain:s,subdomain:r,secure:f,scheme:h,pathString:o,namespace:u}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",IO=function(){let i=0;const e=[];return function(s){const r=s===i;i=s;let o;const u=new Array(8);for(o=7;o>=0;o--)u[o]=av.charAt(s%64),s=Math.floor(s/64);Y(s===0,"Cannot push at time == 0");let f=u.join("");if(r){for(o=11;o>=0&&e[o]===63;o--)e[o]=0;e[o]++}else for(o=0;o<12;o++)e[o]=Math.floor(Math.random()*64);for(o=0;o<12;o++)f+=av.charAt(e[o]);return Y(f.length===20,"nextPushId: Length should be 20."),f}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(e,s,r,o){this.eventType=e,this.eventRegistration=s,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+tt(this.snapshot.exportVal())}}class kO{constructor(e,s,r){this.eventRegistration=e,this.error=s,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,s){this.snapshotCallback=e,this.cancelCallback=s}onValue(e,s){this.snapshotCallback.call(null,e,s)}onCancel(e){return Y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,s,r,o){this._repo=e,this._path=s,this._queryParams=r,this._orderByCalled=o}get key(){return ve(this._path)?null:G0(this._path)}get ref(){return new Yn(this._repo,this._path)}get _queryIdentifier(){const e=Vy(this._queryParams),s=dh(e);return s==="{}"?"default":s}get _queryObject(){return Vy(this._queryParams)}isEqual(e){if(e=Et(e),!(e instanceof Hh))return!1;const s=this._repo===e._repo,r=Q0(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return s&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+xx(this._path)}}class Yn extends Hh{constructor(e,s){super(e,s,new vh,!1)}get parent(){const e=F0(this._path);return e===null?null:new Yn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Fr{constructor(e,s,r){this._node=e,this.ref=s,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const s=new ke(e),r=Qr(this.ref,e);return new Fr(this._node.getChild(s),r,Xe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new Fr(o,Qr(this.ref,r),Xe)))}hasChild(e){const s=new ke(e);return!this._node.getChild(s).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function cs(i,e){return i=Et(i),i._checkNotDeleted("ref"),e!==void 0?Qr(i._root,e):i._root}function Qr(i,e){return i=Et(i),be(i._path)===null?dO("child","path",e):Ob("child","path",e),new Yn(i._repo,nt(i._path,e))}function UO(i,e){i=Et(i),Uh("push",i._path),Ab("push",e,i._path,!0);const s=Ib(i._repo),r=IO(s),o=Qr(i,r),u=Qr(i,r);let f;return e!=null?f=uu(u,e).then(()=>u):f=Promise.resolve(u),o.then=f.then.bind(f),o.catch=f.then.bind(f,void 0),o}function Pb(i){return Uh("remove",i._path),uu(i,null)}function uu(i,e){i=Et(i),Uh("set",i._path),Ab("set",e,i._path,!1);const s=new hu;return TO(i._repo,i._path,e,null,s.wrapCallback(()=>{})),s.promise}function Hb(i){i=Et(i);const e=new LO(()=>{}),s=new Bh(e);return SO(i._repo,i,s).then(r=>new Fr(r,new Yn(i._repo,i._path),i._queryParams.getIndex()))}class Bh{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,s){const r=s._queryParams.getIndex();return new MO("value",this,new Fr(e.snapshotNode,new Yn(s._repo,s._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,s){return this.callbackContext.hasCancelCallback?new kO(this,e,s):null}matches(e){return e instanceof Bh?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}jA(Yn);VA(Yn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO="FIREBASE_DATABASE_EMULATOR_HOST",Ld={};let jO=!1;function PO(i,e,s,r){const o=e.lastIndexOf(":"),u=e.substring(0,o),f=pa(u);i.repoInfo_=new L0(e,f,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,s),r&&(i.authTokenProvider_=r)}function HO(i,e,s,r,o){let u=r||i.options.databaseURL;u===void 0&&(i.options.projectId||qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gt("Using default host for project ",i.options.projectId),u=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=sv(u,o),h=f.repoInfo,m;typeof process<"u"&&wy&&(m=wy[zO]),m?(u=`http://${m}?ns=${h.namespace}`,f=sv(u,o),h=f.repoInfo):f.repoInfo.secure;const p=new nx(i.name,i.options,e);hO("Invalid Firebase Database URL",f),ve(f.path)||qn("Database URL must point to the root of a Firebase Database (not including a child path).");const y=qO(h,i,p,new tx(i,s));return new VO(y,i)}function BO(i,e){const s=Ld[e];(!s||s[i.key]!==i)&&qn(`Database ${e}(${i.repoInfo_}) has already been deleted.`),wO(i),delete s[i.key]}function qO(i,e,s,r){let o=Ld[e.name];o||(o={},Ld[e.name]=o);let u=o[i.toURLString()];return u&&qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new vO(i,jO,s,r),o[i.toURLString()]=u,u}class VO{constructor(e,s){this._repoInternal=e,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(bO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yn(this._repo,we())),this._rootInternal}_delete(){return this._rootInternal!==null&&(BO(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&qn("Cannot call "+e+" on a deleted database.")}}function Xr(i=Pv(),e){const s=th(i,"database").getImmediate({identifier:e});if(!s._instanceStarted){const r=uC("database");r&&GO(s,...r)}return s}function GO(i,e,s,r={}){i=Et(i),i._checkNotDeleted("useEmulator");const o=`${e}:${s}`,u=i._repoInternal;if(i._instanceStarted){if(o===i._repoInternal.repoInfo_.host&&ss(r,u.repoInfo_.emulatorOptions))return;qn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)r.mockUserToken&&qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new jo(jo.OWNER);else if(r.mockUserToken){const h=typeof r.mockUserToken=="string"?r.mockUserToken:cC(r.mockUserToken,i.app.options.projectId);f=new jo(h)}pa(e)&&(Iv(e),Mv("Database",!0)),PO(u,o,r,f)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(i){PN(_a),oa(new as("database",(e,{instanceIdentifier:s})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return HO(r,o,u,s)},"PUBLIC").setMultipleInstances(!0)),Ti(Ry,Ny,i),Ti(Ry,Ny,"esm2017")}jn.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};jn.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};YO();const FO={apiKey:"AIzaSyAvMQ_PC-gJBDDwjVTEY0Dimp_Jl-1KlbM",authDomain:"expense-tracker-mvp-87783.firebaseapp.com",databaseURL:"https://expense-tracker-mvp-87783-default-rtdb.firebaseio.com",projectId:"expense-tracker-mvp-87783",storageBucket:"expense-tracker-mvp-87783.firebasestorage.app",messagingSenderId:"414131843354",appId:"1:414131843354:web:3de94de861b1e15da93ca3"},Bb=jv(FO),Ud=Xr(Bb),fs=Wo(Bb),QO=new Mn;function XO(){const i=fu(),[e,s]=x.useState(""),[r,o]=x.useState(""),[u,f]=x.useState(""),h=async y=>{try{await(await initDatabase()).users.upsert(y)}catch(b){console.error("RxDB Save Error:",b)}},m=async y=>{y.preventDefault();try{const v=(await vR(fs)).user,N={uid:v.uid,businessName:e,contact:r,method:"manual",loginTime:new Date().toISOString()};await uu(cs(Ud,`users/${v.uid}`),{...N,createdAt:new Date().toISOString()}),await h(N),i("/dashboard")}catch(b){console.error("Manual Sign-In Error:",b),f("Manual sign-in failed. Please try again.")}},p=async()=>{try{const b=(await YR(fs,QO)).user,v={uid:b.uid,businessName:b.displayName||"",contact:b.email||"",method:"google",loginTime:new Date().toISOString()};await uu(cs(Ud,`users/${b.uid}`),{...v,createdAt:new Date().toISOString()}),await h(v),i("/dashboard")}catch(y){console.error("Google Sign-In Error:",y),f("Unable to sign in with Google. Please try again.")}};return S.jsx("div",{className:"d-flex justify-content-center align-items-center vh-100 bg-light",children:S.jsxs("div",{className:"card p-4 shadow",style:{width:"21rem",minHeight:"26rem"},children:[S.jsx("h5",{className:"mb-4 pb-2 fs-4 border-bottom fw-bold",children:"Enter Business Info"}),u&&S.jsx("div",{className:"alert alert-danger fw-semibold small text-center",children:u}),S.jsxs("form",{onSubmit:m,children:[S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"form-label fw-semibold",children:"Business Name"}),S.jsx("input",{type:"text",className:"form-control",required:!0,value:e,onChange:y=>s(y.target.value)})]}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"form-label fw-semibold",children:"Email or Phone Number"}),S.jsx("input",{type:"text",className:"form-control",required:!0,value:r,onChange:y=>o(y.target.value)})]}),S.jsx("button",{type:"submit",className:"btn btn-primary fw-semibold w-100 mb-3",children:"Continue"})]}),S.jsxs("button",{className:"btn btn-light border d-flex align-items-center justify-content-center gap-2 w-100",onClick:p,children:[S.jsx("img",{src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google",width:"20",height:"20"}),S.jsx("span",{className:"fw-semibold",children:"Sign in with Google"})]})]})})}function qb(i){var e,s,r="";if(typeof i=="string"||typeof i=="number")r+=i;else if(typeof i=="object")if(Array.isArray(i)){var o=i.length;for(e=0;e<o;e++)i[e]&&(s=qb(i[e]))&&(r&&(r+=" "),r+=s)}else for(s in i)i[s]&&(r&&(r+=" "),r+=s);return r}function is(){for(var i,e,s=0,r="",o=arguments.length;s<o;s++)(i=arguments[s])&&(e=qb(i))&&(r&&(r+=" "),r+=e);return r}function KO(i){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e.firstChild?e.insertBefore(s,e.firstChild):e.appendChild(s),s.styleSheet?s.styleSheet.cssText=i:s.appendChild(document.createTextNode(i))}KO(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var ul=i=>typeof i=="number"&&!isNaN(i),ds=i=>typeof i=="string",Vn=i=>typeof i=="function",WO=i=>ds(i)||ul(i),zd=i=>ds(i)||Vn(i)?i:null,$O=(i,e)=>i===!1||ul(i)&&i>0?i:e,jd=i=>x.isValidElement(i)||ds(i)||Vn(i)||ul(i);function ZO(i,e,s=300){let{scrollHeight:r,style:o}=i;requestAnimationFrame(()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${s}ms`,requestAnimationFrame(()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(e,s)})})}function JO({enter:i,exit:e,appendPosition:s=!1,collapse:r=!0,collapseDuration:o=300}){return function({children:u,position:f,preventExitTransition:h,done:m,nodeRef:p,isIn:y,playToast:b}){let v=s?`${i}--${f}`:i,N=s?`${e}--${f}`:e,w=x.useRef(0);return x.useLayoutEffect(()=>{let I=p.current,U=v.split(" "),A=L=>{L.target===p.current&&(b(),I.removeEventListener("animationend",A),I.removeEventListener("animationcancel",A),w.current===0&&L.type!=="animationcancel"&&I.classList.remove(...U))};I.classList.add(...U),I.addEventListener("animationend",A),I.addEventListener("animationcancel",A)},[]),x.useEffect(()=>{let I=p.current,U=()=>{I.removeEventListener("animationend",U),r?ZO(I,m,o):m()};y||(h?U():(w.current=1,I.className+=` ${N}`,I.addEventListener("animationend",U)))},[y]),je.createElement(je.Fragment,null,u)}}function rv(i,e){return{content:Vb(i.content,i.props),containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,reason:i.removalReason,status:e}}function Vb(i,e,s=!1){return x.isValidElement(i)&&!ds(i.type)?x.cloneElement(i,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:s}):Vn(i)?i({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:s}):i}function eD({closeToast:i,theme:e,ariaLabel:s="close"}){return je.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),i(!0)},"aria-label":s},je.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},je.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function tD({delay:i,isRunning:e,closeToast:s,type:r="default",hide:o,className:u,controlledProgress:f,progress:h,rtl:m,isIn:p,theme:y}){let b=o||f&&h===0,v={animationDuration:`${i}ms`,animationPlayState:e?"running":"paused"};f&&(v.transform=`scaleX(${h})`);let N=is("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${y}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":m}),w=Vn(u)?u({rtl:m,type:r,defaultClassName:N}):is(N,u),I={[f&&h>=1?"onTransitionEnd":"onAnimationEnd"]:f&&h<1?null:()=>{p&&s()}};return je.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":b},je.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${y} Toastify__progress-bar--${r}`}),je.createElement("div",{role:"progressbar","aria-hidden":b?"true":"false","aria-label":"notification timer",className:w,style:v,...I}))}var nD=1,Gb=()=>`${nD++}`;function iD(i,e,s){let r=1,o=0,u=[],f=[],h=e,m=new Map,p=new Set,y=L=>(p.add(L),()=>p.delete(L)),b=()=>{f=Array.from(m.values()),p.forEach(L=>L())},v=({containerId:L,toastId:P,updateId:V})=>{let F=L?L!==i:i!==1,ne=m.has(P)&&V==null;return F||ne},N=(L,P)=>{m.forEach(V=>{var F;(P==null||P===V.props.toastId)&&((F=V.toggle)==null||F.call(V,L))})},w=L=>{var P,V;(V=(P=L.props)==null?void 0:P.onClose)==null||V.call(P,L.removalReason),L.isActive=!1},I=L=>{if(L==null)m.forEach(w);else{let P=m.get(L);P&&w(P)}b()},U=()=>{o-=u.length,u=[]},A=L=>{var P,V;let{toastId:F,updateId:ne}=L.props,$=ne==null;L.staleId&&m.delete(L.staleId),L.isActive=!0,m.set(F,L),b(),s(rv(L,$?"added":"updated")),$&&((V=(P=L.props).onOpen)==null||V.call(P))};return{id:i,props:h,observe:y,toggle:N,removeToast:I,toasts:m,clearQueue:U,buildToast:(L,P)=>{if(v(P))return;let{toastId:V,updateId:F,data:ne,staleId:$,delay:G}=P,X=F==null;X&&o++;let J={...h,style:h.toastStyle,key:r++,...Object.fromEntries(Object.entries(P).filter(([he,Ge])=>Ge!=null)),toastId:V,updateId:F,data:ne,isIn:!1,className:zd(P.className||h.toastClassName),progressClassName:zd(P.progressClassName||h.progressClassName),autoClose:P.isLoading?!1:$O(P.autoClose,h.autoClose),closeToast(he){m.get(V).removalReason=he,I(V)},deleteToast(){let he=m.get(V);if(he!=null){if(s(rv(he,"removed")),m.delete(V),o--,o<0&&(o=0),u.length>0){A(u.shift());return}b()}}};J.closeButton=h.closeButton,P.closeButton===!1||jd(P.closeButton)?J.closeButton=P.closeButton:P.closeButton===!0&&(J.closeButton=jd(h.closeButton)?h.closeButton:!0);let ce={content:L,props:J,staleId:$};h.limit&&h.limit>0&&o>h.limit&&X?u.push(ce):ul(G)?setTimeout(()=>{A(ce)},G):A(ce)},setProps(L){h=L},setToggle:(L,P)=>{let V=m.get(L);V&&(V.toggle=P)},isToastActive:L=>{var P;return(P=m.get(L))==null?void 0:P.isActive},getSnapshot:()=>f}}var vt=new Map,Kr=[],Pd=new Set,sD=i=>Pd.forEach(e=>e(i)),Yb=()=>vt.size>0;function aD(){Kr.forEach(i=>Qb(i.content,i.options)),Kr=[]}var rD=(i,{containerId:e})=>{var s;return(s=vt.get(e||1))==null?void 0:s.toasts.get(i)};function Fb(i,e){var s;if(e)return!!((s=vt.get(e))!=null&&s.isToastActive(i));let r=!1;return vt.forEach(o=>{o.isToastActive(i)&&(r=!0)}),r}function lD(i){if(!Yb()){Kr=Kr.filter(e=>i!=null&&e.options.toastId!==i);return}if(i==null||WO(i))vt.forEach(e=>{e.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){let e=vt.get(i.containerId);e?e.removeToast(i.id):vt.forEach(s=>{s.removeToast(i.id)})}}var oD=(i={})=>{vt.forEach(e=>{e.props.limit&&(!i.containerId||e.id===i.containerId)&&e.clearQueue()})};function Qb(i,e){jd(i)&&(Yb()||Kr.push({content:i,options:e}),vt.forEach(s=>{s.buildToast(i,e)}))}function uD(i){var e;(e=vt.get(i.containerId||1))==null||e.setToggle(i.id,i.fn)}function Xb(i,e){vt.forEach(s=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===s.id)&&s.toggle(i,e==null?void 0:e.id)})}function cD(i){let e=i.containerId||1;return{subscribe(s){let r=iD(e,i,sD);vt.set(e,r);let o=r.observe(s);return aD(),()=>{o(),vt.delete(e)}},setProps(s){var r;(r=vt.get(e))==null||r.setProps(s)},getSnapshot(){var s;return(s=vt.get(e))==null?void 0:s.getSnapshot()}}}function fD(i){return Pd.add(i),()=>{Pd.delete(i)}}function dD(i){return i&&(ds(i.toastId)||ul(i.toastId))?i.toastId:Gb()}function cl(i,e){return Qb(i,e),e.toastId}function Nu(i,e){return{...e,type:e&&e.type||i,toastId:dD(e)}}function xu(i){return(e,s)=>cl(e,Nu(i,s))}function ue(i,e){return cl(i,Nu("default",e))}ue.loading=(i,e)=>cl(i,Nu("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function hD(i,{pending:e,error:s,success:r},o){let u;e&&(u=ds(e)?ue.loading(e,o):ue.loading(e.render,{...o,...e}));let f={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},h=(p,y,b)=>{if(y==null){ue.dismiss(u);return}let v={type:p,...f,...o,data:b},N=ds(y)?{render:y}:y;return u?ue.update(u,{...v,...N}):ue(N.render,{...v,...N}),b},m=Vn(i)?i():i;return m.then(p=>h("success",r,p)).catch(p=>h("error",s,p)),m}ue.promise=hD;ue.success=xu("success");ue.info=xu("info");ue.error=xu("error");ue.warning=xu("warning");ue.warn=ue.warning;ue.dark=(i,e)=>cl(i,Nu("default",{theme:"dark",...e}));function mD(i){lD(i)}ue.dismiss=mD;ue.clearWaitingQueue=oD;ue.isActive=Fb;ue.update=(i,e={})=>{let s=rD(i,e);if(s){let{props:r,content:o}=s,u={delay:100,...r,...e,toastId:e.toastId||i,updateId:Gb()};u.toastId!==i&&(u.staleId=i);let f=u.render||o;delete u.render,cl(f,u)}};ue.done=i=>{ue.update(i,{progress:1})};ue.onChange=fD;ue.play=i=>Xb(!0,i);ue.pause=i=>Xb(!1,i);function pD(i){var e;let{subscribe:s,getSnapshot:r,setProps:o}=x.useRef(cD(i)).current;o(i);let u=(e=x.useSyncExternalStore(s,r,r))==null?void 0:e.slice();function f(h){if(!u)return[];let m=new Map;return i.newestOnTop&&u.reverse(),u.forEach(p=>{let{position:y}=p.props;m.has(y)||m.set(y,[]),m.get(y).push(p)}),Array.from(m,p=>h(p[0],p[1]))}return{getToastToRender:f,isToastActive:Fb,count:u==null?void 0:u.length}}function gD(i){let[e,s]=x.useState(!1),[r,o]=x.useState(!1),u=x.useRef(null),f=x.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:m,closeToast:p,onClick:y,closeOnClick:b}=i;uD({id:i.toastId,containerId:i.containerId,fn:s}),x.useEffect(()=>{if(i.pauseOnFocusLoss)return v(),()=>{N()}},[i.pauseOnFocusLoss]);function v(){document.hasFocus()||A(),window.addEventListener("focus",U),window.addEventListener("blur",A)}function N(){window.removeEventListener("focus",U),window.removeEventListener("blur",A)}function w($){if(i.draggable===!0||i.draggable===$.pointerType){L();let G=u.current;f.canCloseOnClick=!0,f.canDrag=!0,G.style.transition="none",i.draggableDirection==="x"?(f.start=$.clientX,f.removalDistance=G.offsetWidth*(i.draggablePercent/100)):(f.start=$.clientY,f.removalDistance=G.offsetHeight*(i.draggablePercent===80?i.draggablePercent*1.5:i.draggablePercent)/100)}}function I($){let{top:G,bottom:X,left:J,right:ce}=u.current.getBoundingClientRect();$.nativeEvent.type!=="touchend"&&i.pauseOnHover&&$.clientX>=J&&$.clientX<=ce&&$.clientY>=G&&$.clientY<=X?A():U()}function U(){s(!0)}function A(){s(!1)}function L(){f.didMove=!1,document.addEventListener("pointermove",V),document.addEventListener("pointerup",F)}function P(){document.removeEventListener("pointermove",V),document.removeEventListener("pointerup",F)}function V($){let G=u.current;if(f.canDrag&&G){f.didMove=!0,e&&A(),i.draggableDirection==="x"?f.delta=$.clientX-f.start:f.delta=$.clientY-f.start,f.start!==$.clientX&&(f.canCloseOnClick=!1);let X=i.draggableDirection==="x"?`${f.delta}px, var(--y)`:`0, calc(${f.delta}px + var(--y))`;G.style.transform=`translate3d(${X},0)`,G.style.opacity=`${1-Math.abs(f.delta/f.removalDistance)}`}}function F(){P();let $=u.current;if(f.canDrag&&f.didMove&&$){if(f.canDrag=!1,Math.abs(f.delta)>f.removalDistance){o(!0),i.closeToast(!0),i.collapseAll();return}$.style.transition="transform 0.2s, opacity 0.2s",$.style.removeProperty("transform"),$.style.removeProperty("opacity")}}let ne={onPointerDown:w,onPointerUp:I};return h&&m&&(ne.onMouseEnter=A,i.stacked||(ne.onMouseLeave=U)),b&&(ne.onClick=$=>{y&&y($),f.canCloseOnClick&&p(!0)}),{playToast:U,pauseToast:A,isRunning:e,preventExitTransition:r,toastRef:u,eventHandlers:ne}}var _D=typeof window<"u"?x.useLayoutEffect:x.useEffect,Au=({theme:i,type:e,isLoading:s,...r})=>je.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function yD(i){return je.createElement(Au,{...i},je.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function vD(i){return je.createElement(Au,{...i},je.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function bD(i){return je.createElement(Au,{...i},je.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ED(i){return je.createElement(Au,{...i},je.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function SD(){return je.createElement("div",{className:"Toastify__spinner"})}var Hd={info:vD,warning:yD,success:bD,error:ED,spinner:SD},TD=i=>i in Hd;function CD({theme:i,type:e,isLoading:s,icon:r}){let o=null,u={theme:i,type:e};return r===!1||(Vn(r)?o=r({...u,isLoading:s}):x.isValidElement(r)?o=x.cloneElement(r,u):s?o=Hd.spinner():TD(e)&&(o=Hd[e](u))),o}var wD=i=>{let{isRunning:e,preventExitTransition:s,toastRef:r,eventHandlers:o,playToast:u}=gD(i),{closeButton:f,children:h,autoClose:m,onClick:p,type:y,hideProgressBar:b,closeToast:v,transition:N,position:w,className:I,style:U,progressClassName:A,updateId:L,role:P,progress:V,rtl:F,toastId:ne,deleteToast:$,isIn:G,isLoading:X,closeOnClick:J,theme:ce,ariaLabel:he}=i,Ge=is("Toastify__toast",`Toastify__toast-theme--${ce}`,`Toastify__toast--${y}`,{"Toastify__toast--rtl":F},{"Toastify__toast--close-on-click":J}),Ye=Vn(I)?I({rtl:F,position:w,type:y,defaultClassName:Ge}):is(Ge,I),qe=CD(i),z=!!V||!m,Q={closeToast:v,type:y,theme:ce},ee=null;return f===!1||(Vn(f)?ee=f(Q):x.isValidElement(f)?ee=x.cloneElement(f,Q):ee=eD(Q)),je.createElement(N,{isIn:G,done:$,position:w,preventExitTransition:s,nodeRef:r,playToast:u},je.createElement("div",{id:ne,tabIndex:0,onClick:p,"data-in":G,className:Ye,...o,style:U,ref:r,...G&&{role:P,"aria-label":he}},qe!=null&&je.createElement("div",{className:is("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!X})},qe),Vb(h,i,!e),ee,!i.customProgressBar&&je.createElement(tD,{...L&&!z?{key:`p-${L}`}:{},rtl:F,theme:ce,delay:m,isRunning:e,isIn:G,closeToast:v,hide:b,type:y,className:A,controlledProgress:z,progress:V||0})))},RD=(i,e=!1)=>({enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:e}),ND=JO(RD("bounce",!0)),xD={position:"top-right",transition:ND,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:i=>i.altKey&&i.code==="KeyT"};function AD(i){let e={...xD,...i},s=i.stacked,[r,o]=x.useState(!0),u=x.useRef(null),{getToastToRender:f,isToastActive:h,count:m}=pD(e),{className:p,style:y,rtl:b,containerId:v,hotKeys:N}=e;function w(U){let A=is("Toastify__toast-container",`Toastify__toast-container--${U}`,{"Toastify__toast-container--rtl":b});return Vn(p)?p({position:U,rtl:b,defaultClassName:A}):is(A,zd(p))}function I(){s&&(o(!0),ue.play())}return _D(()=>{var U;if(s){let A=u.current.querySelectorAll('[data-in="true"]'),L=12,P=(U=e.position)==null?void 0:U.includes("top"),V=0,F=0;Array.from(A).reverse().forEach((ne,$)=>{let G=ne;G.classList.add("Toastify__toast--stacked"),$>0&&(G.dataset.collapsed=`${r}`),G.dataset.pos||(G.dataset.pos=P?"top":"bot");let X=V*(r?.2:1)+(r?0:L*$);G.style.setProperty("--y",`${P?X:X*-1}px`),G.style.setProperty("--g",`${L}`),G.style.setProperty("--s",`${1-(r?F:0)}`),V+=G.offsetHeight,F+=.025})}},[r,m,s]),x.useEffect(()=>{function U(A){var L;let P=u.current;N(A)&&((L=P.querySelector('[tabIndex="0"]'))==null||L.focus(),o(!1),ue.pause()),A.key==="Escape"&&(document.activeElement===P||P!=null&&P.contains(document.activeElement))&&(o(!0),ue.play())}return document.addEventListener("keydown",U),()=>{document.removeEventListener("keydown",U)}},[N]),je.createElement("section",{ref:u,className:"Toastify",id:v,onMouseEnter:()=>{s&&(o(!1),ue.pause())},onMouseLeave:I,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},f((U,A)=>{let L=A.length?{...y}:{...y,pointerEvents:"none"};return je.createElement("div",{tabIndex:-1,className:w(U),"data-stacked":s,style:L,key:`c-${U}`},A.map(({content:P,props:V})=>je.createElement(wD,{...V,stacked:s,collapseAll:I,isIn:h(V.toastId,V.containerId),key:`t-${V.key}`},P)))}))}function qh(){const i=fu(),e=()=>{const s=ue.warning(S.jsxs("div",{children:["Are you sure you want to log out?",S.jsxs("div",{className:"mt-2 d-flex justify-content-end gap-2",children:[S.jsx("button",{className:"btn btn-sm btn-danger",onClick:async()=>{ue.dismiss(s);try{await wR(fs),ue.success("Logged out successfully."),i("/")}catch(r){console.error("Logout Error:",r),ue.error("Failed to log out. Please try again.")}},children:"Yes, Logout"}),S.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>ue.dismiss(s),children:"Cancel"})]})]}),{autoClose:!1,closeOnClick:!1,closeButton:!1})};return S.jsxs("div",{className:"nav-card d-flex flex-wrap justify-content-between align-items-center px-2 py-2",children:[S.jsxs("div",{className:"nav-btn-group flex-grow-1 me-2",children:[S.jsx(Mo,{to:"/dashboard",className:({isActive:s})=>`nav-btn ${s?"active":""}`,children:"Record"}),S.jsx(Mo,{to:"/expenses",className:({isActive:s})=>`nav-btn ${s?"active":""}`,children:"Expenses"}),S.jsx(Mo,{to:"/sales",className:({isActive:s})=>`nav-btn ${s?"active":""}`,children:"Sales"})]}),S.jsx("button",{className:"logout-btn",onClick:e,children:"Logout"})]})}function OD({type:i,setType:e}){return S.jsxs("div",{className:"record-toggle",children:[S.jsx("h4",{className:"fw-bold text-center mb-4",children:"Record Expense or Sale"}),S.jsxs("div",{className:"toggle-buttons",children:[S.jsx("button",{className:`toggle-btn expense ${i==="Expense"?"active":""}`,onClick:()=>e("Expense"),children:"Expense"}),S.jsx("button",{className:`toggle-btn sale ${i==="Sale"?"active":""}`,onClick:()=>e("Sale"),children:"Sale"})]})]})}const Di={symbol:"₦"};function DD({recordType:i="Expense"}){const[e,s]=x.useState([{name:"",quantity:"",price:"",note:"",supplier:""}]),r=()=>new Date().toISOString().slice(0,10),[o,u]=x.useState(r);x.useEffect(()=>{o||u(r())},[o]);const[f,h]=x.useState(!1),[m,p]=x.useState([]),[y,b]=x.useState(!1),[v,N]=x.useState({name:"",location:"",contact:""}),[w,I]=x.useState(null),U=i==="Sale",A=U?"Customer":"Supplier";x.useEffect(()=>{const G=U?"customers":"suppliers",X=localStorage.getItem(G);p(X?JSON.parse(X):[])},[i]);const L=()=>{s([...e,{name:"",quantity:"",price:"",note:"",supplier:""}])},P=G=>{s(e.filter((X,J)=>J!==G))},V=(G,X,J)=>{const ce=[...e];ce[G][X]=J,s(ce)},F=(G,X)=>{X==="custom"?(I(G),b(!0)):V(G,"supplier",X)},ne=async()=>{const G=[];if(o||G.push("Date"),e.forEach((J,ce)=>{J.name||G.push(`Item Name (Item ${ce+1})`),J.quantity||G.push(`Quantity (Item ${ce+1})`),J.price||G.push(`Price (Item ${ce+1})`),J.supplier||G.push(`${A} (Item ${ce+1})`)}),G.length>0){ue.error(`Please fill in: ${G.join(", ")}`);return}const X=fs.currentUser;if(!X){ue.error("You must be logged in to save records.");return}try{h(!0);const J=cs(Ud,U?`sales/${X.uid}`:`expenses/${X.uid}`),ce=e.map(he=>{const Ge=m.find(Ye=>Ye.name===he.supplier);return UO(J,{...he,supplierInfo:Ge||{},date:o,createdAt:new Date().toISOString(),userId:X.uid})});await Promise.all(ce),ue.success(`${e.length} ${i.toLowerCase()} item${e.length>1?"s":""} saved successfully.`),s([{name:"",quantity:"",price:"",note:"",supplier:""}]),u("")}catch(J){console.error(`${i} Save Error:`,J),ue.error(`Failed to save ${i.toLowerCase()} items. Try again.`)}finally{h(!1)}},$=e.reduce((G,X)=>{const J=parseFloat(X.quantity)||0,ce=parseFloat(X.price)||0;return G+J*ce},0).toFixed(2);return S.jsxs("div",{className:"container my-4",children:[e.map((G,X)=>S.jsxs("div",{className:"card p-3 mb-4 shadow-sm position-relative",children:[e.length>1&&S.jsx("button",{className:"btn btn-sm btn-outline-danger position-absolute top-0 end-0 m-2",onClick:()=>P(X),"aria-label":"Delete item",title:"Remove item",children:S.jsx("i",{className:"bi bi-trash"})}),S.jsxs("h5",{className:"text-primary mb-3 form-title",children:["Item ",X+1]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"form-label fw-semibold",children:"Item Details"}),S.jsxs("div",{className:"row",children:[S.jsxs("div",{className:"col-md-6 mb-2",children:[S.jsx("label",{className:"form-label",children:"Item Name"}),S.jsx("input",{type:"text",className:"form-control",placeholder:"e.g. Office supplies",value:G.name,onChange:J=>V(X,"name",J.target.value)})]}),S.jsxs("div",{className:"col-md-3 mb-2",children:[S.jsx("label",{className:"form-label",children:"Quantity"}),S.jsx("input",{type:"number",className:"form-control",placeholder:"0",value:G.quantity,onChange:J=>V(X,"quantity",J.target.value)})]}),S.jsxs("div",{className:"col-md-3 mb-2 d-flex flex-column",children:[S.jsx("label",{className:"form-label",children:"Unit Price"}),S.jsx("input",{type:"number",className:"form-control",placeholder:"0.00",value:G.price,onChange:J=>V(X,"price",J.target.value)}),S.jsx("small",{className:"text-muted",children:"per item"})]})]})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"form-label fw-semibold",children:"Note (Optional)"}),S.jsx("input",{type:"text",className:"form-control",placeholder:"e.g. Pens and notebooks for team",value:G.note,onChange:J=>V(X,"note",J.target.value)}),S.jsxs("div",{className:"mt-2 text-end text-muted fw-semibold",children:["Total: ",Di.symbol,Number((parseFloat(G.quantity||0)*parseFloat(G.price||0)).toFixed(2)).toLocaleString()]})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"form-label",children:A}),S.jsxs("select",{className:"form-select",value:G.supplier||"",onChange:J=>F(X,J.target.value),children:[S.jsx("option",{value:"",children:" Select or Add New "}),m.map((J,ce)=>S.jsx("option",{value:J.name,children:J.name},ce)),S.jsxs("option",{value:"custom",children:["+ Add new ",A.toLowerCase()]})]})]})]},X)),S.jsx("div",{className:"text-center mb-4 add-item-cont",children:S.jsx("button",{className:"btn btn-outline-primary add-item",onClick:L,children:"+ Add Another Item"})}),S.jsxs("div",{className:"mb-4",children:[S.jsx("label",{className:"form-label fw-semibold",children:"Date"}),S.jsx("input",{type:"date",className:"form-control",value:o,onChange:G=>u(G.target.value)})]}),S.jsxs("div",{className:"rounded-4 text-white text-center p-4 mb-4 total-box",children:[S.jsx("p",{className:"mb-1",children:"Total Amount"}),S.jsxs("h2",{className:"fw-bold",children:[Di.symbol,Number($).toLocaleString()]})]}),S.jsx("div",{className:"text-center",children:S.jsx("button",{className:"btn btn-primary w-100 py-2 fw-semibold save-record-btn",onClick:ne,disabled:f,children:f?"Saving...":"Save Record"})}),y&&S.jsx("div",{className:"modal show fade d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:S.jsx("div",{className:"modal-dialog modal-dialog-centered",children:S.jsxs("div",{className:"modal-content p-4 rounded-3 shadow",children:[S.jsxs("h5",{className:"modal-title mb-3",children:["Add New ",A]}),S.jsxs("div",{className:"mb-2",children:[S.jsx("label",{className:"form-label",children:"Name"}),S.jsx("input",{type:"text",className:"form-control",value:v.name,onChange:G=>N({...v,name:G.target.value})})]}),S.jsxs("div",{className:"mb-2",children:[S.jsx("label",{className:"form-label",children:"Location (optional)"}),S.jsx("input",{type:"text",className:"form-control",value:v.location,onChange:G=>N({...v,location:G.target.value})})]}),S.jsxs("div",{className:"mb-3",children:[S.jsx("label",{className:"form-label",children:"Contact (email/phone)"}),S.jsx("input",{type:"text",className:"form-control",value:v.contact,onChange:G=>N({...v,contact:G.target.value})})]}),S.jsxs("div",{className:"d-flex justify-content-end gap-2",children:[S.jsx("button",{className:"btn btn-secondary",onClick:()=>b(!1),children:"Cancel"}),S.jsxs("button",{className:"btn btn-primary",onClick:()=>{if(!v.name.trim()){ue.error(`${A} name is required`);return}const G=[...m,v],X=U?"customers":"suppliers";p(G),localStorage.setItem(X,JSON.stringify(G)),V(w,"supplier",v.name),N({name:"",location:"",contact:""}),b(!1)},children:["Add ",A]})]})]})})})]})}function ID(){const[i,e]=x.useState(localStorage.getItem("recordType")||"Expense");return x.useEffect(()=>{localStorage.setItem("recordType",i)},[i]),S.jsxs(S.Fragment,{children:[S.jsx(qh,{}),S.jsx("div",{className:"container d-flex justify-content-center my-4",children:S.jsxs("div",{className:"card shadow p-4",style:{width:"100%",maxWidth:"600px"},children:[S.jsx(OD,{type:i,setType:e}),S.jsx(DD,{recordType:i})]})})]})}function Kb({show:i,onClose:e,entry:s,title:r="Details",type:o="expense"}){if(!i||!s)return null;const u=o==="sale"?"Customer":"Supplier",f=parseFloat(s.quantity)||0,h=parseFloat(s.price)||0,m=(f*h).toFixed(2),p=s.supplierInfo||{};return S.jsx("div",{className:"modal show fade d-block",tabIndex:"-1",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:S.jsx("div",{className:"modal-dialog modal-dialog-centered",children:S.jsxs("div",{className:"modal-content shadow-sm rounded-4",children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h5",{className:"modal-title fw-bold",children:r}),S.jsx("button",{type:"button",className:"btn-close",onClick:e})]}),S.jsxs("div",{className:"modal-body",children:[S.jsxs("p",{children:[S.jsx("strong",{children:"Item Name:"})," ",s.name]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Quantity:"})," ",s.quantity]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Unit Price:"})," ",Di.symbol,h]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Total Amount:"})," ",S.jsxs("span",{className:"text-success",children:[Di.symbol,m]})]}),S.jsxs("p",{children:[S.jsx("strong",{children:"Date:"})," ",new Date(s.date).toDateString()]}),S.jsxs("p",{children:[S.jsxs("strong",{children:[u," Name:"]})," ",p.name||s.supplier]}),p.location&&S.jsxs("p",{children:[S.jsxs("strong",{children:[u," Location:"]})," ",p.location]}),p.contact&&S.jsxs("p",{children:[S.jsxs("strong",{children:[u," Contact:"]})," ",p.contact]}),s.note&&S.jsxs("p",{children:[S.jsx("strong",{children:"Note:"})," ",s.note]})]}),S.jsx("div",{className:"modal-footer",children:S.jsx("button",{className:"btn btn-secondary",onClick:e,children:"Close"})})]})})})}const Wb="todays_expenses",MD=()=>{const i=localStorage.getItem(Wb);if(!i)return null;try{const e=JSON.parse(i),s=new Date().toDateString();if(e.date===s)return e.expenses}catch{return null}return null},lv=i=>{const s={date:new Date().toDateString(),expenses:i};localStorage.setItem(Wb,JSON.stringify(s))};function kD(){const[i,e]=x.useState([]),[s,r]=x.useState(""),[o,u]=x.useState("Today"),[f,h]=x.useState(""),[m,p]=x.useState(""),[y,b]=x.useState(!1),[v,N]=x.useState(null);x.useEffect(()=>{(async()=>{const L=fs.currentUser;if(!L)return;const P=MD();if(o==="Today"&&!s&&P){e(P);return}const V=Xr(),F=cs(V,`expenses/${L.uid}`),$=(await Hb(F)).val();if($){const G=Object.entries($).map(([ce,he])=>({...he,id:ce})),X=new Date,J=G.filter(ce=>{var ee,Se;const he=new Date(ce.date),Ge=he.toDateString()===X.toDateString(),Ye=X-he<=7*24*60*60*1e3,qe=he.getMonth()===X.getMonth()&&he.getFullYear()===X.getFullYear(),z=o==="All Time"||o==="Today"&&Ge||o==="This Week"&&Ye||o==="This Month"&&qe||o==="Custom Date Range"&&f&&m&&he>=new Date(f)&&he<=new Date(m),Q=((ee=ce.name)==null?void 0:ee.toLowerCase().includes(s.toLowerCase()))||((Se=ce.supplier)==null?void 0:Se.toLowerCase().includes(s.toLowerCase()));return z&&Q});e(J),o==="Today"&&!s&&lv(J)}else e([])})()},[o,s,f,m]);const w=i.reduce((A,L)=>{const P=parseFloat(L.quantity)||0,V=parseFloat(L.price)||0;return A+P*V},0).toFixed(2),I=async A=>{const L=ue.warning(S.jsxs("div",{children:["Are you sure you want to delete this expense?",S.jsxs("div",{className:"mt-2 d-flex justify-content-end gap-2",children:[S.jsx("button",{className:"btn btn-sm btn-danger",onClick:async()=>{ue.dismiss(L);const P=fs.currentUser;if(!P)return;const V=Xr(),F=cs(V,`expenses/${P.uid}/${A}`);await Pb(F);const ne=i.filter($=>$.id!==A);e(ne),ue.success("Expense entry deleted successfully."),o==="Today"&&!s&&lv(ne)},children:"Yes, Delete"}),S.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>ue.dismiss(L),children:"Cancel"})]})]}),{autoClose:!1,closeOnClick:!1,closeButton:!1})},U=A=>{N(A),b(!0)};return S.jsxs(S.Fragment,{children:[S.jsx(qh,{}),S.jsx("div",{className:"container d-flex justify-content-center my-4",children:S.jsxs("div",{className:"card shadow p-4",style:{width:"100%",maxWidth:"600px"},children:[S.jsx("h3",{className:"fw-bold text-center mb-4",children:"My Expenses"}),S.jsxs("div",{className:"rounded-4 text-white text-center p-4 mb-4",style:{background:"linear-gradient(to right, rgb(230, 48, 48), rgb(245, 116, 116))",borderRadius:"1.5rem",boxShadow:"0 3px 10px rgba(140, 17, 17, 0.69)"},children:[S.jsx("p",{className:"mb-1",children:"Total Expenses"}),S.jsxs("h2",{className:"fw-bold",children:[Di.symbol,Number(w).toLocaleString(void 0,{minimumFractionDigits:2})]}),S.jsx("small",{className:"text-white-70 fw-semibold",children:o==="All Time"?"All Time":o})]}),S.jsxs("div",{className:"mb-3",children:[S.jsxs("select",{className:"form-select mb-2",value:o,onChange:A=>u(A.target.value),children:[S.jsx("option",{children:"Today"}),S.jsx("option",{children:"This Week"}),S.jsx("option",{children:"This Month"}),S.jsx("option",{children:"All Time"}),S.jsx("option",{children:"Custom Date Range"})]}),o==="Custom Date Range"&&S.jsxs("div",{className:"mb-2 d-flex gap-2",children:[S.jsx("input",{type:"date",className:"form-control",value:f,onChange:A=>h(A.target.value)}),S.jsx("input",{type:"date",className:"form-control",value:m,onChange:A=>p(A.target.value)})]}),S.jsx("input",{type:"text",className:"form-control",placeholder:"Search by item or supplier...",value:s,onChange:A=>r(A.target.value)})]}),S.jsxs("div",{className:"mt-4",children:[S.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[S.jsx("h6",{className:"fw-bold mb-0",children:"Expense Entries"}),S.jsxs("span",{className:"badge bg-light text-dark",children:[i.length," ",i.length===1?"Entry":"Entries"]})]}),i.length===0&&S.jsx("p",{className:"text-muted",children:"No expenses to show."}),i.map(A=>{const L=(parseFloat(A.quantity)||0)*(parseFloat(A.price)||0);return S.jsxs("div",{className:"p-3 mb-3 bg-white rounded shadow-sm border",children:[S.jsxs("div",{className:"d-flex justify-content-between",children:[S.jsxs("div",{children:[S.jsx("strong",{className:"mb-1 d-block",children:A.name||"Unnamed Item"}),S.jsxs("div",{className:"text-muted small mb-2",children:["Supplier: ",A.supplier||"Unknown"]})]}),S.jsxs("div",{className:"text-end",children:[S.jsxs("div",{className:"fw-bold text-danger mb-1",children:[Di.symbol,Number(L.toFixed(2)).toLocaleString(void 0,{minimumFractionDigits:2})]}),S.jsx("div",{className:"text-muted small",children:new Date(A.date).toDateString()})]})]}),S.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[S.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>U(A),children:"Details"}),S.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>I(A.id),children:"Delete Entry"})]})]},A.id)})]})]})}),S.jsx(Kb,{show:y,onClose:()=>b(!1),entry:v})]})}const $b="todays_sales",LD=()=>{const i=localStorage.getItem($b);if(!i)return null;try{const e=JSON.parse(i),s=new Date().toDateString();if(e.date===s)return e.sales}catch{return null}return null},ov=i=>{const s={date:new Date().toDateString(),sales:i};localStorage.setItem($b,JSON.stringify(s))};function UD(){const[i,e]=x.useState([]),[s,r]=x.useState(""),[o,u]=x.useState("Today"),[f,h]=x.useState({start:"",end:""}),[m,p]=x.useState(!1),[y,b]=x.useState(null),v=I=>Number(I).toLocaleString(void 0,{minimumFractionDigits:2});x.useEffect(()=>{(async()=>{const A=Wo().currentUser;if(!A)return;const L=Xr(),P=cs(L,`sales/${A.uid}`);let V=!1,F=[];if(o==="Today"&&!s){const ne=LD();ne&&(F=ne,V=!0)}try{const $=(await Hb(P)).val();if(!$&&V){e(F);return}if(!$){e([]);return}const G=Object.entries($).map(([Ge,Ye])=>({...Ye,_id:Ge})),X=new Date,J=new Date(f.start),ce=new Date(f.end),he=G.filter(Ge=>{var q,W;const Ye=new Date(Ge.date),qe=Ye.toDateString()===X.toDateString(),z=X-Ye<=7*24*60*60*1e3,Q=Ye.getMonth()===X.getMonth()&&Ye.getFullYear()===X.getFullYear(),ee=o==="Custom Range"&&f.start&&f.end&&Ye>=J&&Ye<=ce,Se=o==="All Time"||o==="Today"&&qe||o==="This Week"&&z||o==="This Month"&&Q||ee,T=(((q=Ge.name)==null?void 0:q.toLowerCase())||"").includes(s.toLowerCase())||(((W=Ge.supplier)==null?void 0:W.toLowerCase())||"").includes(s.toLowerCase());return Se&&T});e(he),o==="Today"&&!s&&ov(he)}catch(ne){console.error("Error loading sales:",ne),V&&e(F)}})()},[o,s,f]);const N=i.reduce((I,U)=>{const A=parseFloat(U.quantity)||0,L=parseFloat(U.price)||0;return I+A*L},0).toFixed(2),w=async I=>{const U=ue.warning(S.jsxs("div",{children:["Are you sure you want to delete this sale?",S.jsxs("div",{className:"mt-2 d-flex justify-content-end gap-2",children:[S.jsx("button",{className:"btn btn-sm btn-danger",onClick:async()=>{ue.dismiss(U);try{const A=Wo().currentUser;if(!A)return;const L=cs(Xr(),`sales/${A.uid}/${I}`);if(await Pb(L),e(P=>P.filter(V=>V._id!==I)),ue.success("Sale entry deleted successfully."),o==="Today"&&!s){const P=i.filter(V=>V._id!==I);ov(P)}}catch(A){ue.error("Failed to delete the sale. Please try again."),console.error("Delete Sale Error:",A)}},children:"Yes, Delete"}),S.jsx("button",{className:"btn btn-sm btn-secondary",onClick:()=>ue.dismiss(U),children:"Cancel"})]})]}),{autoClose:!1,closeOnClick:!1,closeButton:!1})};return S.jsxs(S.Fragment,{children:[S.jsx(qh,{}),S.jsx("div",{className:"container d-flex justify-content-center my-4",children:S.jsxs("div",{className:"card shadow p-4",style:{width:"100%",maxWidth:"600px"},children:[S.jsx("h3",{className:"fw-bold text-center mb-4",children:"My Sales"}),S.jsxs("div",{className:"rounded-4 text-white text-center p-4 mb-4",style:{background:"linear-gradient(to right, rgb(25, 135, 84), rgb(60, 205, 120))",borderRadius:"1.5rem",boxShadow:"0 3px 10px rgba(31, 182, 112, 0.5)"},children:[S.jsx("p",{className:"mb-1",children:"Total Sales"}),S.jsxs("h2",{className:"fw-bold",children:[Di.symbol,v(N)]}),S.jsx("small",{className:"text-white-70 fw-semibold",children:o==="All Time"?"All Time":o})]}),S.jsxs("div",{className:"mb-3",children:[S.jsxs("select",{className:"form-select mb-2",value:o,onChange:I=>u(I.target.value),children:[S.jsx("option",{children:"Today"}),S.jsx("option",{children:"This Week"}),S.jsx("option",{children:"This Month"}),S.jsx("option",{children:"All Time"}),S.jsx("option",{children:"Custom Range"})]}),o==="Custom Range"&&S.jsxs("div",{className:"d-flex gap-2 mb-2",children:[S.jsx("input",{type:"date",className:"form-control",value:f.start,onChange:I=>h(U=>({...U,start:I.target.value}))}),S.jsx("input",{type:"date",className:"form-control",value:f.end,onChange:I=>h(U=>({...U,end:I.target.value}))})]}),S.jsx("input",{type:"text",className:"form-control mb-2",placeholder:"Search by item or customer...",value:s,onChange:I=>r(I.target.value)})]}),S.jsxs("div",{className:"mt-4",children:[S.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[S.jsx("h6",{className:"fw-bold mb-0",children:"Sale Entries"}),S.jsxs("span",{className:"badge bg-light text-dark",children:[i.length," ",i.length===1?"Entry":"Entries"]})]}),i.length===0&&S.jsx("p",{className:"text-muted",children:"No sales to show."}),i.map(I=>{const U=parseFloat(I.quantity)||0,A=parseFloat(I.price)||0,L=U*A;return S.jsxs("div",{className:"p-3 mb-3 bg-white rounded shadow-sm border",children:[S.jsxs("div",{className:"d-flex justify-content-between",children:[S.jsxs("div",{children:[S.jsx("strong",{className:"mb-1 d-block",children:I.name||"Unnamed Item"}),S.jsxs("div",{className:"text-muted small mb-2",children:["Customer: ",I.supplier||"Unknown"]})]}),S.jsxs("div",{className:"text-end",children:[S.jsxs("div",{className:"fw-bold text-success mb-1",children:[Di.symbol,v(L)]}),S.jsx("div",{className:"text-muted small",children:I.date?new Date(I.date).toDateString():"No Date"})]})]}),S.jsxs("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[S.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{b(I),p(!0)},children:"Details"}),S.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>w(I._id),children:"Delete Entry"})]})]},I._id)})]})]})}),S.jsx(Kb,{show:m,onClose:()=>p(!1),entry:y,type:"sale",title:"Sale Details"})]})}function md({children:i}){const[e,s]=x.useState(!0),[r,o]=x.useState(null);return x.useEffect(()=>{const u=Wo(),f=o0(u,h=>{o(h),s(!1)});return()=>f()},[]),e?S.jsx("div",{children:"Loading..."}):r?i:S.jsx(yv,{to:"/",replace:!0})}function zD(){const[i,e]=x.useState(null);return x.useEffect(()=>{const s=o0(fs,r=>{e(!!r)});return()=>s()},[]),i===null?S.jsx("div",{className:"text-center mt-5",children:"Loading..."}):S.jsxs(Y1,{children:[S.jsxs(E1,{children:[S.jsx(Nr,{path:"/",element:i?S.jsx(yv,{to:"/dashboard",replace:!0}):S.jsx(XO,{})}),S.jsx(Nr,{path:"/dashboard",element:S.jsx(md,{children:S.jsx(ID,{})})}),S.jsx(Nr,{path:"/expenses",element:S.jsx(md,{children:S.jsx(kD,{})})}),S.jsx(Nr,{path:"/sales",element:S.jsx(md,{children:S.jsx(UD,{})})})]}),S.jsx(AD,{position:"top-center",autoClose:3e3})]})}OT.createRoot(document.getElementById("root")).render(S.jsx(x.StrictMode,{children:S.jsx(zD,{})}));
